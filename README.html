<!DOCTYPE html><html><head>
      <title>README</title>
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      
      <link rel="stylesheet" href="file:///c:\Users\Bindz\.vscode\extensions\shd101wyy.markdown-preview-enhanced-0.6.8\node_modules\@shd101wyy\mume\dependencies\katex\katex.min.css">
      
      
      
      
      
      
      
      
      
      <style>
      /**
 * prism.js Github theme based on GitHub's theme.
 * @author Sam Clarke
 */
code[class*="language-"],
pre[class*="language-"] {
  color: #333;
  background: none;
  font-family: Consolas, "Liberation Mono", Menlo, Courier, monospace;
  text-align: left;
  white-space: pre;
  word-spacing: normal;
  word-break: normal;
  word-wrap: normal;
  line-height: 1.4;

  -moz-tab-size: 8;
  -o-tab-size: 8;
  tab-size: 8;

  -webkit-hyphens: none;
  -moz-hyphens: none;
  -ms-hyphens: none;
  hyphens: none;
}

/* Code blocks */
pre[class*="language-"] {
  padding: .8em;
  overflow: auto;
  /* border: 1px solid #ddd; */
  border-radius: 3px;
  /* background: #fff; */
  background: #f5f5f5;
}

/* Inline code */
:not(pre) > code[class*="language-"] {
  padding: .1em;
  border-radius: .3em;
  white-space: normal;
  background: #f5f5f5;
}

.token.comment,
.token.blockquote {
  color: #969896;
}

.token.cdata {
  color: #183691;
}

.token.doctype,
.token.punctuation,
.token.variable,
.token.macro.property {
  color: #333;
}

.token.operator,
.token.important,
.token.keyword,
.token.rule,
.token.builtin {
  color: #a71d5d;
}

.token.string,
.token.url,
.token.regex,
.token.attr-value {
  color: #183691;
}

.token.property,
.token.number,
.token.boolean,
.token.entity,
.token.atrule,
.token.constant,
.token.symbol,
.token.command,
.token.code {
  color: #0086b3;
}

.token.tag,
.token.selector,
.token.prolog {
  color: #63a35c;
}

.token.function,
.token.namespace,
.token.pseudo-element,
.token.class,
.token.class-name,
.token.pseudo-class,
.token.id,
.token.url-reference .token.variable,
.token.attr-name {
  color: #795da3;
}

.token.entity {
  cursor: help;
}

.token.title,
.token.title .token.punctuation {
  font-weight: bold;
  color: #1d3e81;
}

.token.list {
  color: #ed6a43;
}

.token.inserted {
  background-color: #eaffea;
  color: #55a532;
}

.token.deleted {
  background-color: #ffecec;
  color: #bd2c00;
}

.token.bold {
  font-weight: bold;
}

.token.italic {
  font-style: italic;
}


/* JSON */
.language-json .token.property {
  color: #183691;
}

.language-markup .token.tag .token.punctuation {
  color: #333;
}

/* CSS */
code.language-css,
.language-css .token.function {
  color: #0086b3;
}

/* YAML */
.language-yaml .token.atrule {
  color: #63a35c;
}

code.language-yaml {
  color: #183691;
}

/* Ruby */
.language-ruby .token.function {
  color: #333;
}

/* Markdown */
.language-markdown .token.url {
  color: #795da3;
}

/* Makefile */
.language-makefile .token.symbol {
  color: #795da3;
}

.language-makefile .token.variable {
  color: #183691;
}

.language-makefile .token.builtin {
  color: #0086b3;
}

/* Bash */
.language-bash .token.keyword {
  color: #0086b3;
}

/* highlight */
pre[data-line] {
  position: relative;
  padding: 1em 0 1em 3em;
}
pre[data-line] .line-highlight-wrapper {
  position: absolute;
  top: 0;
  left: 0;
  background-color: transparent;
  display: block;
  width: 100%;
}

pre[data-line] .line-highlight {
  position: absolute;
  left: 0;
  right: 0;
  padding: inherit 0;
  margin-top: 1em;
  background: hsla(24, 20%, 50%,.08);
  background: linear-gradient(to right, hsla(24, 20%, 50%,.1) 70%, hsla(24, 20%, 50%,0));
  pointer-events: none;
  line-height: inherit;
  white-space: pre;
}

pre[data-line] .line-highlight:before, 
pre[data-line] .line-highlight[data-end]:after {
  content: attr(data-start);
  position: absolute;
  top: .4em;
  left: .6em;
  min-width: 1em;
  padding: 0 .5em;
  background-color: hsla(24, 20%, 50%,.4);
  color: hsl(24, 20%, 95%);
  font: bold 65%/1.5 sans-serif;
  text-align: center;
  vertical-align: .3em;
  border-radius: 999px;
  text-shadow: none;
  box-shadow: 0 1px white;
}

pre[data-line] .line-highlight[data-end]:after {
  content: attr(data-end);
  top: auto;
  bottom: .4em;
}html body{font-family:"Helvetica Neue",Helvetica,"Segoe UI",Arial,freesans,sans-serif;font-size:16px;line-height:1.6;color:#333;background-color:#fff;overflow:initial;box-sizing:border-box;word-wrap:break-word}html body>:first-child{margin-top:0}html body h1,html body h2,html body h3,html body h4,html body h5,html body h6{line-height:1.2;margin-top:1em;margin-bottom:16px;color:#000}html body h1{font-size:2.25em;font-weight:300;padding-bottom:.3em}html body h2{font-size:1.75em;font-weight:400;padding-bottom:.3em}html body h3{font-size:1.5em;font-weight:500}html body h4{font-size:1.25em;font-weight:600}html body h5{font-size:1.1em;font-weight:600}html body h6{font-size:1em;font-weight:600}html body h1,html body h2,html body h3,html body h4,html body h5{font-weight:600}html body h5{font-size:1em}html body h6{color:#5c5c5c}html body strong{color:#000}html body del{color:#5c5c5c}html body a:not([href]){color:inherit;text-decoration:none}html body a{color:#08c;text-decoration:none}html body a:hover{color:#00a3f5;text-decoration:none}html body img{max-width:100%}html body>p{margin-top:0;margin-bottom:16px;word-wrap:break-word}html body>ul,html body>ol{margin-bottom:16px}html body ul,html body ol{padding-left:2em}html body ul.no-list,html body ol.no-list{padding:0;list-style-type:none}html body ul ul,html body ul ol,html body ol ol,html body ol ul{margin-top:0;margin-bottom:0}html body li{margin-bottom:0}html body li.task-list-item{list-style:none}html body li>p{margin-top:0;margin-bottom:0}html body .task-list-item-checkbox{margin:0 .2em .25em -1.8em;vertical-align:middle}html body .task-list-item-checkbox:hover{cursor:pointer}html body blockquote{margin:16px 0;font-size:inherit;padding:0 15px;color:#5c5c5c;background-color:#f0f0f0;border-left:4px solid #d6d6d6}html body blockquote>:first-child{margin-top:0}html body blockquote>:last-child{margin-bottom:0}html body hr{height:4px;margin:32px 0;background-color:#d6d6d6;border:0 none}html body table{margin:10px 0 15px 0;border-collapse:collapse;border-spacing:0;display:block;width:100%;overflow:auto;word-break:normal;word-break:keep-all}html body table th{font-weight:bold;color:#000}html body table td,html body table th{border:1px solid #d6d6d6;padding:6px 13px}html body dl{padding:0}html body dl dt{padding:0;margin-top:16px;font-size:1em;font-style:italic;font-weight:bold}html body dl dd{padding:0 16px;margin-bottom:16px}html body code{font-family:Menlo,Monaco,Consolas,'Courier New',monospace;font-size:.85em !important;color:#000;background-color:#f0f0f0;border-radius:3px;padding:.2em 0}html body code::before,html body code::after{letter-spacing:-0.2em;content:"\00a0"}html body pre>code{padding:0;margin:0;font-size:.85em !important;word-break:normal;white-space:pre;background:transparent;border:0}html body .highlight{margin-bottom:16px}html body .highlight pre,html body pre{padding:1em;overflow:auto;font-size:.85em !important;line-height:1.45;border:#d6d6d6;border-radius:3px}html body .highlight pre{margin-bottom:0;word-break:normal}html body pre code,html body pre tt{display:inline;max-width:initial;padding:0;margin:0;overflow:initial;line-height:inherit;word-wrap:normal;background-color:transparent;border:0}html body pre code:before,html body pre tt:before,html body pre code:after,html body pre tt:after{content:normal}html body p,html body blockquote,html body ul,html body ol,html body dl,html body pre{margin-top:0;margin-bottom:16px}html body kbd{color:#000;border:1px solid #d6d6d6;border-bottom:2px solid #c7c7c7;padding:2px 4px;background-color:#f0f0f0;border-radius:3px}@media print{html body{background-color:#fff}html body h1,html body h2,html body h3,html body h4,html body h5,html body h6{color:#000;page-break-after:avoid}html body blockquote{color:#5c5c5c}html body pre{page-break-inside:avoid}html body table{display:table}html body img{display:block;max-width:100%;max-height:100%}html body pre,html body code{word-wrap:break-word;white-space:pre}}.markdown-preview{width:100%;height:100%;box-sizing:border-box}.markdown-preview .pagebreak,.markdown-preview .newpage{page-break-before:always}.markdown-preview pre.line-numbers{position:relative;padding-left:3.8em;counter-reset:linenumber}.markdown-preview pre.line-numbers>code{position:relative}.markdown-preview pre.line-numbers .line-numbers-rows{position:absolute;pointer-events:none;top:1em;font-size:100%;left:0;width:3em;letter-spacing:-1px;border-right:1px solid #999;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.markdown-preview pre.line-numbers .line-numbers-rows>span{pointer-events:none;display:block;counter-increment:linenumber}.markdown-preview pre.line-numbers .line-numbers-rows>span:before{content:counter(linenumber);color:#999;display:block;padding-right:.8em;text-align:right}.markdown-preview .mathjax-exps .MathJax_Display{text-align:center !important}.markdown-preview:not([for="preview"]) .code-chunk .btn-group{display:none}.markdown-preview:not([for="preview"]) .code-chunk .status{display:none}.markdown-preview:not([for="preview"]) .code-chunk .output-div{margin-bottom:16px}.markdown-preview .md-toc{padding:0}.markdown-preview .md-toc .md-toc-link-wrapper .md-toc-link{display:inline;padding:.25rem 0}.markdown-preview .md-toc .md-toc-link-wrapper .md-toc-link p,.markdown-preview .md-toc .md-toc-link-wrapper .md-toc-link div{display:inline}.markdown-preview .md-toc .md-toc-link-wrapper.highlighted .md-toc-link{font-weight:800}.scrollbar-style::-webkit-scrollbar{width:8px}.scrollbar-style::-webkit-scrollbar-track{border-radius:10px;background-color:transparent}.scrollbar-style::-webkit-scrollbar-thumb{border-radius:5px;background-color:rgba(150,150,150,0.66);border:4px solid rgba(150,150,150,0.66);background-clip:content-box}html body[for="html-export"]:not([data-presentation-mode]){position:relative;width:100%;height:100%;top:0;left:0;margin:0;padding:0;overflow:auto}html body[for="html-export"]:not([data-presentation-mode]) .markdown-preview{position:relative;top:0}@media screen and (min-width:914px){html body[for="html-export"]:not([data-presentation-mode]) .markdown-preview{padding:2em calc(50% - 457px + 2em)}}@media screen and (max-width:914px){html body[for="html-export"]:not([data-presentation-mode]) .markdown-preview{padding:2em}}@media screen and (max-width:450px){html body[for="html-export"]:not([data-presentation-mode]) .markdown-preview{font-size:14px !important;padding:1em}}@media print{html body[for="html-export"]:not([data-presentation-mode]) #sidebar-toc-btn{display:none}}html body[for="html-export"]:not([data-presentation-mode]) #sidebar-toc-btn{position:fixed;bottom:8px;left:8px;font-size:28px;cursor:pointer;color:inherit;z-index:99;width:32px;text-align:center;opacity:.4}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] #sidebar-toc-btn{opacity:1}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc{position:fixed;top:0;left:0;width:300px;height:100%;padding:32px 0 48px 0;font-size:14px;box-shadow:0 0 4px rgba(150,150,150,0.33);box-sizing:border-box;overflow:auto;background-color:inherit}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc::-webkit-scrollbar{width:8px}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc::-webkit-scrollbar-track{border-radius:10px;background-color:transparent}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc::-webkit-scrollbar-thumb{border-radius:5px;background-color:rgba(150,150,150,0.66);border:4px solid rgba(150,150,150,0.66);background-clip:content-box}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc a{text-decoration:none}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc .md-toc{padding:0 16px}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc .md-toc .md-toc-link-wrapper .md-toc-link{display:inline;padding:.25rem 0}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc .md-toc .md-toc-link-wrapper .md-toc-link p,html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc .md-toc .md-toc-link-wrapper .md-toc-link div{display:inline}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc .md-toc .md-toc-link-wrapper.highlighted .md-toc-link{font-weight:800}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .markdown-preview{left:300px;width:calc(100% -  300px);padding:2em calc(50% - 457px -  300px/2);margin:0;box-sizing:border-box}@media screen and (max-width:1274px){html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .markdown-preview{padding:2em}}@media screen and (max-width:450px){html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .markdown-preview{width:100%}}html body[for="html-export"]:not([data-presentation-mode]):not([html-show-sidebar-toc]) .markdown-preview{left:50%;transform:translateX(-50%)}html body[for="html-export"]:not([data-presentation-mode]):not([html-show-sidebar-toc]) .md-sidebar-toc{display:none}
/* Please visit the URL below for more information: */
/*   https://shd101wyy.github.io/markdown-preview-enhanced/#/customize-css */

      </style>
    </head>
    <body for="html-export">
      <div class="mume markdown-preview  ">
      <h1 class="mume-header" id="jobify">Jobify</h1>

<h4 class="mume-header" id="track-your-job-search">Track Your Job Search</h4>

<p>Project in Action - <a href="https://www.jobify.live/">Jobify</a></p>
<h4 class="mume-header" id="support">Support</h4>

<p>Find the App Useful? <a href="https://www.buymeacoffee.com/johnsmilga">You can always buy me a coffee</a></p>
<h4 class="mume-header" id="run-the-app-locally">Run The App Locally</h4>

<pre data-role="codeBlock" data-info="sh" class="language-bash"><span class="token function">npm</span> run install-dependencies
</pre><ul>
<li>rename .env.temp to .env</li>
<li>setup values for - MONGO_URL, JWT_SECRET, JWT_LIFETIME</li>
</ul>
<pre data-role="codeBlock" data-info="sh" class="language-bash"><span class="token function">npm</span> start
</pre><ul>
<li>visit url <a href="http://localhost:3000/">http://localhost:3000/</a></li>
</ul>
<h4 class="mume-header" id="setup-react-app">Setup React App</h4>

<ul>
<li>create <b>client</b> folder</li>
<li>open terminal</li>
</ul>
<pre data-role="codeBlock" data-info="sh" class="language-bash"><span class="token builtin class-name">cd</span> client
</pre><pre data-role="codeBlock" data-info="sh" class="language-bash">npx create-react-app <span class="token builtin class-name">.</span>
</pre><pre data-role="codeBlock" data-info="sh" class="language-bash"><span class="token function">npm</span> start
</pre><ul>
<li>set editor/browser side by side</li>
<li>copy/paste assets from complete project</li>
</ul>
<h4 class="mume-header" id="spring-cleaning">Spring Cleaning</h4>

<ul>
<li>in src remove</li>
<li>App.css</li>
<li>App.test.js</li>
<li>logo.svg</li>
<li>reportWebVitals.js</li>
<li>setupTests.js</li>
<li>fix App.js and index.js</li>
</ul>
<h4 class="mume-header" id="title-and-favicon">Title and Favicon</h4>

<ul>
<li>change title in public/index.html</li>
<li>replace favicon.ico in public</li>
<li>resource <a href="https://favicon.io/">Generate Favicons</a></li>
</ul>
<h4 class="mume-header" id="normalizecss-and-global-styles">Normalize.css and Global Styles</h4>

<ul>
<li>CSS in JS (styled-components)</li>
<li>saves times on the setup</li>
<li>less lines of css</li>
<li>speeds up the development</li>
<li>normalize.css</li>
<li>small CSS file that provides cross-browser consistency in the default styling of HTML elements.</li>
<li><a href="https://necolas.github.io/normalize.css/">normalize docs</a></li>
</ul>
<pre data-role="codeBlock" data-info="sh" class="language-bash"><span class="token function">npm</span> <span class="token function">install</span> normalize.css
</pre><ul>
<li>import &apos;normalize.css&apos; in index.js</li>
<li>SET BEFORE &apos;index.css&apos;</li>
<li>replace contents of index.css</li>
<li>if any questions about normalize or specific styles</li>
<li>Coding Addict - <a href="https://youtu.be/UDdyGNlQK5w">Default Starter Video</a></li>
<li>Repo - <a href="https://github.com/john-smilga/default-starter">Default Starter Repo</a></li>
</ul>
<h4 class="mume-header" id="landing-page">Landing Page</h4>

<ul>
<li>zoom level 175%</li>
<li>markdown preview extension</li>
<li>get something on the screen</li>
<li>react router and styled components right after</li>
<li>create pages directory in the source</li>
<li>for now Landing.js</li>
<li>create component (snippets extension)</li>
<li>setup basic return</li>
</ul>
<pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token operator">&lt;</span>h4<span class="token operator">&gt;</span><span class="token maybe-class-name">Landing</span> <span class="token maybe-class-name">Page</span><span class="token operator">&lt;</span>h4<span class="token operator">&gt;</span>
</pre><ul>
<li>import logo.svg and main.svg</li>
<li>import Landing in App.js and render</li>
</ul>
<h4 class="mume-header" id="styled-components">Styled Components</h4>

<ul>
<li>CSS in JS</li>
<li>Styled Components</li>
<li>have logic and styles in component</li>
<li>no name collisions</li>
<li>apply javascript logic</li>
<li><a href="https://styled-components.com/">Styled Components Docs</a></li>
<li><a href="https://www.udemy.com/course/styled-components-tutorial-and-project-course/?referralCode=9DABB172FCB2625B663F">Styled Components Course</a></li>
</ul>
<pre data-role="codeBlock" data-info="sh" class="language-bash"><span class="token function">npm</span> <span class="token function">install</span> styled-components
</pre><pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token keyword module keyword-import">import</span> <span class="token imports">styled</span> <span class="token keyword module keyword-from">from</span> <span class="token string">&apos;styled-components&apos;</span><span class="token punctuation">;</span>

<span class="token keyword keyword-const">const</span> <span class="token maybe-class-name">El</span> <span class="token operator">=</span> styled<span class="token punctuation">.</span><span class="token property-access">el</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token embedded-code css">
  // styles go here
</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
</pre><ul>
<li>no name collisions, since unique class</li>
<li>vscode-styled-components extension</li>
<li>colors and bugs</li>
<li>style entire react component</li>
</ul>
<pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token keyword keyword-const">const</span> <span class="token maybe-class-name">Wrapper</span> <span class="token operator">=</span> styled<span class="token punctuation">.</span><span class="token property-access">el</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>

<span class="token keyword keyword-const">const</span> <span class="token function-variable function"><span class="token maybe-class-name">Component</span></span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword control-flow keyword-return">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span><span class="token maybe-class-name">Wrapper</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>h1<span class="token operator">&gt;</span> <span class="token maybe-class-name">Component</span><span class="token operator">&lt;</span><span class="token operator">/</span>h1<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span><span class="token maybe-class-name">Wrapper</span><span class="token operator">&gt;</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</pre><ul>
<li>only responsible for styling</li>
<li>wrappers folder in assets</li>
</ul>
<h4 class="mume-header" id="logo-and-images">Logo and Images</h4>

<ul>
<li>logo built in Figma</li>
<li><a href="https://undraw.co/">Cool Images</a></li>
</ul>
<h4 class="mume-header" id="logo">Logo</h4>

<ul>
<li>create <b>components</b> folder in source</li>
<li>create Logo.js</li>
<li>move import and image logic</li>
<li>export as default</li>
<li>utilize index.js</li>
</ul>
<h4 class="mume-header" id="react-router">React Router</h4>

<ul>
<li>Version 6</li>
<li><a href="https://reactrouter.com/docs/en/v6">React Router Docs</a></li>
</ul>
<pre data-role="codeBlock" data-info="sh" class="language-bash"><span class="token function">npm</span> <span class="token function">install</span> history@5 react-router-dom@6
</pre><ul>
<li>import four components</li>
</ul>
<pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token keyword module keyword-import">import</span> <span class="token imports"><span class="token punctuation">{</span> <span class="token maybe-class-name">BrowserRouter</span><span class="token punctuation">,</span> <span class="token maybe-class-name">Routes</span><span class="token punctuation">,</span> <span class="token maybe-class-name">Route</span><span class="token punctuation">,</span> <span class="token maybe-class-name">Link</span> <span class="token punctuation">}</span></span> <span class="token keyword module keyword-from">from</span> <span class="token string">&apos;react-router-dom&apos;</span><span class="token punctuation">;</span>
</pre><ul>
<li>Connect to browser&apos;s URL with BrowserRouter</li>
<li>Routes instead of Switch</li>
</ul>
<pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token operator">&lt;</span><span class="token maybe-class-name">BrowserRouter</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token maybe-class-name">Routes</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token maybe-class-name">Route</span> path<span class="token operator">=</span><span class="token string">&quot;/&quot;</span> element<span class="token operator">=</span><span class="token punctuation">{</span><span class="token operator">&lt;</span>div<span class="token operator">&gt;</span><span class="token maybe-class-name">Dashboard</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span><span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token maybe-class-name">Route</span> path<span class="token operator">=</span><span class="token string">&quot;/register&quot;</span> element<span class="token operator">=</span><span class="token punctuation">{</span><span class="token operator">&lt;</span>div<span class="token operator">&gt;</span><span class="token maybe-class-name">Register</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span><span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token maybe-class-name">Route</span> path<span class="token operator">=</span><span class="token string">&quot;/landing&quot;</span> element<span class="token operator">=</span><span class="token punctuation">{</span><span class="token operator">&lt;</span><span class="token maybe-class-name">Landing</span> <span class="token operator">/</span><span class="token operator">&gt;</span><span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token maybe-class-name">Route</span> path<span class="token operator">=</span><span class="token string">&quot;*&quot;</span> element<span class="token operator">=</span><span class="token punctuation">{</span><span class="token operator">&lt;</span>div<span class="token operator">&gt;</span><span class="token known-class-name class-name">Error</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span><span class="token punctuation">}</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span><span class="token maybe-class-name">Routes</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span><span class="token maybe-class-name">BrowserRouter</span><span class="token operator">&gt;</span>

</pre><pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token operator">&lt;</span>nav<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span><span class="token maybe-class-name">Link</span> to<span class="token operator">=</span><span class="token string">&apos;/&apos;</span><span class="token operator">&gt;</span><span class="token maybe-class-name">Dashboard</span><span class="token operator">&lt;</span><span class="token operator">/</span><span class="token maybe-class-name">Link</span><span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span><span class="token maybe-class-name">Link</span> to<span class="token operator">=</span><span class="token string">&apos;/register&apos;</span><span class="token operator">&gt;</span><span class="token maybe-class-name">Register</span><span class="token operator">&lt;</span><span class="token operator">/</span><span class="token maybe-class-name">Link</span><span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span><span class="token maybe-class-name">Link</span> to<span class="token operator">=</span><span class="token string">&apos;/landing&apos;</span><span class="token operator">&gt;</span><span class="token maybe-class-name">Home</span><span class="token operator">&lt;</span><span class="token operator">/</span><span class="token maybe-class-name">Link</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>nav<span class="token operator">&gt;</span>
</pre><ul>
<li>go to Landing.js</li>
</ul>
<pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token keyword module keyword-import">import</span> <span class="token imports"><span class="token punctuation">{</span> <span class="token maybe-class-name">Link</span> <span class="token punctuation">}</span></span> <span class="token keyword module keyword-from">from</span> <span class="token string">&apos;react-router-dom&apos;</span><span class="token punctuation">;</span>

<span class="token keyword control-flow keyword-return">return</span> <span class="token punctuation">(</span>
  <span class="token operator">&lt;</span><span class="token maybe-class-name">Link</span> to<span class="token operator">=</span><span class="token string">&apos;/register&apos;</span> className<span class="token operator">=</span><span class="token string">&apos;btn btn-hero&apos;</span><span class="token operator">&gt;</span>
    <span class="token maybe-class-name">Login</span> <span class="token operator">/</span> <span class="token maybe-class-name">Register</span>
  <span class="token operator">&lt;</span><span class="token operator">/</span><span class="token maybe-class-name">Link</span><span class="token operator">&gt;</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</pre><h4 class="mume-header" id="setup-pages">Setup Pages</h4>

<ul>
<li>create Error, Register, Dashboard pages</li>
<li>basic return</li>
<li>create index.js</li>
<li>import all the pages</li>
<li>export one by one</li>
<li>basically the same, as in components</li>
<li>import App.js</li>
<li>add to element={}</li>
<li>remove temp navbar</li>
</ul>
<h4 class="mume-header" id="error-page">Error Page</h4>

<pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token keyword module keyword-import">import</span> <span class="token imports"><span class="token punctuation">{</span> <span class="token maybe-class-name">Link</span> <span class="token punctuation">}</span></span> <span class="token keyword module keyword-from">from</span> <span class="token string">&apos;react-router-dom&apos;</span><span class="token punctuation">;</span>
<span class="token keyword module keyword-import">import</span> <span class="token imports">img</span> <span class="token keyword module keyword-from">from</span> <span class="token string">&apos;../assets/images/not-found.svg&apos;</span><span class="token punctuation">;</span>
<span class="token keyword module keyword-import">import</span> <span class="token imports"><span class="token maybe-class-name">Wrapper</span></span> <span class="token keyword module keyword-from">from</span> <span class="token string">&apos;../assets/wrappers/ErrorPage&apos;</span><span class="token punctuation">;</span>

<span class="token keyword control-flow keyword-return">return</span> <span class="token punctuation">(</span>
  <span class="token operator">&lt;</span><span class="token maybe-class-name">Wrapper</span> className<span class="token operator">=</span><span class="token string">&apos;full-page&apos;</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>img src<span class="token operator">=</span><span class="token punctuation">{</span>img<span class="token punctuation">}</span> alt<span class="token operator">=</span><span class="token string">&apos;not found&apos;</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>h3<span class="token operator">&gt;</span>text<span class="token operator">&lt;</span><span class="token operator">/</span>h3<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>p<span class="token operator">&gt;</span>text<span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token maybe-class-name">Link</span> to<span class="token operator">=</span><span class="token string">&apos;/&apos;</span><span class="token operator">&gt;</span>back home<span class="token operator">&lt;</span><span class="token operator">/</span><span class="token maybe-class-name">Link</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span><span class="token operator">/</span><span class="token maybe-class-name">Wrapper</span><span class="token operator">&gt;</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</pre><h4 class="mume-header" id="auto-imports">Auto Imports</h4>

<ul>
<li>use while developing</li>
<li>only sparingly while recording</li>
<li>better picture</li>
<li>messes with flow</li>
<li>just my preference</li>
<li>still use them, just not all the time</li>
</ul>
<h4 class="mume-header" id="register-page---setup">Register Page - Setup</h4>

<ul>
<li>show preview in Browser and themes</li>
</ul>
<pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token keyword module keyword-import">import</span> <span class="token imports"><span class="token punctuation">{</span> useState<span class="token punctuation">,</span> useEffect <span class="token punctuation">}</span></span> <span class="token keyword module keyword-from">from</span> <span class="token string">&apos;react&apos;</span><span class="token punctuation">;</span>
<span class="token keyword module keyword-import">import</span> <span class="token imports"><span class="token punctuation">{</span> <span class="token maybe-class-name">Logo</span> <span class="token punctuation">}</span></span> <span class="token keyword module keyword-from">from</span> <span class="token string">&apos;../components&apos;</span><span class="token punctuation">;</span>
<span class="token keyword module keyword-import">import</span> <span class="token imports"><span class="token maybe-class-name">Wrapper</span></span> <span class="token keyword module keyword-from">from</span> <span class="token string">&apos;../assets/wrappers/RegisterPage&apos;</span><span class="token punctuation">;</span>
<span class="token comment">// global context and useNavigate later</span>

<span class="token keyword keyword-const">const</span> initialState <span class="token operator">=</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token string">&apos;&apos;</span><span class="token punctuation">,</span>
  email<span class="token operator">:</span> <span class="token string">&apos;&apos;</span><span class="token punctuation">,</span>
  password<span class="token operator">:</span> <span class="token string">&apos;&apos;</span><span class="token punctuation">,</span>
  isMember<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token comment">// if possible prefer local state</span>
<span class="token comment">// global state</span>

<span class="token keyword keyword-function">function</span> <span class="token function"><span class="token maybe-class-name">Register</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword keyword-const">const</span> <span class="token punctuation">[</span>values<span class="token punctuation">,</span> setValues<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span>initialState<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment">// global context and useNavigate later</span>

  <span class="token keyword keyword-const">const</span> <span class="token function-variable function">handleChange</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span><span class="token property-access">target</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>

  <span class="token keyword keyword-const">const</span> <span class="token function-variable function">onSubmit</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
    e<span class="token punctuation">.</span><span class="token method function property-access">preventDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span><span class="token property-access">target</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token keyword control-flow keyword-return">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span><span class="token maybe-class-name">Wrapper</span> className<span class="token operator">=</span><span class="token string">&apos;full-page&apos;</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>form className<span class="token operator">=</span><span class="token string">&apos;form&apos;</span> onSubmit<span class="token operator">=</span><span class="token punctuation">{</span>onSubmit<span class="token punctuation">}</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token maybe-class-name">Logo</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>h3<span class="token operator">&gt;</span><span class="token maybe-class-name">Login</span><span class="token operator">&lt;</span><span class="token operator">/</span>h3<span class="token operator">&gt;</span>

        <span class="token punctuation">{</span><span class="token comment">/* name field */</span><span class="token punctuation">}</span>
        <span class="token operator">&lt;</span>div className<span class="token operator">=</span><span class="token string">&apos;form-row&apos;</span><span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span>label htmlFor<span class="token operator">=</span><span class="token string">&apos;name&apos;</span> className<span class="token operator">=</span><span class="token string">&apos;form-label&apos;</span><span class="token operator">&gt;</span>
            name
          <span class="token operator">&lt;</span><span class="token operator">/</span>label<span class="token operator">&gt;</span>

          <span class="token operator">&lt;</span>input
            type<span class="token operator">=</span><span class="token string">&apos;text&apos;</span>
            value<span class="token operator">=</span><span class="token punctuation">{</span>values<span class="token punctuation">.</span><span class="token property-access">name</span><span class="token punctuation">}</span>
            name<span class="token operator">=</span><span class="token string">&apos;name&apos;</span>
            onChange<span class="token operator">=</span><span class="token punctuation">{</span>handleChange<span class="token punctuation">}</span>
            className<span class="token operator">=</span><span class="token string">&apos;form-input&apos;</span>
          <span class="token operator">/</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>

        <span class="token operator">&lt;</span>button type<span class="token operator">=</span><span class="token string">&apos;submit&apos;</span> className<span class="token operator">=</span><span class="token string">&apos;btn btn-block&apos;</span><span class="token operator">&gt;</span>
          submit
        <span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>form<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span><span class="token maybe-class-name">Wrapper</span><span class="token operator">&gt;</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</pre><h4 class="mume-header" id="formrow-component">FormRow Component</h4>

<ul>
<li>create FormRow.js in <b>components</b></li>
<li>setup import/export</li>
<li>setup one for email and password</li>
<li>hint &quot;type,name,value&quot;</li>
</ul>
<pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token keyword keyword-const">const</span> <span class="token function-variable function"><span class="token maybe-class-name">FormRow</span></span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> type<span class="token punctuation">,</span> name<span class="token punctuation">,</span> value<span class="token punctuation">,</span> handleChange<span class="token punctuation">,</span> labelText <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword control-flow keyword-return">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span>div className<span class="token operator">=</span><span class="token string">&apos;form-row&apos;</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>label htmlFor<span class="token operator">=</span><span class="token punctuation">{</span>name<span class="token punctuation">}</span> className<span class="token operator">=</span><span class="token string">&apos;form-label&apos;</span><span class="token operator">&gt;</span>
        <span class="token punctuation">{</span>labelText <span class="token operator">||</span> name<span class="token punctuation">}</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>label<span class="token operator">&gt;</span>

      <span class="token operator">&lt;</span>input
        type<span class="token operator">=</span><span class="token punctuation">{</span>type<span class="token punctuation">}</span>
        value<span class="token operator">=</span><span class="token punctuation">{</span>value<span class="token punctuation">}</span>
        name<span class="token operator">=</span><span class="token punctuation">{</span>name<span class="token punctuation">}</span>
        onChange<span class="token operator">=</span><span class="token punctuation">{</span>handleChange<span class="token punctuation">}</span>
        className<span class="token operator">=</span><span class="token string">&apos;form-input&apos;</span>
      <span class="token operator">/</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword module keyword-export">export</span> <span class="token keyword module keyword-default">default</span> <span class="token maybe-class-name">FormRow</span><span class="token punctuation">;</span>
</pre><h4 class="mume-header" id="alert-component">Alert Component</h4>

<ul>
<li>right away setup as component</li>
<li>create Alert.js in <b>components</b></li>
</ul>
<pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token keyword keyword-const">const</span> <span class="token function-variable function"><span class="token maybe-class-name">Alert</span></span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword control-flow keyword-return">return</span> <span class="token operator">&lt;</span>div className<span class="token operator">=</span><span class="token string">&apos;alert alert-danger&apos;</span><span class="token operator">&gt;</span>alert goes here<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword module keyword-export">export</span> <span class="token keyword module keyword-default">default</span> <span class="token maybe-class-name">Alert</span><span class="token punctuation">;</span>
</pre><ul>
<li>setup import/export</li>
<li>alert-danger or alert-success</li>
<li>eventually setup in global context</li>
<li>showAlert in initialState (true || false)</li>
<li>right after h3 login</li>
</ul>
<pre data-role="codeBlock" data-info="js" class="language-javascript">values<span class="token punctuation">.</span><span class="token property-access">showAlert</span> <span class="token operator">&amp;&amp;</span> <span class="token operator">&lt;</span><span class="token maybe-class-name">Alert</span> <span class="token operator">/</span><span class="token operator">&gt;</span><span class="token punctuation">;</span>
</pre><h4 class="mume-header" id="toggle-member">Toggle Member</h4>

<pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token keyword keyword-const">const</span> <span class="token function-variable function">toggleMember</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token function">setValues</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token spread operator">...</span>values<span class="token punctuation">,</span> isMember<span class="token operator">:</span> <span class="token operator">!</span>values<span class="token punctuation">.</span><span class="token property-access">isMember</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword control-flow keyword-return">return</span> <span class="token punctuation">(</span>
  <span class="token operator">&lt;</span><span class="token maybe-class-name">Wrapper</span><span class="token operator">&gt;</span>
    <span class="token punctuation">{</span><span class="token comment">/* control h3 */</span><span class="token punctuation">}</span>

    <span class="token operator">&lt;</span>h3<span class="token operator">&gt;</span><span class="token punctuation">{</span>values<span class="token punctuation">.</span><span class="token property-access">isMember</span> <span class="token operator">?</span> <span class="token string">&apos;Login&apos;</span> <span class="token operator">:</span> <span class="token string">&apos;Register&apos;</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>h3<span class="token operator">&gt;</span>

    <span class="token punctuation">{</span><span class="token comment">/* toggle name */</span><span class="token punctuation">}</span>

    <span class="token punctuation">{</span><span class="token operator">!</span>values<span class="token punctuation">.</span><span class="token property-access">isMember</span> <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>
      <span class="token operator">&lt;</span><span class="token maybe-class-name">FormRow</span>
        type<span class="token operator">=</span><span class="token string">&apos;text&apos;</span>
        name<span class="token operator">=</span><span class="token string">&apos;name&apos;</span>
        value<span class="token operator">=</span><span class="token punctuation">{</span>values<span class="token punctuation">.</span><span class="token property-access">name</span><span class="token punctuation">}</span>
        handleChange<span class="token operator">=</span><span class="token punctuation">{</span>handleChange<span class="token punctuation">}</span>
      <span class="token operator">/</span><span class="token operator">&gt;</span>
    <span class="token punctuation">)</span><span class="token punctuation">}</span>

    <span class="token punctuation">{</span><span class="token comment">/* right after submit btn */</span><span class="token punctuation">}</span>
    <span class="token punctuation">{</span><span class="token comment">/* toggle button */</span><span class="token punctuation">}</span>

    <span class="token operator">&lt;</span>p<span class="token operator">&gt;</span>
      <span class="token punctuation">{</span>values<span class="token punctuation">.</span><span class="token property-access">isMember</span> <span class="token operator">?</span> <span class="token string">&apos;Not a member yet?&apos;</span> <span class="token operator">:</span> <span class="token string">&apos;Already a member?&apos;</span><span class="token punctuation">}</span>

      <span class="token operator">&lt;</span>button type<span class="token operator">=</span><span class="token string">&apos;button&apos;</span> onClick<span class="token operator">=</span><span class="token punctuation">{</span>toggleMember<span class="token punctuation">}</span> className<span class="token operator">=</span><span class="token string">&apos;member-btn&apos;</span><span class="token operator">&gt;</span>
        <span class="token punctuation">{</span>values<span class="token punctuation">.</span><span class="token property-access">isMember</span> <span class="token operator">?</span> <span class="token string">&apos;Register&apos;</span> <span class="token operator">:</span> <span class="token string">&apos;Login&apos;</span><span class="token punctuation">}</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span><span class="token operator">/</span><span class="token maybe-class-name">Wrapper</span><span class="token operator">&gt;</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</pre><h4 class="mume-header" id="global-context">Global Context</h4>

<ul>
<li>in src create <b>context</b> directory</li>
<li>actions.js</li>
<li>reducer.js</li>
<li>appContext.js</li>
</ul>
<pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token keyword module keyword-import">import</span> <span class="token imports"><span class="token maybe-class-name">React</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> useState<span class="token punctuation">,</span> useReducer<span class="token punctuation">,</span> useContext <span class="token punctuation">}</span></span> <span class="token keyword module keyword-from">from</span> <span class="token string">&apos;react&apos;</span><span class="token punctuation">;</span>

<span class="token keyword module keyword-export">export</span> <span class="token keyword keyword-const">const</span> initialState <span class="token operator">=</span> <span class="token punctuation">{</span>
  isLoading<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
  showAlert<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
  alertText<span class="token operator">:</span> <span class="token string">&apos;&apos;</span><span class="token punctuation">,</span>
  alertType<span class="token operator">:</span> <span class="token string">&apos;&apos;</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword keyword-const">const</span> <span class="token maybe-class-name">AppContext</span> <span class="token operator">=</span> <span class="token maybe-class-name">React</span><span class="token punctuation">.</span><span class="token method function property-access">createContext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword keyword-const">const</span> <span class="token function-variable function"><span class="token maybe-class-name">AppProvider</span></span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> children <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword keyword-const">const</span> <span class="token punctuation">[</span>state<span class="token punctuation">,</span> setState<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span>initialState<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword control-flow keyword-return">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span><span class="token maybe-class-name">AppContext</span><span class="token punctuation">.</span><span class="token property-access"><span class="token maybe-class-name">Provider</span></span>
      value<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span>
        <span class="token spread operator">...</span>state<span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">}</span>
    <span class="token operator">&gt;</span>
      <span class="token punctuation">{</span>children<span class="token punctuation">}</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span><span class="token maybe-class-name">AppContext</span><span class="token punctuation">.</span><span class="token property-access"><span class="token maybe-class-name">Provider</span></span><span class="token operator">&gt;</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token comment">// make sure use</span>
<span class="token keyword module keyword-export">export</span> <span class="token keyword keyword-const">const</span> <span class="token function-variable function">useAppContext</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword control-flow keyword-return">return</span> <span class="token function">useContext</span><span class="token punctuation">(</span><span class="token maybe-class-name">AppContext</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword module keyword-export">export</span> <span class="token exports"><span class="token punctuation">{</span> <span class="token maybe-class-name">AppProvider</span> <span class="token punctuation">}</span></span><span class="token punctuation">;</span>
</pre><ul>
<li>index.js</li>
</ul>
<pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token keyword module keyword-import">import</span> <span class="token imports"><span class="token punctuation">{</span> <span class="token maybe-class-name">AppProvider</span> <span class="token punctuation">}</span></span> <span class="token keyword module keyword-from">from</span> <span class="token string">&apos;./context/appContext&apos;</span><span class="token punctuation">;</span>

<span class="token maybe-class-name">ReactDOM</span><span class="token punctuation">.</span><span class="token method function property-access">render</span><span class="token punctuation">(</span>
  <span class="token operator">&lt;</span><span class="token maybe-class-name">React</span><span class="token punctuation">.</span><span class="token property-access"><span class="token maybe-class-name">StrictMode</span></span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token maybe-class-name">AppProvider</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token maybe-class-name">App</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span><span class="token maybe-class-name">AppProvider</span><span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span><span class="token operator">/</span><span class="token maybe-class-name">React</span><span class="token punctuation">.</span><span class="token property-access"><span class="token maybe-class-name">StrictMode</span></span><span class="token operator">&gt;</span><span class="token punctuation">,</span>
  <span class="token dom variable">document</span><span class="token punctuation">.</span><span class="token method function property-access">getElementById</span><span class="token punctuation">(</span><span class="token string">&apos;root&apos;</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</pre><ul>
<li>Register.js</li>
</ul>
<pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token keyword module keyword-import">import</span> <span class="token imports"><span class="token punctuation">{</span> useAppContext <span class="token punctuation">}</span></span> <span class="token keyword module keyword-from">from</span> <span class="token string">&apos;../context/appContext&apos;</span><span class="token punctuation">;</span>

<span class="token keyword keyword-const">const</span> <span class="token punctuation">{</span> isLoading<span class="token punctuation">,</span> showAlert <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">useAppContext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</pre><ul>
<li>switch to global showAlert</li>
</ul>
<h4 class="mume-header" id="usereducer">useReducer</h4>

<ul>
<li><a href="https://youtu.be/iZhV0bILFb0">React Tutorial</a></li>
<li>useReducer vs Redux</li>
<li>multiple reducers vs one</li>
</ul>
<h4 class="mume-header" id="wire-up-reducer">Wire Up Reducer</h4>

<pre data-role="codeBlock" data-info="js" class="language-javascript">reducer<span class="token punctuation">.</span><span class="token property-access">js</span><span class="token punctuation">;</span>

<span class="token keyword keyword-const">const</span> <span class="token function-variable function">reducer</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">state<span class="token punctuation">,</span> action</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword control-flow keyword-throw">throw</span> <span class="token keyword keyword-new">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">no such action :</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>action<span class="token punctuation">.</span><span class="token property-access">type</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword module keyword-export">export</span> <span class="token keyword module keyword-default">default</span> reducer<span class="token punctuation">;</span>
</pre><pre data-role="codeBlock" data-info="js" class="language-javascript">appContext<span class="token punctuation">.</span><span class="token property-access">js</span><span class="token punctuation">;</span>

<span class="token keyword module keyword-import">import</span> <span class="token imports">reducer</span> <span class="token keyword module keyword-from">from</span> <span class="token string">&apos;./reducer&apos;</span><span class="token punctuation">;</span>

<span class="token keyword keyword-const">const</span> <span class="token punctuation">[</span>state<span class="token punctuation">,</span> dispatch<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useReducer</span><span class="token punctuation">(</span>reducer<span class="token punctuation">,</span> initialState<span class="token punctuation">)</span><span class="token punctuation">;</span>
</pre><h4 class="mume-header" id="display-alert">Display Alert</h4>

<pre data-role="codeBlock" data-info="js" class="language-javascript">actions<span class="token punctuation">.</span><span class="token property-access">js</span><span class="token punctuation">;</span>

<span class="token keyword module keyword-export">export</span> <span class="token keyword keyword-const">const</span> <span class="token constant">DISPLAY_ALERT</span> <span class="token operator">=</span> <span class="token string">&apos;SHOW_ALERT&apos;</span><span class="token punctuation">;</span>
</pre><ul>
<li>setup imports (reducer and appContext)</li>
</ul>
<pre data-role="codeBlock" data-info="js" class="language-javascript">appContext<span class="token punctuation">.</span><span class="token property-access">js</span>

<span class="token keyword keyword-const">const</span> <span class="token function">displayAlert</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span><span class="token punctuation">{</span>
  <span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token punctuation">{</span>type<span class="token operator">:</span><span class="token constant">DISPLAY_ALERT</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

</pre><pre data-role="codeBlock" data-info="js" class="language-javascript">reducer<span class="token punctuation">.</span><span class="token property-access">js</span><span class="token punctuation">;</span>

<span class="token keyword control-flow keyword-if">if</span> <span class="token punctuation">(</span>action<span class="token punctuation">.</span><span class="token property-access">type</span> <span class="token operator">===</span> <span class="token constant">DISPLAY_ALERT</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword control-flow keyword-return">return</span> <span class="token punctuation">{</span>
    <span class="token spread operator">...</span>state<span class="token punctuation">,</span>
    showAlert<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    alertType<span class="token operator">:</span> <span class="token string">&apos;danger&apos;</span><span class="token punctuation">,</span>
    alertText<span class="token operator">:</span> <span class="token string">&apos;Please provide all values!&apos;</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</pre><pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token maybe-class-name">Alert</span><span class="token punctuation">.</span><span class="token property-access">js</span> <span class="token keyword keyword-in">in</span> <span class="token maybe-class-name">Components</span><span class="token punctuation">;</span>

<span class="token keyword module keyword-import">import</span> <span class="token imports"><span class="token punctuation">{</span> useAppContext <span class="token punctuation">}</span></span> <span class="token keyword module keyword-from">from</span> <span class="token string">&apos;../context/appContext&apos;</span><span class="token punctuation">;</span>

<span class="token keyword keyword-const">const</span> <span class="token function-variable function"><span class="token maybe-class-name">Alert</span></span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword keyword-const">const</span> <span class="token punctuation">{</span> alertType<span class="token punctuation">,</span> alertText <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">useAppContext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword control-flow keyword-return">return</span> <span class="token operator">&lt;</span>div className<span class="token operator">=</span><span class="token punctuation">{</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">alert alert-</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>alertType<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">}</span><span class="token operator">&gt;</span><span class="token punctuation">{</span>alertText<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</pre><h4 class="mume-header" id="display-alert-1">Display Alert</h4>

<ul>
<li><a href="https://youtu.be/_qxCYtWm0tw">JS Nuggets - Dynamic Object Keys</a></li>
</ul>
<pre data-role="codeBlock" data-info="js" class="language-javascript">appContext<span class="token punctuation">.</span><span class="token property-access">js</span><span class="token punctuation">;</span>

<span class="token keyword keyword-const">const</span> <span class="token function-variable function">handleChange</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token function">setValues</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token spread operator">...</span>values<span class="token punctuation">,</span> <span class="token punctuation">[</span>e<span class="token punctuation">.</span><span class="token property-access">target</span><span class="token punctuation">.</span><span class="token property-access">name</span><span class="token punctuation">]</span><span class="token operator">:</span> e<span class="token punctuation">.</span><span class="token property-access">target</span><span class="token punctuation">.</span><span class="token property-access">value</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</pre><ul>
<li>get displayAlert function</li>
</ul>
<pre data-role="codeBlock" data-info="js" class="language-javascript">appContext<span class="token punctuation">.</span><span class="token property-access">js</span><span class="token punctuation">;</span>

<span class="token keyword keyword-const">const</span> <span class="token function-variable function">onSubmit</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
  e<span class="token punctuation">.</span><span class="token method function property-access">preventDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword keyword-const">const</span> <span class="token punctuation">{</span> name<span class="token punctuation">,</span> email<span class="token punctuation">,</span> password<span class="token punctuation">,</span> isMember <span class="token punctuation">}</span> <span class="token operator">=</span> values<span class="token punctuation">;</span>
  <span class="token keyword control-flow keyword-if">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>email <span class="token operator">||</span> <span class="token operator">!</span>password <span class="token operator">||</span> <span class="token punctuation">(</span><span class="token operator">!</span>isMember <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span>name<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">displayAlert</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword control-flow keyword-return">return</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span>values<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</pre><h4 class="mume-header" id="clear-alert">Clear Alert</h4>

<ul>
<li>technically optional</li>
</ul>
<pre data-role="codeBlock" data-info="js" class="language-javascript">actions<span class="token punctuation">.</span><span class="token property-access">js</span><span class="token punctuation">;</span>

<span class="token keyword module keyword-export">export</span> <span class="token keyword keyword-const">const</span> <span class="token constant">CLEAR_ALERT</span> <span class="token operator">=</span> <span class="token string">&apos;CLEAR_ALERT&apos;</span><span class="token punctuation">;</span>
</pre><ul>
<li>setup imports (reducer and appContext)</li>
</ul>
<pre data-role="codeBlock" data-info="js" class="language-javascript">reducer<span class="token punctuation">.</span><span class="token property-access">js</span><span class="token punctuation">;</span>

<span class="token keyword control-flow keyword-if">if</span> <span class="token punctuation">(</span>action<span class="token punctuation">.</span><span class="token property-access">type</span> <span class="token operator">===</span> <span class="token constant">CLEAR_ALERT</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword control-flow keyword-return">return</span> <span class="token punctuation">{</span>
    <span class="token spread operator">...</span>state<span class="token punctuation">,</span>
    showAlert<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    alertType<span class="token operator">:</span> <span class="token string">&apos;&apos;</span><span class="token punctuation">,</span>
    alertText<span class="token operator">:</span> <span class="token string">&apos;&apos;</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</pre><pre data-role="codeBlock" data-info="js" class="language-javascript">appContext<span class="token punctuation">.</span><span class="token property-access">js</span><span class="token punctuation">;</span>

<span class="token keyword keyword-const">const</span> <span class="token function-variable function">displayAlert</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    type<span class="token operator">:</span> <span class="token constant">DISPLAY_ALERT</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">clearAlert</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword keyword-const">const</span> <span class="token function-variable function">clearAlert</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      type<span class="token operator">:</span> <span class="token constant">CLEAR_ALERT</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">3000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</pre><h4 class="mume-header" id="setup-server">Setup Server</h4>

<ul>
<li>stop the dev server in client</li>
<li>cd ..</li>
<li>start setting up our server</li>
<li>setup package.json</li>
</ul>
<pre data-role="codeBlock" data-info="sh" class="language-bash"><span class="token function">npm</span> init -y
</pre><ul>
<li>create server.js</li>
<li>console.log(&apos;server running...&apos;)</li>
</ul>
<pre data-role="codeBlock" data-info="sh" class="language-bash">node server
</pre><h4 class="mume-header" id="es6-vs-commonjs">ES6 vs CommonJS</h4>

<pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token maybe-class-name">CommonJS</span><span class="token punctuation">;</span>

<span class="token keyword keyword-const">const</span> express <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&apos;express&apos;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword keyword-const">const</span> app <span class="token operator">=</span> <span class="token function">express</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</pre><pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token constant">ES6</span><span class="token punctuation">;</span>

<span class="token keyword module keyword-import">import</span> <span class="token imports">express</span> <span class="token keyword module keyword-from">from</span> <span class="token string">&apos;express&apos;</span><span class="token punctuation">;</span>
<span class="token keyword keyword-const">const</span> app <span class="token operator">=</span> <span class="token function">express</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</pre><ul>
<li>file extension .mjs</li>
</ul>
<pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token keyword keyword-package">package</span><span class="token punctuation">.</span><span class="token property-access">json</span>

<span class="token string">&quot;type&quot;</span><span class="token operator">:</span><span class="token string">&quot;module&quot;</span>
</pre><h4 class="mume-header" id="nodemon-and-basic-express-server">Nodemon and Basic Express Server</h4>

<pre data-role="codeBlock" data-info="sh" class="language-bash"><span class="token function">npm</span> <span class="token function">install</span> nodemon --save-dev
</pre><pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token keyword keyword-package">package</span><span class="token punctuation">.</span><span class="token property-access">json</span>

<span class="token string">&quot;start&quot;</span><span class="token operator">:</span><span class="token string">&quot;nodemon server&quot;</span>

</pre><pre data-role="codeBlock" data-info="sh" class="language-bash"><span class="token function">npm</span> <span class="token function">install</span> express
</pre><pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token keyword module keyword-import">import</span> <span class="token imports">express</span> <span class="token keyword module keyword-from">from</span> <span class="token string">&apos;express&apos;</span><span class="token punctuation">;</span>
<span class="token keyword keyword-const">const</span> app <span class="token operator">=</span> <span class="token function">express</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

app<span class="token punctuation">.</span><span class="token method function property-access">get</span><span class="token punctuation">(</span><span class="token string">&apos;/&apos;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
  res<span class="token punctuation">.</span><span class="token method function property-access">send</span><span class="token punctuation">(</span><span class="token string">&apos;Welcome!&apos;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword keyword-const">const</span> port <span class="token operator">=</span> process<span class="token punctuation">.</span><span class="token property-access">env</span><span class="token punctuation">.</span><span class="token constant">PORT</span> <span class="token operator">||</span> <span class="token number">5000</span><span class="token punctuation">;</span>

app<span class="token punctuation">.</span><span class="token method function property-access">listen</span><span class="token punctuation">(</span>port<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Server is listening on port </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>port<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">...</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</pre><h1 class="mume-header" id="jobify-1">Jobify</h1>

<h4 class="mume-header" id="track-your-job-search-1">Track Your Job Search</h4>

<p>Project in Action - <a href="https://www.jobify.live/">Jobify</a></p>
<h4 class="mume-header" id="support-1">Support</h4>

<p>Find the App Useful? <a href="https://www.buymeacoffee.com/johnsmilga">You can always buy me a coffee</a></p>
<h4 class="mume-header" id="run-the-app-locally-1">Run The App Locally</h4>

<pre data-role="codeBlock" data-info="sh" class="language-bash"><span class="token function">npm</span> run install-dependencies
</pre><ul>
<li>rename .env.temp to .env</li>
<li>setup values for - MONGO_URL, JWT_SECRET, JWT_LIFETIME</li>
</ul>
<pre data-role="codeBlock" data-info="sh" class="language-bash"><span class="token function">npm</span> start
</pre><ul>
<li>visit url <a href="http://localhost:3000/">http://localhost:3000/</a></li>
</ul>
<h4 class="mume-header" id="setup-react-app-1">Setup React App</h4>

<ul>
<li>create <b>client</b> folder</li>
<li>open terminal</li>
</ul>
<pre data-role="codeBlock" data-info="sh" class="language-bash"><span class="token builtin class-name">cd</span> client
</pre><pre data-role="codeBlock" data-info="sh" class="language-bash">npx create-react-app <span class="token builtin class-name">.</span>
</pre><pre data-role="codeBlock" data-info="sh" class="language-bash"><span class="token function">npm</span> start
</pre><ul>
<li>set editor/browser side by side</li>
<li>copy/paste assets from complete project</li>
</ul>
<h4 class="mume-header" id="spring-cleaning-1">Spring Cleaning</h4>

<ul>
<li>in src remove</li>
<li>App.css</li>
<li>App.test.js</li>
<li>logo.svg</li>
<li>reportWebVitals.js</li>
<li>setupTests.js</li>
<li>fix App.js and index.js</li>
</ul>
<h4 class="mume-header" id="title-and-favicon-1">Title and Favicon</h4>

<ul>
<li>change title in public/index.html</li>
<li>replace favicon.ico in public</li>
<li>resource <a href="https://favicon.io/">Generate Favicons</a></li>
</ul>
<h4 class="mume-header" id="normalizecss-and-global-styles-1">Normalize.css and Global Styles</h4>

<ul>
<li>CSS in JS (styled-components)</li>
<li>saves times on the setup</li>
<li>less lines of css</li>
<li>speeds up the development</li>
<li>normalize.css</li>
<li>small CSS file that provides cross-browser consistency in the default styling of HTML elements.</li>
<li><a href="https://necolas.github.io/normalize.css/">normalize docs</a></li>
</ul>
<pre data-role="codeBlock" data-info="sh" class="language-bash"><span class="token function">npm</span> <span class="token function">install</span> normalize.css
</pre><ul>
<li>import &apos;normalize.css&apos; in index.js</li>
<li>SET BEFORE &apos;index.css&apos;</li>
<li>replace contents of index.css</li>
<li>if any questions about normalize or specific styles</li>
<li>Coding Addict - <a href="https://youtu.be/UDdyGNlQK5w">Default Starter Video</a></li>
<li>Repo - <a href="https://github.com/john-smilga/default-starter">Default Starter Repo</a></li>
</ul>
<h4 class="mume-header" id="landing-page-1">Landing Page</h4>

<ul>
<li>zoom level 175%</li>
<li>markdown preview extension</li>
<li>get something on the screen</li>
<li>react router and styled components right after</li>
<li>create pages directory in the source</li>
<li>for now Landing.js</li>
<li>create component (snippets extension)</li>
<li>setup basic return</li>
</ul>
<pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token operator">&lt;</span>h4<span class="token operator">&gt;</span><span class="token maybe-class-name">Landing</span> <span class="token maybe-class-name">Page</span><span class="token operator">&lt;</span>h4<span class="token operator">&gt;</span>
</pre><ul>
<li>import logo.svg and main.svg</li>
<li>import Landing in App.js and render</li>
</ul>
<h4 class="mume-header" id="styled-components-1">Styled Components</h4>

<ul>
<li>CSS in JS</li>
<li>Styled Components</li>
<li>have logic and styles in component</li>
<li>no name collisions</li>
<li>apply javascript logic</li>
<li><a href="https://styled-components.com/">Styled Components Docs</a></li>
<li><a href="https://www.udemy.com/course/styled-components-tutorial-and-project-course/?referralCode=9DABB172FCB2625B663F">Styled Components Course</a></li>
</ul>
<pre data-role="codeBlock" data-info="sh" class="language-bash"><span class="token function">npm</span> <span class="token function">install</span> styled-components
</pre><pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token keyword module keyword-import">import</span> <span class="token imports">styled</span> <span class="token keyword module keyword-from">from</span> <span class="token string">&apos;styled-components&apos;</span><span class="token punctuation">;</span>

<span class="token keyword keyword-const">const</span> <span class="token maybe-class-name">El</span> <span class="token operator">=</span> styled<span class="token punctuation">.</span><span class="token property-access">el</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token embedded-code css">
  // styles go here
</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
</pre><ul>
<li>no name collisions, since unique class</li>
<li>vscode-styled-components extension</li>
<li>colors and bugs</li>
<li>style entire react component</li>
</ul>
<pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token keyword keyword-const">const</span> <span class="token maybe-class-name">Wrapper</span> <span class="token operator">=</span> styled<span class="token punctuation">.</span><span class="token property-access">el</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>

<span class="token keyword keyword-const">const</span> <span class="token function-variable function"><span class="token maybe-class-name">Component</span></span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword control-flow keyword-return">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span><span class="token maybe-class-name">Wrapper</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>h1<span class="token operator">&gt;</span> <span class="token maybe-class-name">Component</span><span class="token operator">&lt;</span><span class="token operator">/</span>h1<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span><span class="token maybe-class-name">Wrapper</span><span class="token operator">&gt;</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</pre><ul>
<li>only responsible for styling</li>
<li>wrappers folder in assets</li>
</ul>
<h4 class="mume-header" id="logo-and-images-1">Logo and Images</h4>

<ul>
<li>logo built in Figma</li>
<li><a href="https://undraw.co/">Cool Images</a></li>
</ul>
<h4 class="mume-header" id="logo-1">Logo</h4>

<ul>
<li>create <b>components</b> folder in source</li>
<li>create Logo.js</li>
<li>move import and image logic</li>
<li>export as default</li>
<li>utilize index.js</li>
</ul>
<h4 class="mume-header" id="react-router-1">React Router</h4>

<ul>
<li>Version 6</li>
<li><a href="https://reactrouter.com/docs/en/v6">React Router Docs</a></li>
</ul>
<pre data-role="codeBlock" data-info="sh" class="language-bash"><span class="token function">npm</span> <span class="token function">install</span> history@5 react-router-dom@6
</pre><ul>
<li>import four components</li>
</ul>
<pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token keyword module keyword-import">import</span> <span class="token imports"><span class="token punctuation">{</span> <span class="token maybe-class-name">BrowserRouter</span><span class="token punctuation">,</span> <span class="token maybe-class-name">Routes</span><span class="token punctuation">,</span> <span class="token maybe-class-name">Route</span><span class="token punctuation">,</span> <span class="token maybe-class-name">Link</span> <span class="token punctuation">}</span></span> <span class="token keyword module keyword-from">from</span> <span class="token string">&apos;react-router-dom&apos;</span><span class="token punctuation">;</span>
</pre><ul>
<li>Connect to browser&apos;s URL with BrowserRouter</li>
<li>Routes instead of Switch</li>
</ul>
<pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token operator">&lt;</span><span class="token maybe-class-name">BrowserRouter</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token maybe-class-name">Routes</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token maybe-class-name">Route</span> path<span class="token operator">=</span><span class="token string">&quot;/&quot;</span> element<span class="token operator">=</span><span class="token punctuation">{</span><span class="token operator">&lt;</span>div<span class="token operator">&gt;</span><span class="token maybe-class-name">Dashboard</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span><span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token maybe-class-name">Route</span> path<span class="token operator">=</span><span class="token string">&quot;/register&quot;</span> element<span class="token operator">=</span><span class="token punctuation">{</span><span class="token operator">&lt;</span>div<span class="token operator">&gt;</span><span class="token maybe-class-name">Register</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span><span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token maybe-class-name">Route</span> path<span class="token operator">=</span><span class="token string">&quot;/landing&quot;</span> element<span class="token operator">=</span><span class="token punctuation">{</span><span class="token operator">&lt;</span><span class="token maybe-class-name">Landing</span> <span class="token operator">/</span><span class="token operator">&gt;</span><span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token maybe-class-name">Route</span> path<span class="token operator">=</span><span class="token string">&quot;*&quot;</span> element<span class="token operator">=</span><span class="token punctuation">{</span><span class="token operator">&lt;</span>div<span class="token operator">&gt;</span><span class="token known-class-name class-name">Error</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span><span class="token punctuation">}</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span><span class="token maybe-class-name">Routes</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span><span class="token maybe-class-name">BrowserRouter</span><span class="token operator">&gt;</span>

</pre><pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token operator">&lt;</span>nav<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span><span class="token maybe-class-name">Link</span> to<span class="token operator">=</span><span class="token string">&apos;/&apos;</span><span class="token operator">&gt;</span><span class="token maybe-class-name">Dashboard</span><span class="token operator">&lt;</span><span class="token operator">/</span><span class="token maybe-class-name">Link</span><span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span><span class="token maybe-class-name">Link</span> to<span class="token operator">=</span><span class="token string">&apos;/register&apos;</span><span class="token operator">&gt;</span><span class="token maybe-class-name">Register</span><span class="token operator">&lt;</span><span class="token operator">/</span><span class="token maybe-class-name">Link</span><span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span><span class="token maybe-class-name">Link</span> to<span class="token operator">=</span><span class="token string">&apos;/landing&apos;</span><span class="token operator">&gt;</span><span class="token maybe-class-name">Home</span><span class="token operator">&lt;</span><span class="token operator">/</span><span class="token maybe-class-name">Link</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>nav<span class="token operator">&gt;</span>
</pre><ul>
<li>go to Landing.js</li>
</ul>
<pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token keyword module keyword-import">import</span> <span class="token imports"><span class="token punctuation">{</span> <span class="token maybe-class-name">Link</span> <span class="token punctuation">}</span></span> <span class="token keyword module keyword-from">from</span> <span class="token string">&apos;react-router-dom&apos;</span><span class="token punctuation">;</span>

<span class="token keyword control-flow keyword-return">return</span> <span class="token punctuation">(</span>
  <span class="token operator">&lt;</span><span class="token maybe-class-name">Link</span> to<span class="token operator">=</span><span class="token string">&apos;/register&apos;</span> className<span class="token operator">=</span><span class="token string">&apos;btn btn-hero&apos;</span><span class="token operator">&gt;</span>
    <span class="token maybe-class-name">Login</span> <span class="token operator">/</span> <span class="token maybe-class-name">Register</span>
  <span class="token operator">&lt;</span><span class="token operator">/</span><span class="token maybe-class-name">Link</span><span class="token operator">&gt;</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</pre><h4 class="mume-header" id="setup-pages-1">Setup Pages</h4>

<ul>
<li>create Error, Register, Dashboard pages</li>
<li>basic return</li>
<li>create index.js</li>
<li>import all the pages</li>
<li>export one by one</li>
<li>basically the same, as in components</li>
<li>import App.js</li>
<li>add to element={}</li>
<li>remove temp navbar</li>
</ul>
<h4 class="mume-header" id="error-page-1">Error Page</h4>

<pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token keyword module keyword-import">import</span> <span class="token imports"><span class="token punctuation">{</span> <span class="token maybe-class-name">Link</span> <span class="token punctuation">}</span></span> <span class="token keyword module keyword-from">from</span> <span class="token string">&apos;react-router-dom&apos;</span><span class="token punctuation">;</span>
<span class="token keyword module keyword-import">import</span> <span class="token imports">img</span> <span class="token keyword module keyword-from">from</span> <span class="token string">&apos;../assets/images/not-found.svg&apos;</span><span class="token punctuation">;</span>
<span class="token keyword module keyword-import">import</span> <span class="token imports"><span class="token maybe-class-name">Wrapper</span></span> <span class="token keyword module keyword-from">from</span> <span class="token string">&apos;../assets/wrappers/ErrorPage&apos;</span><span class="token punctuation">;</span>

<span class="token keyword control-flow keyword-return">return</span> <span class="token punctuation">(</span>
  <span class="token operator">&lt;</span><span class="token maybe-class-name">Wrapper</span> className<span class="token operator">=</span><span class="token string">&apos;full-page&apos;</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>img src<span class="token operator">=</span><span class="token punctuation">{</span>img<span class="token punctuation">}</span> alt<span class="token operator">=</span><span class="token string">&apos;not found&apos;</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>h3<span class="token operator">&gt;</span>text<span class="token operator">&lt;</span><span class="token operator">/</span>h3<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>p<span class="token operator">&gt;</span>text<span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token maybe-class-name">Link</span> to<span class="token operator">=</span><span class="token string">&apos;/&apos;</span><span class="token operator">&gt;</span>back home<span class="token operator">&lt;</span><span class="token operator">/</span><span class="token maybe-class-name">Link</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span><span class="token operator">/</span><span class="token maybe-class-name">Wrapper</span><span class="token operator">&gt;</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</pre><h4 class="mume-header" id="auto-imports-1">Auto Imports</h4>

<ul>
<li>use while developing</li>
<li>only sparingly while recording</li>
<li>better picture</li>
<li>messes with flow</li>
<li>just my preference</li>
<li>still use them, just not all the time</li>
</ul>
<h4 class="mume-header" id="register-page---setup-1">Register Page - Setup</h4>

<ul>
<li>show preview in Browser and themes</li>
</ul>
<pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token keyword module keyword-import">import</span> <span class="token imports"><span class="token punctuation">{</span> useState<span class="token punctuation">,</span> useEffect <span class="token punctuation">}</span></span> <span class="token keyword module keyword-from">from</span> <span class="token string">&apos;react&apos;</span><span class="token punctuation">;</span>
<span class="token keyword module keyword-import">import</span> <span class="token imports"><span class="token punctuation">{</span> <span class="token maybe-class-name">Logo</span> <span class="token punctuation">}</span></span> <span class="token keyword module keyword-from">from</span> <span class="token string">&apos;../components&apos;</span><span class="token punctuation">;</span>
<span class="token keyword module keyword-import">import</span> <span class="token imports"><span class="token maybe-class-name">Wrapper</span></span> <span class="token keyword module keyword-from">from</span> <span class="token string">&apos;../assets/wrappers/RegisterPage&apos;</span><span class="token punctuation">;</span>
<span class="token comment">// global context and useNavigate later</span>

<span class="token keyword keyword-const">const</span> initialState <span class="token operator">=</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token string">&apos;&apos;</span><span class="token punctuation">,</span>
  email<span class="token operator">:</span> <span class="token string">&apos;&apos;</span><span class="token punctuation">,</span>
  password<span class="token operator">:</span> <span class="token string">&apos;&apos;</span><span class="token punctuation">,</span>
  isMember<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token comment">// if possible prefer local state</span>
<span class="token comment">// global state</span>

<span class="token keyword keyword-function">function</span> <span class="token function"><span class="token maybe-class-name">Register</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword keyword-const">const</span> <span class="token punctuation">[</span>values<span class="token punctuation">,</span> setValues<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span>initialState<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment">// global context and useNavigate later</span>

  <span class="token keyword keyword-const">const</span> <span class="token function-variable function">handleChange</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span><span class="token property-access">target</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>

  <span class="token keyword keyword-const">const</span> <span class="token function-variable function">onSubmit</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
    e<span class="token punctuation">.</span><span class="token method function property-access">preventDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span><span class="token property-access">target</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token keyword control-flow keyword-return">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span><span class="token maybe-class-name">Wrapper</span> className<span class="token operator">=</span><span class="token string">&apos;full-page&apos;</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>form className<span class="token operator">=</span><span class="token string">&apos;form&apos;</span> onSubmit<span class="token operator">=</span><span class="token punctuation">{</span>onSubmit<span class="token punctuation">}</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token maybe-class-name">Logo</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>h3<span class="token operator">&gt;</span><span class="token maybe-class-name">Login</span><span class="token operator">&lt;</span><span class="token operator">/</span>h3<span class="token operator">&gt;</span>

        <span class="token punctuation">{</span><span class="token comment">/* name field */</span><span class="token punctuation">}</span>
        <span class="token operator">&lt;</span>div className<span class="token operator">=</span><span class="token string">&apos;form-row&apos;</span><span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span>label htmlFor<span class="token operator">=</span><span class="token string">&apos;name&apos;</span> className<span class="token operator">=</span><span class="token string">&apos;form-label&apos;</span><span class="token operator">&gt;</span>
            name
          <span class="token operator">&lt;</span><span class="token operator">/</span>label<span class="token operator">&gt;</span>

          <span class="token operator">&lt;</span>input
            type<span class="token operator">=</span><span class="token string">&apos;text&apos;</span>
            value<span class="token operator">=</span><span class="token punctuation">{</span>values<span class="token punctuation">.</span><span class="token property-access">name</span><span class="token punctuation">}</span>
            name<span class="token operator">=</span><span class="token string">&apos;name&apos;</span>
            onChange<span class="token operator">=</span><span class="token punctuation">{</span>handleChange<span class="token punctuation">}</span>
            className<span class="token operator">=</span><span class="token string">&apos;form-input&apos;</span>
          <span class="token operator">/</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>

        <span class="token operator">&lt;</span>button type<span class="token operator">=</span><span class="token string">&apos;submit&apos;</span> className<span class="token operator">=</span><span class="token string">&apos;btn btn-block&apos;</span><span class="token operator">&gt;</span>
          submit
        <span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>form<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span><span class="token maybe-class-name">Wrapper</span><span class="token operator">&gt;</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</pre><h4 class="mume-header" id="formrow-component-1">FormRow Component</h4>

<ul>
<li>create FormRow.js in <b>components</b></li>
<li>setup import/export</li>
<li>setup one for email and password</li>
<li>hint &quot;type,name,value&quot;</li>
</ul>
<pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token keyword keyword-const">const</span> <span class="token function-variable function"><span class="token maybe-class-name">FormRow</span></span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> type<span class="token punctuation">,</span> name<span class="token punctuation">,</span> value<span class="token punctuation">,</span> handleChange<span class="token punctuation">,</span> labelText <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword control-flow keyword-return">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span>div className<span class="token operator">=</span><span class="token string">&apos;form-row&apos;</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>label htmlFor<span class="token operator">=</span><span class="token punctuation">{</span>name<span class="token punctuation">}</span> className<span class="token operator">=</span><span class="token string">&apos;form-label&apos;</span><span class="token operator">&gt;</span>
        <span class="token punctuation">{</span>labelText <span class="token operator">||</span> name<span class="token punctuation">}</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>label<span class="token operator">&gt;</span>

      <span class="token operator">&lt;</span>input
        type<span class="token operator">=</span><span class="token punctuation">{</span>type<span class="token punctuation">}</span>
        value<span class="token operator">=</span><span class="token punctuation">{</span>value<span class="token punctuation">}</span>
        name<span class="token operator">=</span><span class="token punctuation">{</span>name<span class="token punctuation">}</span>
        onChange<span class="token operator">=</span><span class="token punctuation">{</span>handleChange<span class="token punctuation">}</span>
        className<span class="token operator">=</span><span class="token string">&apos;form-input&apos;</span>
      <span class="token operator">/</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword module keyword-export">export</span> <span class="token keyword module keyword-default">default</span> <span class="token maybe-class-name">FormRow</span><span class="token punctuation">;</span>
</pre><h4 class="mume-header" id="alert-component-1">Alert Component</h4>

<ul>
<li>right away setup as component</li>
<li>create Alert.js in <b>components</b></li>
</ul>
<pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token keyword keyword-const">const</span> <span class="token function-variable function"><span class="token maybe-class-name">Alert</span></span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword control-flow keyword-return">return</span> <span class="token operator">&lt;</span>div className<span class="token operator">=</span><span class="token string">&apos;alert alert-danger&apos;</span><span class="token operator">&gt;</span>alert goes here<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword module keyword-export">export</span> <span class="token keyword module keyword-default">default</span> <span class="token maybe-class-name">Alert</span><span class="token punctuation">;</span>
</pre><ul>
<li>setup import/export</li>
<li>alert-danger or alert-success</li>
<li>eventually setup in global context</li>
<li>showAlert in initialState (true || false)</li>
<li>right after h3 login</li>
</ul>
<pre data-role="codeBlock" data-info="js" class="language-javascript">values<span class="token punctuation">.</span><span class="token property-access">showAlert</span> <span class="token operator">&amp;&amp;</span> <span class="token operator">&lt;</span><span class="token maybe-class-name">Alert</span> <span class="token operator">/</span><span class="token operator">&gt;</span><span class="token punctuation">;</span>
</pre><h4 class="mume-header" id="toggle-member-1">Toggle Member</h4>

<pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token keyword keyword-const">const</span> <span class="token function-variable function">toggleMember</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token function">setValues</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token spread operator">...</span>values<span class="token punctuation">,</span> isMember<span class="token operator">:</span> <span class="token operator">!</span>values<span class="token punctuation">.</span><span class="token property-access">isMember</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword control-flow keyword-return">return</span> <span class="token punctuation">(</span>
  <span class="token operator">&lt;</span><span class="token maybe-class-name">Wrapper</span><span class="token operator">&gt;</span>
    <span class="token punctuation">{</span><span class="token comment">/* control h3 */</span><span class="token punctuation">}</span>

    <span class="token operator">&lt;</span>h3<span class="token operator">&gt;</span><span class="token punctuation">{</span>values<span class="token punctuation">.</span><span class="token property-access">isMember</span> <span class="token operator">?</span> <span class="token string">&apos;Login&apos;</span> <span class="token operator">:</span> <span class="token string">&apos;Register&apos;</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>h3<span class="token operator">&gt;</span>

    <span class="token punctuation">{</span><span class="token comment">/* toggle name */</span><span class="token punctuation">}</span>

    <span class="token punctuation">{</span><span class="token operator">!</span>values<span class="token punctuation">.</span><span class="token property-access">isMember</span> <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>
      <span class="token operator">&lt;</span><span class="token maybe-class-name">FormRow</span>
        type<span class="token operator">=</span><span class="token string">&apos;text&apos;</span>
        name<span class="token operator">=</span><span class="token string">&apos;name&apos;</span>
        value<span class="token operator">=</span><span class="token punctuation">{</span>values<span class="token punctuation">.</span><span class="token property-access">name</span><span class="token punctuation">}</span>
        handleChange<span class="token operator">=</span><span class="token punctuation">{</span>handleChange<span class="token punctuation">}</span>
      <span class="token operator">/</span><span class="token operator">&gt;</span>
    <span class="token punctuation">)</span><span class="token punctuation">}</span>

    <span class="token punctuation">{</span><span class="token comment">/* right after submit btn */</span><span class="token punctuation">}</span>
    <span class="token punctuation">{</span><span class="token comment">/* toggle button */</span><span class="token punctuation">}</span>

    <span class="token operator">&lt;</span>p<span class="token operator">&gt;</span>
      <span class="token punctuation">{</span>values<span class="token punctuation">.</span><span class="token property-access">isMember</span> <span class="token operator">?</span> <span class="token string">&apos;Not a member yet?&apos;</span> <span class="token operator">:</span> <span class="token string">&apos;Already a member?&apos;</span><span class="token punctuation">}</span>

      <span class="token operator">&lt;</span>button type<span class="token operator">=</span><span class="token string">&apos;button&apos;</span> onClick<span class="token operator">=</span><span class="token punctuation">{</span>toggleMember<span class="token punctuation">}</span> className<span class="token operator">=</span><span class="token string">&apos;member-btn&apos;</span><span class="token operator">&gt;</span>
        <span class="token punctuation">{</span>values<span class="token punctuation">.</span><span class="token property-access">isMember</span> <span class="token operator">?</span> <span class="token string">&apos;Register&apos;</span> <span class="token operator">:</span> <span class="token string">&apos;Login&apos;</span><span class="token punctuation">}</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span><span class="token operator">/</span><span class="token maybe-class-name">Wrapper</span><span class="token operator">&gt;</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</pre><h4 class="mume-header" id="global-context-1">Global Context</h4>

<ul>
<li>in src create <b>context</b> directory</li>
<li>actions.js</li>
<li>reducer.js</li>
<li>appContext.js</li>
</ul>
<pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token keyword module keyword-import">import</span> <span class="token imports"><span class="token maybe-class-name">React</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> useState<span class="token punctuation">,</span> useReducer<span class="token punctuation">,</span> useContext <span class="token punctuation">}</span></span> <span class="token keyword module keyword-from">from</span> <span class="token string">&apos;react&apos;</span><span class="token punctuation">;</span>

<span class="token keyword module keyword-export">export</span> <span class="token keyword keyword-const">const</span> initialState <span class="token operator">=</span> <span class="token punctuation">{</span>
  isLoading<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
  showAlert<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
  alertText<span class="token operator">:</span> <span class="token string">&apos;&apos;</span><span class="token punctuation">,</span>
  alertType<span class="token operator">:</span> <span class="token string">&apos;&apos;</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword keyword-const">const</span> <span class="token maybe-class-name">AppContext</span> <span class="token operator">=</span> <span class="token maybe-class-name">React</span><span class="token punctuation">.</span><span class="token method function property-access">createContext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword keyword-const">const</span> <span class="token function-variable function"><span class="token maybe-class-name">AppProvider</span></span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> children <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword keyword-const">const</span> <span class="token punctuation">[</span>state<span class="token punctuation">,</span> setState<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span>initialState<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword control-flow keyword-return">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span><span class="token maybe-class-name">AppContext</span><span class="token punctuation">.</span><span class="token property-access"><span class="token maybe-class-name">Provider</span></span>
      value<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span>
        <span class="token spread operator">...</span>state<span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">}</span>
    <span class="token operator">&gt;</span>
      <span class="token punctuation">{</span>children<span class="token punctuation">}</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span><span class="token maybe-class-name">AppContext</span><span class="token punctuation">.</span><span class="token property-access"><span class="token maybe-class-name">Provider</span></span><span class="token operator">&gt;</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token comment">// make sure use</span>
<span class="token keyword module keyword-export">export</span> <span class="token keyword keyword-const">const</span> <span class="token function-variable function">useAppContext</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword control-flow keyword-return">return</span> <span class="token function">useContext</span><span class="token punctuation">(</span><span class="token maybe-class-name">AppContext</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword module keyword-export">export</span> <span class="token exports"><span class="token punctuation">{</span> <span class="token maybe-class-name">AppProvider</span> <span class="token punctuation">}</span></span><span class="token punctuation">;</span>
</pre><ul>
<li>index.js</li>
</ul>
<pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token keyword module keyword-import">import</span> <span class="token imports"><span class="token punctuation">{</span> <span class="token maybe-class-name">AppProvider</span> <span class="token punctuation">}</span></span> <span class="token keyword module keyword-from">from</span> <span class="token string">&apos;./context/appContext&apos;</span><span class="token punctuation">;</span>

<span class="token maybe-class-name">ReactDOM</span><span class="token punctuation">.</span><span class="token method function property-access">render</span><span class="token punctuation">(</span>
  <span class="token operator">&lt;</span><span class="token maybe-class-name">React</span><span class="token punctuation">.</span><span class="token property-access"><span class="token maybe-class-name">StrictMode</span></span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token maybe-class-name">AppProvider</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token maybe-class-name">App</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span><span class="token maybe-class-name">AppProvider</span><span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span><span class="token operator">/</span><span class="token maybe-class-name">React</span><span class="token punctuation">.</span><span class="token property-access"><span class="token maybe-class-name">StrictMode</span></span><span class="token operator">&gt;</span><span class="token punctuation">,</span>
  <span class="token dom variable">document</span><span class="token punctuation">.</span><span class="token method function property-access">getElementById</span><span class="token punctuation">(</span><span class="token string">&apos;root&apos;</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</pre><ul>
<li>Register.js</li>
</ul>
<pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token keyword module keyword-import">import</span> <span class="token imports"><span class="token punctuation">{</span> useAppContext <span class="token punctuation">}</span></span> <span class="token keyword module keyword-from">from</span> <span class="token string">&apos;../context/appContext&apos;</span><span class="token punctuation">;</span>

<span class="token keyword keyword-const">const</span> <span class="token punctuation">{</span> isLoading<span class="token punctuation">,</span> showAlert <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">useAppContext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</pre><ul>
<li>switch to global showAlert</li>
</ul>
<h4 class="mume-header" id="usereducer-1">useReducer</h4>

<ul>
<li><a href="https://youtu.be/iZhV0bILFb0">React Tutorial</a></li>
<li>useReducer vs Redux</li>
<li>multiple reducers vs one</li>
</ul>
<h4 class="mume-header" id="wire-up-reducer-1">Wire Up Reducer</h4>

<pre data-role="codeBlock" data-info="js" class="language-javascript">reducer<span class="token punctuation">.</span><span class="token property-access">js</span><span class="token punctuation">;</span>

<span class="token keyword keyword-const">const</span> <span class="token function-variable function">reducer</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">state<span class="token punctuation">,</span> action</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword control-flow keyword-throw">throw</span> <span class="token keyword keyword-new">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">no such action :</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>action<span class="token punctuation">.</span><span class="token property-access">type</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword module keyword-export">export</span> <span class="token keyword module keyword-default">default</span> reducer<span class="token punctuation">;</span>
</pre><pre data-role="codeBlock" data-info="js" class="language-javascript">appContext<span class="token punctuation">.</span><span class="token property-access">js</span><span class="token punctuation">;</span>

<span class="token keyword module keyword-import">import</span> <span class="token imports">reducer</span> <span class="token keyword module keyword-from">from</span> <span class="token string">&apos;./reducer&apos;</span><span class="token punctuation">;</span>

<span class="token keyword keyword-const">const</span> <span class="token punctuation">[</span>state<span class="token punctuation">,</span> dispatch<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useReducer</span><span class="token punctuation">(</span>reducer<span class="token punctuation">,</span> initialState<span class="token punctuation">)</span><span class="token punctuation">;</span>
</pre><h4 class="mume-header" id="display-alert-2">Display Alert</h4>

<pre data-role="codeBlock" data-info="js" class="language-javascript">actions<span class="token punctuation">.</span><span class="token property-access">js</span><span class="token punctuation">;</span>

<span class="token keyword module keyword-export">export</span> <span class="token keyword keyword-const">const</span> <span class="token constant">DISPLAY_ALERT</span> <span class="token operator">=</span> <span class="token string">&apos;SHOW_ALERT&apos;</span><span class="token punctuation">;</span>
</pre><ul>
<li>setup imports (reducer and appContext)</li>
</ul>
<pre data-role="codeBlock" data-info="js" class="language-javascript">appContext<span class="token punctuation">.</span><span class="token property-access">js</span>

<span class="token keyword keyword-const">const</span> <span class="token function">displayAlert</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span><span class="token punctuation">{</span>
  <span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token punctuation">{</span>type<span class="token operator">:</span><span class="token constant">DISPLAY_ALERT</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

</pre><pre data-role="codeBlock" data-info="js" class="language-javascript">reducer<span class="token punctuation">.</span><span class="token property-access">js</span><span class="token punctuation">;</span>

<span class="token keyword control-flow keyword-if">if</span> <span class="token punctuation">(</span>action<span class="token punctuation">.</span><span class="token property-access">type</span> <span class="token operator">===</span> <span class="token constant">DISPLAY_ALERT</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword control-flow keyword-return">return</span> <span class="token punctuation">{</span>
    <span class="token spread operator">...</span>state<span class="token punctuation">,</span>
    showAlert<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    alertType<span class="token operator">:</span> <span class="token string">&apos;danger&apos;</span><span class="token punctuation">,</span>
    alertText<span class="token operator">:</span> <span class="token string">&apos;Please provide all values!&apos;</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</pre><pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token maybe-class-name">Alert</span><span class="token punctuation">.</span><span class="token property-access">js</span> <span class="token keyword keyword-in">in</span> <span class="token maybe-class-name">Components</span><span class="token punctuation">;</span>

<span class="token keyword module keyword-import">import</span> <span class="token imports"><span class="token punctuation">{</span> useAppContext <span class="token punctuation">}</span></span> <span class="token keyword module keyword-from">from</span> <span class="token string">&apos;../context/appContext&apos;</span><span class="token punctuation">;</span>

<span class="token keyword keyword-const">const</span> <span class="token function-variable function"><span class="token maybe-class-name">Alert</span></span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword keyword-const">const</span> <span class="token punctuation">{</span> alertType<span class="token punctuation">,</span> alertText <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">useAppContext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword control-flow keyword-return">return</span> <span class="token operator">&lt;</span>div className<span class="token operator">=</span><span class="token punctuation">{</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">alert alert-</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>alertType<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">}</span><span class="token operator">&gt;</span><span class="token punctuation">{</span>alertText<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</pre><h4 class="mume-header" id="display-alert-3">Display Alert</h4>

<ul>
<li><a href="https://youtu.be/_qxCYtWm0tw">JS Nuggets - Dynamic Object Keys</a></li>
</ul>
<pre data-role="codeBlock" data-info="js" class="language-javascript">appContext<span class="token punctuation">.</span><span class="token property-access">js</span><span class="token punctuation">;</span>

<span class="token keyword keyword-const">const</span> <span class="token function-variable function">handleChange</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token function">setValues</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token spread operator">...</span>values<span class="token punctuation">,</span> <span class="token punctuation">[</span>e<span class="token punctuation">.</span><span class="token property-access">target</span><span class="token punctuation">.</span><span class="token property-access">name</span><span class="token punctuation">]</span><span class="token operator">:</span> e<span class="token punctuation">.</span><span class="token property-access">target</span><span class="token punctuation">.</span><span class="token property-access">value</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</pre><ul>
<li>get displayAlert function</li>
</ul>
<pre data-role="codeBlock" data-info="js" class="language-javascript">appContext<span class="token punctuation">.</span><span class="token property-access">js</span><span class="token punctuation">;</span>

<span class="token keyword keyword-const">const</span> <span class="token function-variable function">onSubmit</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
  e<span class="token punctuation">.</span><span class="token method function property-access">preventDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword keyword-const">const</span> <span class="token punctuation">{</span> name<span class="token punctuation">,</span> email<span class="token punctuation">,</span> password<span class="token punctuation">,</span> isMember <span class="token punctuation">}</span> <span class="token operator">=</span> values<span class="token punctuation">;</span>
  <span class="token keyword control-flow keyword-if">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>email <span class="token operator">||</span> <span class="token operator">!</span>password <span class="token operator">||</span> <span class="token punctuation">(</span><span class="token operator">!</span>isMember <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span>name<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">displayAlert</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword control-flow keyword-return">return</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span>values<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</pre><h4 class="mume-header" id="clear-alert-1">Clear Alert</h4>

<ul>
<li>technically optional</li>
</ul>
<pre data-role="codeBlock" data-info="js" class="language-javascript">actions<span class="token punctuation">.</span><span class="token property-access">js</span><span class="token punctuation">;</span>

<span class="token keyword module keyword-export">export</span> <span class="token keyword keyword-const">const</span> <span class="token constant">CLEAR_ALERT</span> <span class="token operator">=</span> <span class="token string">&apos;CLEAR_ALERT&apos;</span><span class="token punctuation">;</span>
</pre><ul>
<li>setup imports (reducer and appContext)</li>
</ul>
<pre data-role="codeBlock" data-info="js" class="language-javascript">reducer<span class="token punctuation">.</span><span class="token property-access">js</span><span class="token punctuation">;</span>

<span class="token keyword control-flow keyword-if">if</span> <span class="token punctuation">(</span>action<span class="token punctuation">.</span><span class="token property-access">type</span> <span class="token operator">===</span> <span class="token constant">CLEAR_ALERT</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword control-flow keyword-return">return</span> <span class="token punctuation">{</span>
    <span class="token spread operator">...</span>state<span class="token punctuation">,</span>
    showAlert<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    alertType<span class="token operator">:</span> <span class="token string">&apos;&apos;</span><span class="token punctuation">,</span>
    alertText<span class="token operator">:</span> <span class="token string">&apos;&apos;</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</pre><pre data-role="codeBlock" data-info="js" class="language-javascript">appContext<span class="token punctuation">.</span><span class="token property-access">js</span><span class="token punctuation">;</span>

<span class="token keyword keyword-const">const</span> <span class="token function-variable function">displayAlert</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    type<span class="token operator">:</span> <span class="token constant">DISPLAY_ALERT</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">clearAlert</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword keyword-const">const</span> <span class="token function-variable function">clearAlert</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      type<span class="token operator">:</span> <span class="token constant">CLEAR_ALERT</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">3000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</pre><h4 class="mume-header" id="setup-server-1">Setup Server</h4>

<ul>
<li>stop the dev server in client</li>
<li>cd ..</li>
<li>start setting up our server</li>
<li>setup package.json</li>
</ul>
<pre data-role="codeBlock" data-info="sh" class="language-bash"><span class="token function">npm</span> init -y
</pre><ul>
<li>create server.js</li>
<li>console.log(&apos;server running...&apos;)</li>
</ul>
<pre data-role="codeBlock" data-info="sh" class="language-bash">node server
</pre><h4 class="mume-header" id="es6-vs-commonjs-1">ES6 vs CommonJS</h4>

<pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token maybe-class-name">CommonJS</span><span class="token punctuation">;</span>

<span class="token keyword keyword-const">const</span> express <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&apos;express&apos;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword keyword-const">const</span> app <span class="token operator">=</span> <span class="token function">express</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</pre><pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token constant">ES6</span><span class="token punctuation">;</span>

<span class="token keyword module keyword-import">import</span> <span class="token imports">express</span> <span class="token keyword module keyword-from">from</span> <span class="token string">&apos;express&apos;</span><span class="token punctuation">;</span>
<span class="token keyword keyword-const">const</span> app <span class="token operator">=</span> <span class="token function">express</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</pre><ul>
<li>file extension .mjs</li>
</ul>
<pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token keyword keyword-package">package</span><span class="token punctuation">.</span><span class="token property-access">json</span>

<span class="token string">&quot;type&quot;</span><span class="token operator">:</span><span class="token string">&quot;module&quot;</span>
</pre><h4 class="mume-header" id="nodemon-and-basic-express-server-1">Nodemon and Basic Express Server</h4>

<pre data-role="codeBlock" data-info="sh" class="language-bash"><span class="token function">npm</span> <span class="token function">install</span> nodemon --save-dev
</pre><pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token keyword keyword-package">package</span><span class="token punctuation">.</span><span class="token property-access">json</span>

<span class="token string">&quot;start&quot;</span><span class="token operator">:</span><span class="token string">&quot;nodemon server&quot;</span>

</pre><pre data-role="codeBlock" data-info="sh" class="language-bash"><span class="token function">npm</span> <span class="token function">install</span> express
</pre><pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token keyword module keyword-import">import</span> <span class="token imports">express</span> <span class="token keyword module keyword-from">from</span> <span class="token string">&apos;express&apos;</span><span class="token punctuation">;</span>
<span class="token keyword keyword-const">const</span> app <span class="token operator">=</span> <span class="token function">express</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

app<span class="token punctuation">.</span><span class="token method function property-access">get</span><span class="token punctuation">(</span><span class="token string">&apos;/&apos;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
  res<span class="token punctuation">.</span><span class="token method function property-access">send</span><span class="token punctuation">(</span><span class="token string">&apos;Welcome!&apos;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword keyword-const">const</span> port <span class="token operator">=</span> process<span class="token punctuation">.</span><span class="token property-access">env</span><span class="token punctuation">.</span><span class="token constant">PORT</span> <span class="token operator">||</span> <span class="token number">5000</span><span class="token punctuation">;</span>

app<span class="token punctuation">.</span><span class="token method function property-access">listen</span><span class="token punctuation">(</span>port<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Server is listening on port </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>port<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">...</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</pre><h4 class="mume-header" id="not-found-middleware">Not Found Middleware</h4>

<ul>
<li>in the root create <b>middleware</b> folder</li>
<li>not-found.js</li>
<li>setup function</li>
<li>return 404 with message &apos;Route does not exist&apos;</li>
<li>import in server.js</li>
<li>make sure to use .js extension</li>
<li>place after home route</li>
</ul>
<h4 class="mume-header" id="error-middleware">Error Middleware</h4>

<ul>
<li>in the middleware create error-handler.js</li>
<li>setup function</li>
<li>accept 4 parameters, first one error</li>
<li>log error</li>
<li>return 500</li>
<li>json({msg:&apos;there was an error&apos;})</li>
<li>import in the server.js</li>
<li>make sure to use .js extension</li>
<li>place it last</li>
<li>eventually handle Mongoose Errors, just like in the node-express</li>
<li>showcase with async errors</li>
</ul>
<h4 class="mume-header" id="env-variables">ENV Variables</h4>

<pre data-role="codeBlock" data-info="sh" class="language-bash"><span class="token function">npm</span> <span class="token function">install</span> dotenv
</pre><ul>
<li>
<p>import dotenv from &apos;dotenv&apos;</p>
</li>
<li>
<p>dotenv.config()</p>
</li>
<li>
<p>create .env</p>
</li>
<li>
<p>PORT=4000</p>
</li>
<li>
<p>.gitignore</p>
</li>
<li>
<p>/node_modules</p>
</li>
<li>
<p>.env</p>
</li>
</ul>
<h4 class="mume-header" id="connect-to-mongodb">Connect to MongoDB</h4>

<ul>
<li>
<p>switched back to PORT=5000</p>
</li>
<li>
<p>remove Error from &apos;/&apos;</p>
</li>
<li>
<p>existing MongoDB Atlas Account</p>
</li>
</ul>
<pre data-role="codeBlock" data-info="sh" class="language-bash"><span class="token function">npm</span> <span class="token function">install</span> mongoose
</pre><ul>
<li>create <b>db</b> folder</li>
<li>create connect.js</li>
<li>setup connectDB(url)</li>
<li>in server.js create start() function</li>
<li>get connection string</li>
<li>setup as MONGO_URL in .env</li>
<li>provide credentials and DB Name</li>
</ul>
<h4 class="mume-header" id="auth-controller-and-route-structure">Auth Controller and Route Structure</h4>

<ul>
<li>create <b>controllers</b></li>
<li>authController.js</li>
<li>create async functions</li>
</ul>
<pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token keyword module keyword-export">export</span> <span class="token exports"><span class="token punctuation">{</span> register<span class="token punctuation">,</span> login<span class="token punctuation">,</span> updateUser <span class="token punctuation">}</span></span><span class="token punctuation">;</span>
</pre><ul>
<li>return res.send(&apos;function name&apos;)</li>
<li>create <b>routes</b> folder</li>
<li>authRoutes.js</li>
<li>setup express router</li>
<li>import functions from authController.js</li>
</ul>
<pre data-role="codeBlock" data-info="js" class="language-javascript">router<span class="token punctuation">.</span><span class="token method function property-access">route</span><span class="token punctuation">(</span><span class="token string">&apos;/register&apos;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">post</span><span class="token punctuation">(</span>register<span class="token punctuation">)</span><span class="token punctuation">;</span>
router<span class="token punctuation">.</span><span class="token method function property-access">route</span><span class="token punctuation">(</span><span class="token string">&apos;/login&apos;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">post</span><span class="token punctuation">(</span>login<span class="token punctuation">)</span><span class="token punctuation">;</span>
router<span class="token punctuation">.</span><span class="token method function property-access">route</span><span class="token punctuation">(</span><span class="token string">&apos;/updateUser&apos;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">patch</span><span class="token punctuation">(</span>updateUser<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword module keyword-export">export</span> <span class="token keyword module keyword-default">default</span> router<span class="token punctuation">;</span>
</pre><ul>
<li>import authRouter in server.js</li>
</ul>
<pre data-role="codeBlock" data-info="js" class="language-javascript">app<span class="token punctuation">.</span><span class="token method function property-access">use</span><span class="token punctuation">(</span><span class="token string">&apos;/api/v1/auth&apos;</span><span class="token punctuation">,</span> authRouter<span class="token punctuation">)</span><span class="token punctuation">;</span>
</pre><h4 class="mume-header" id="jobs-controller-and-route-structure">Jobs Controller and Route Structure</h4>

<ul>
<li>jobsController.js</li>
<li>create async functions</li>
</ul>
<pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token keyword module keyword-export">export</span> <span class="token exports"><span class="token punctuation">{</span> createJob<span class="token punctuation">,</span> deleteJob<span class="token punctuation">,</span> getAllJobs<span class="token punctuation">,</span> updateJob<span class="token punctuation">,</span> showStats <span class="token punctuation">}</span></span><span class="token punctuation">;</span>
</pre><ul>
<li>
<p>return res.send(&apos;function name&apos;)</p>
</li>
<li>
<p>jobsRoutes.js</p>
</li>
<li>
<p>setup express router</p>
</li>
<li>
<p>import functions from jobsController.js</p>
</li>
</ul>
<pre data-role="codeBlock" data-info="js" class="language-javascript">router<span class="token punctuation">.</span><span class="token method function property-access">route</span><span class="token punctuation">(</span><span class="token string">&apos;/&apos;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">post</span><span class="token punctuation">(</span>createJob<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">get</span><span class="token punctuation">(</span>getAllJobs<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// place before :id</span>
router<span class="token punctuation">.</span><span class="token method function property-access">route</span><span class="token punctuation">(</span><span class="token string">&apos;/stats&apos;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">get</span><span class="token punctuation">(</span>showStats<span class="token punctuation">)</span><span class="token punctuation">;</span>
router<span class="token punctuation">.</span><span class="token method function property-access">route</span><span class="token punctuation">(</span><span class="token string">&apos;/:id&apos;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">delete</span><span class="token punctuation">(</span>deleteJob<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">patch</span><span class="token punctuation">(</span>updateJob<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword module keyword-export">export</span> <span class="token keyword module keyword-default">default</span> router<span class="token punctuation">;</span>
</pre><ul>
<li>in server.js jobsRouter</li>
</ul>
<pre data-role="codeBlock" data-info="js" class="language-javascript">app<span class="token punctuation">.</span><span class="token method function property-access">use</span><span class="token punctuation">(</span><span class="token string">&apos;/api/v1/jobs&apos;</span><span class="token punctuation">,</span> jobsRouter<span class="token punctuation">)</span><span class="token punctuation">;</span>
</pre><h4 class="mume-header" id="postman">Postman</h4>

<ul>
<li>URL global var</li>
<li>JOBIFY Collection</li>
<li>auth and jobs folders</li>
<li>setup routes</li>
</ul>
<h4 class="mume-header" id="user-model">User Model</h4>

<ul>
<li><b>models</b> folder</li>
<li>User.js</li>
<li>setup schema</li>
<li>name, email, password, lastName, location</li>
<li>all {type:String}</li>
</ul>
<h4 class="mume-header" id="validate-email">Validate Email</h4>

<pre data-role="codeBlock" data-info="js" class="language-javascript">validate<span class="token operator">:</span><span class="token punctuation">{</span>
  <span class="token function-variable function">validator</span><span class="token operator">:</span><span class="token punctuation">(</span><span class="token parameter">field</span><span class="token punctuation">)</span><span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span><span class="token keyword control-flow keyword-return">return</span> <span class="token number">2</span> <span class="token operator">&gt;</span> <span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  message<span class="token operator">:</span><span class="token string">&apos;Please provide valid email&apos;</span>
  <span class="token punctuation">}</span>
</pre><ul>
<li><a href="https://www.npmjs.com/package/validator">Validator Package</a></li>
</ul>
<pre data-role="codeBlock" data-info="sh" class="language-bash"><span class="token function">npm</span> <span class="token function">install</span> validator
</pre><ul>
<li>import in User.js</li>
<li>validator.isEmail</li>
</ul>
<h4 class="mume-header" id="register-user---initial-setup">Register User - Initial Setup</h4>

<ul>
<li>authController</li>
<li>import User model</li>
<li>setup temporary try/catch</li>
<li>await User.create(req.body)</li>
<li>if success 201 with json({user}) (temp)</li>
<li>if error 500 with json({msg:&apos;there was an error&apos;})</li>
</ul>
<h4 class="mume-header" id="pass-error-to-error-handler">Pass Error to Error Handler</h4>

<ul>
<li>next(error)</li>
</ul>
<h4 class="mume-header" id="express-async-errors-package">Express-Async-Errors Package</h4>

<ul>
<li>remove try/catch</li>
<li><a href="https://www.npmjs.com/package/express-async-errors">Express-Async-Errors</a></li>
</ul>
<pre data-role="codeBlock" data-info="sh" class="language-bash"><span class="token function">npm</span> <span class="token function">install</span> express-async-errors

</pre><ul>
<li>
<p>in server.js</p>
</li>
<li>
<p>import &apos;express-async-errors&apos;</p>
</li>
<li>
<p>use throw Error(&apos;error&apos;) instead of next(error)</p>
</li>
</ul>
<h4 class="mume-header" id="http-status-codes">Http Status Codes</h4>

<ul>
<li>
<p>constants for status codes</p>
</li>
<li>
<p>personal preference</p>
</li>
<li>
<p>provides consistency</p>
</li>
<li>
<p>less bugs</p>
</li>
<li>
<p>easier to read/manage</p>
</li>
<li>
<p><a href="https://www.npmjs.com/package/http-status-codes">Http Status Codes</a></p>
</li>
</ul>
<pre data-role="codeBlock" data-info="sh" class="language-bash"><span class="token function">npm</span> <span class="token function">install</span> http-status-codes
</pre><ul>
<li>import/setup in authController and error-handler</li>
<li>setup defaultError</li>
</ul>
<h4 class="mume-header" id="custom-errors">Custom Errors</h4>

<h4 class="mume-header" id="refactor-errors">Refactor Errors</h4>

<ul>
<li>create errors folder</li>
<li>create custom-api, bad-request, not-found, index.js files</li>
<li>add proper imports</li>
<li>setup index.js just like in the front-end</li>
<li>import {BadRequestError} in authController</li>
<li>gotcha &quot;errors/index.js&quot;</li>
</ul>
<h4 class="mume-header" id="hash-passwords">Hash Passwords</h4>

<ul>
<li>one way street, only compare hashed values</li>
<li><a href="https://www.npmjs.com/package/bcryptjs">bcrypt.js</a></li>
</ul>
<pre data-role="codeBlock" data-info="sh" class="language-bash"><span class="token function">npm</span> <span class="token function">install</span> bcryptjs
</pre><ul>
<li>User Model</li>
<li>import bcrypt from &apos;bcryptjs&apos;</li>
<li>await genSalt(10)</li>
<li>await hash(password , salt)</li>
<li>await compare(requestPassword , currentPassword)</li>
<li><a href="https://mongoosejs.com/docs/middleware.html">mongoose middleware</a></li>
<li>UserSchema.pre(&apos;save&apos;,async function(){<br>
&quot;this&quot; points to instance created by UserSchema<br>
})</li>
</ul>
<h4 class="mume-header" id="mongoose---custom-instance-methods">Mongoose - Custom Instance Methods</h4>

<p><a href="https://mongoosejs.com/docs/guide.html#methods">Custom Instance Methods</a></p>
<ul>
<li>UserSchema.methods.createJWT = function(){console.log(this)}</li>
<li>register controller</li>
<li>right after User.create()</li>
<li>invoke user.createJWT()</li>
</ul>
<h4 class="mume-header" id="jwt">JWT</h4>

<ul>
<li>token</li>
<li><a href="https://www.npmjs.com/package/jsonwebtoken">jsonwebtoken</a></li>
</ul>
<pre data-role="codeBlock" data-info="sh" class="language-bash"><span class="token function">npm</span> <span class="token function">install</span> jsonwebtoken
</pre><ul>
<li>User Model</li>
<li>import jwt from &apos;jsonwebtoken&apos;</li>
<li>jwt.sign(payload,secret,options)</li>
<li>createJWT</li>
</ul>
<pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token keyword control-flow keyword-return">return</span> jwt<span class="token punctuation">.</span><span class="token method function property-access">sign</span><span class="token punctuation">(</span><span class="token punctuation">{</span> userId<span class="token operator">:</span> <span class="token keyword keyword-this">this</span><span class="token punctuation">.</span><span class="token property-access">_id</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token string">&apos;jwtSecret&apos;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> expiresIn<span class="token operator">:</span> <span class="token string">&apos;1d&apos;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</pre><pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token keyword control-flow keyword-return">return</span> jwt<span class="token punctuation">.</span><span class="token method function property-access">sign</span><span class="token punctuation">(</span><span class="token punctuation">{</span> userId<span class="token operator">:</span> <span class="token keyword keyword-this">this</span><span class="token punctuation">.</span><span class="token property-access">_id</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> process<span class="token punctuation">.</span><span class="token property-access">env</span><span class="token punctuation">.</span><span class="token constant">JWT_SECRET</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  expiresIn<span class="token operator">:</span> process<span class="token punctuation">.</span><span class="token property-access">env</span><span class="token punctuation">.</span><span class="token constant">JWT_LIFETIME</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</pre><h4 class="mume-header" id="jwt_secret-and-jwt_lifetime">JWT_SECRET and JWT_LIFETIME</h4>

<ul>
<li><a href="https://www.allkeysgenerator.com/">Keys Generator</a></li>
<li>RESTART SERVER!!!!</li>
</ul>
<h4 class="mume-header" id="complete-register">Complete Register</h4>

<ul>
<li>password : {select:false}</li>
<li>complete response</li>
</ul>
<h4 class="mume-header" id="concurrently">Concurrently</h4>

<ul>
<li>front-end and backend (server)</li>
<li>run separate terminals</li>
<li><a href="https://www.npmjs.com/package/concurrently">concurrently</a></li>
</ul>
<pre data-role="codeBlock" data-info="sh" class="language-bash"><span class="token function">npm</span> <span class="token function">install</span> concurrently --save-dev

</pre><ul>
<li>package.json</li>
</ul>
<pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token comment">// --kill-others switch, all commands are killed if one dies</span>
<span class="token comment">// --prefix client - folder</span>
<span class="token comment">// cd client &amp;&amp; npm start</span>
<span class="token comment">// escape quotes</span>

<span class="token string">&quot;scripts&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token string">&quot;server&quot;</span><span class="token operator">:</span> <span class="token string">&quot;nodemon server --ignore client&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;client&quot;</span><span class="token operator">:</span> <span class="token string">&quot;npm start --prefix client&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;start&quot;</span><span class="token operator">:</span> <span class="token string">&quot;concurrently --kill-others-on-fail \&quot;npm run server\&quot; \&quot; npm run client\&quot;&quot;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
</pre><h4 class="mume-header" id="cors-error">Cors Error</h4>

<p><a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/CORS">Cors Error</a></p>
<ul>
<li>two fixes (cors package and proxy)</li>
</ul>
<h4 class="mume-header" id="cors-package">Cors Package</h4>

<p><a href="https://www.npmjs.com/package/cors">cors package</a></p>
<pre data-role="codeBlock" data-info="sh" class="language-bash"><span class="token function">npm</span> <span class="token function">install</span> cors
</pre><pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token keyword module keyword-import">import</span> <span class="token imports">cors</span> <span class="token keyword module keyword-from">from</span> <span class="token string">&apos;cors&apos;</span><span class="token punctuation">;</span>

app<span class="token punctuation">.</span><span class="token method function property-access">use</span><span class="token punctuation">(</span><span class="token function">cors</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</pre><h4 class="mume-header" id="proxy">Proxy</h4>

<ul>
<li>access from anywhere</li>
<li>don&apos;t want to use full url</li>
</ul>
<p><a href="https://create-react-app.dev/docs/proxying-api-requests-in-development/">cra proxy</a></p>
<pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token string">&quot;proxy&quot;</span><span class="token operator">:</span><span class="token string">&quot;http://localhost:5000&quot;</span>
</pre><ul>
<li>my preference to remove trailing slash /</li>
<li>restart app</li>
</ul>
<h4 class="mume-header" id="register-user---setup">Register User - Setup</h4>

<pre data-role="codeBlock" data-info="js" class="language-javascript">appContext<span class="token punctuation">.</span><span class="token property-access">js</span><span class="token punctuation">;</span>

<span class="token keyword keyword-const">const</span> initialState <span class="token operator">=</span> <span class="token punctuation">{</span>
  user<span class="token operator">:</span> <span class="token keyword null nil keyword-null">null</span><span class="token punctuation">,</span>
  token<span class="token operator">:</span> <span class="token keyword null nil keyword-null">null</span><span class="token punctuation">,</span>
  userLocation<span class="token operator">:</span> <span class="token string">&apos;&apos;</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</pre><ul>
<li>actions.js REGISTER_USER_BEGIN,SUCCESS,ERROR</li>
<li>import reducer,appContext</li>
</ul>
<pre data-role="codeBlock" data-info="js" class="language-javascript">appContext<span class="token punctuation">.</span><span class="token property-access">js</span><span class="token punctuation">;</span>
<span class="token keyword keyword-const">const</span> <span class="token function-variable function">registerUser</span> <span class="token operator">=</span> <span class="token keyword keyword-async">async</span> <span class="token punctuation">(</span><span class="token parameter">currentUser</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span>currentUser<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</pre><ul>
<li>import in Register.js</li>
</ul>
<pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token maybe-class-name">Register</span><span class="token punctuation">.</span><span class="token property-access">js</span><span class="token punctuation">;</span>

<span class="token keyword keyword-const">const</span> currentUser <span class="token operator">=</span> <span class="token punctuation">{</span> name<span class="token punctuation">,</span> email<span class="token punctuation">,</span> password <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword control-flow keyword-if">if</span> <span class="token punctuation">(</span>isMember<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token string">&apos;already a member&apos;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword control-flow keyword-else">else</span> <span class="token punctuation">{</span>
  <span class="token function">registerUser</span><span class="token punctuation">(</span>currentUser<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword control-flow keyword-return">return</span> <span class="token punctuation">(</span>
  <span class="token operator">&lt;</span>button type<span class="token operator">=</span><span class="token string">&apos;submit&apos;</span> className<span class="token operator">=</span><span class="token string">&apos;btn btn-block&apos;</span> disabled<span class="token operator">=</span><span class="token punctuation">{</span>isLoading<span class="token punctuation">}</span><span class="token operator">&gt;</span>
    submit
  <span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</pre><h4 class="mume-header" id="axios">Axios</h4>

<ul>
<li><a href="https://axios-http.com/docs/intro">axios docs</a></li>
<li>stop app</li>
<li>cd client</li>
</ul>
<pre data-role="codeBlock" data-info="sh" class="language-bash"><span class="token function">npm</span> <span class="token function">install</span> axios
</pre><ul>
<li>cd ..</li>
<li>restart app</li>
</ul>
<h4 class="mume-header" id="register-user---complete">Register User - Complete</h4>

<pre data-role="codeBlock" data-info="js" class="language-javascript">appContext<span class="token punctuation">.</span><span class="token property-access">js</span><span class="token punctuation">;</span>

<span class="token keyword module keyword-import">import</span> <span class="token imports">axios</span> <span class="token keyword module keyword-from">from</span> <span class="token string">&apos;axios&apos;</span><span class="token punctuation">;</span>

<span class="token keyword keyword-const">const</span> <span class="token function-variable function">registerUser</span> <span class="token operator">=</span> <span class="token keyword keyword-async">async</span> <span class="token punctuation">(</span><span class="token parameter">currentUser</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token punctuation">{</span> type<span class="token operator">:</span> <span class="token constant">REGISTER_USER_BEGIN</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword control-flow keyword-try">try</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-const">const</span> response <span class="token operator">=</span> <span class="token keyword control-flow keyword-await">await</span> axios<span class="token punctuation">.</span><span class="token method function property-access">post</span><span class="token punctuation">(</span><span class="token string">&apos;/api/v1/auth/register&apos;</span><span class="token punctuation">,</span> currentUser<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span>response<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-const">const</span> <span class="token punctuation">{</span> user<span class="token punctuation">,</span> token<span class="token punctuation">,</span> <span class="token dom variable">location</span> <span class="token punctuation">}</span> <span class="token operator">=</span> response<span class="token punctuation">.</span><span class="token property-access">data</span><span class="token punctuation">;</span>
    <span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      type<span class="token operator">:</span> <span class="token constant">REGISTER_USER_SUCCESS</span><span class="token punctuation">,</span>
      payload<span class="token operator">:</span> <span class="token punctuation">{</span>
        user<span class="token punctuation">,</span>
        token<span class="token punctuation">,</span>
        <span class="token dom variable">location</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// will add later</span>
    <span class="token comment">// addUserToLocalStorage({</span>
    <span class="token comment">//   user,</span>
    <span class="token comment">//   token,</span>
    <span class="token comment">//   location,</span>
    <span class="token comment">// })</span>
  <span class="token punctuation">}</span> <span class="token keyword control-flow keyword-catch">catch</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span>error<span class="token punctuation">.</span><span class="token property-access">response</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      type<span class="token operator">:</span> <span class="token constant">REGISTER_USER_ERROR</span><span class="token punctuation">,</span>
      payload<span class="token operator">:</span> <span class="token punctuation">{</span> msg<span class="token operator">:</span> error<span class="token punctuation">.</span><span class="token property-access">response</span><span class="token punctuation">.</span><span class="token property-access">data</span><span class="token punctuation">.</span><span class="token property-access">msg</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token function">clearAlert</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</pre><pre data-role="codeBlock" data-info="js" class="language-javascript">reducer<span class="token punctuation">.</span><span class="token property-access">js</span><span class="token punctuation">;</span>
<span class="token keyword control-flow keyword-if">if</span> <span class="token punctuation">(</span>action<span class="token punctuation">.</span><span class="token property-access">type</span> <span class="token operator">===</span> <span class="token constant">REGISTER_USER_BEGIN</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword control-flow keyword-return">return</span> <span class="token punctuation">{</span> <span class="token spread operator">...</span>state<span class="token punctuation">,</span> isLoading<span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword control-flow keyword-if">if</span> <span class="token punctuation">(</span>action<span class="token punctuation">.</span><span class="token property-access">type</span> <span class="token operator">===</span> <span class="token constant">REGISTER_USER_SUCCESS</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword control-flow keyword-return">return</span> <span class="token punctuation">{</span>
    <span class="token spread operator">...</span>state<span class="token punctuation">,</span>
    user<span class="token operator">:</span> action<span class="token punctuation">.</span><span class="token property-access">payload</span><span class="token punctuation">.</span><span class="token property-access">user</span><span class="token punctuation">,</span>
    token<span class="token operator">:</span> action<span class="token punctuation">.</span><span class="token property-access">payload</span><span class="token punctuation">.</span><span class="token property-access">token</span><span class="token punctuation">,</span>
    userLocation<span class="token operator">:</span> action<span class="token punctuation">.</span><span class="token property-access">payload</span><span class="token punctuation">.</span><span class="token property-access">location</span><span class="token punctuation">,</span>
    jobLocation<span class="token operator">:</span> action<span class="token punctuation">.</span><span class="token property-access">payload</span><span class="token punctuation">.</span><span class="token property-access">location</span><span class="token punctuation">,</span>
    isLoading<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    showAlert<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    alertType<span class="token operator">:</span> <span class="token string">&apos;success&apos;</span><span class="token punctuation">,</span>
    alertText<span class="token operator">:</span> <span class="token string">&apos;User Created! Redirecting...&apos;</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword control-flow keyword-if">if</span> <span class="token punctuation">(</span>action<span class="token punctuation">.</span><span class="token property-access">type</span> <span class="token operator">===</span> <span class="token constant">REGISTER_USER_ERROR</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword control-flow keyword-return">return</span> <span class="token punctuation">{</span>
    <span class="token spread operator">...</span>state<span class="token punctuation">,</span>
    isLoading<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    showAlert<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    alertType<span class="token operator">:</span> <span class="token string">&apos;danger&apos;</span><span class="token punctuation">,</span>
    alertText<span class="token operator">:</span> action<span class="token punctuation">.</span><span class="token property-access">payload</span><span class="token punctuation">.</span><span class="token property-access">msg</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</pre><h4 class="mume-header" id="navigate-to-dashboard">Navigate To Dashboard</h4>

<pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token maybe-class-name">Register</span><span class="token punctuation">.</span><span class="token property-access">js</span><span class="token punctuation">;</span>
<span class="token keyword module keyword-import">import</span> <span class="token imports"><span class="token punctuation">{</span> useEffect <span class="token punctuation">}</span></span> <span class="token keyword module keyword-from">from</span> <span class="token string">&apos;react&apos;</span><span class="token punctuation">;</span>
<span class="token keyword module keyword-import">import</span> <span class="token imports"><span class="token punctuation">{</span> useNavigate <span class="token punctuation">}</span></span> <span class="token keyword module keyword-from">from</span> <span class="token string">&apos;react-router-dom&apos;</span><span class="token punctuation">;</span>

<span class="token keyword keyword-const">const</span> <span class="token function-variable function"><span class="token maybe-class-name">Register</span></span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword keyword-const">const</span> <span class="token punctuation">{</span> user <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">useAppContext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword keyword-const">const</span> navigate <span class="token operator">=</span> <span class="token function">useNavigate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword control-flow keyword-if">if</span> <span class="token punctuation">(</span>user<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token function">navigate</span><span class="token punctuation">(</span><span class="token string">&apos;/&apos;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">3000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>user<span class="token punctuation">,</span> navigate<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</pre><h4 class="mume-header" id="local-storage">Local Storage</h4>

<pre data-role="codeBlock" data-info="js" class="language-javascript">appContext<span class="token punctuation">.</span><span class="token property-access">js</span><span class="token punctuation">;</span>
<span class="token keyword keyword-const">const</span> <span class="token function-variable function">addUserToLocalStorage</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> user<span class="token punctuation">,</span> token<span class="token punctuation">,</span> <span class="token dom variable">location</span> <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token dom variable">localStorage</span><span class="token punctuation">.</span><span class="token method function property-access">setItem</span><span class="token punctuation">(</span><span class="token string">&apos;user&apos;</span><span class="token punctuation">,</span> <span class="token known-class-name class-name">JSON</span><span class="token punctuation">.</span><span class="token method function property-access">stringify</span><span class="token punctuation">(</span>user<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token dom variable">localStorage</span><span class="token punctuation">.</span><span class="token method function property-access">setItem</span><span class="token punctuation">(</span><span class="token string">&apos;token&apos;</span><span class="token punctuation">,</span> token<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token dom variable">localStorage</span><span class="token punctuation">.</span><span class="token method function property-access">setItem</span><span class="token punctuation">(</span><span class="token string">&apos;location&apos;</span><span class="token punctuation">,</span> <span class="token dom variable">location</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword keyword-const">const</span> <span class="token function-variable function">removeUserFromLocalStorage</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token dom variable">localStorage</span><span class="token punctuation">.</span><span class="token method function property-access">removeItem</span><span class="token punctuation">(</span><span class="token string">&apos;token&apos;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token dom variable">localStorage</span><span class="token punctuation">.</span><span class="token method function property-access">removeItem</span><span class="token punctuation">(</span><span class="token string">&apos;user&apos;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token dom variable">localStorage</span><span class="token punctuation">.</span><span class="token method function property-access">removeItem</span><span class="token punctuation">(</span><span class="token string">&apos;location&apos;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword keyword-const">const</span> <span class="token function-variable function">registerUser</span> <span class="token operator">=</span> <span class="token keyword keyword-async">async</span> <span class="token punctuation">(</span><span class="token parameter">currentUser</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">// in try block</span>
  <span class="token function">addUserToLocalStorage</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    user<span class="token punctuation">,</span>
    token<span class="token punctuation">,</span>
    <span class="token dom variable">location</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">// set as default</span>
<span class="token keyword keyword-const">const</span> token <span class="token operator">=</span> <span class="token dom variable">localStorage</span><span class="token punctuation">.</span><span class="token method function property-access">getItem</span><span class="token punctuation">(</span><span class="token string">&apos;token&apos;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword keyword-const">const</span> user <span class="token operator">=</span> <span class="token dom variable">localStorage</span><span class="token punctuation">.</span><span class="token method function property-access">getItem</span><span class="token punctuation">(</span><span class="token string">&apos;user&apos;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword keyword-const">const</span> userLocation <span class="token operator">=</span> <span class="token dom variable">localStorage</span><span class="token punctuation">.</span><span class="token method function property-access">getItem</span><span class="token punctuation">(</span><span class="token string">&apos;location&apos;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword keyword-const">const</span> initialState <span class="token operator">=</span> <span class="token punctuation">{</span>
  user<span class="token operator">:</span> user <span class="token operator">?</span> <span class="token known-class-name class-name">JSON</span><span class="token punctuation">.</span><span class="token method function property-access">parse</span><span class="token punctuation">(</span>user<span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token keyword null nil keyword-null">null</span><span class="token punctuation">,</span>
  token<span class="token operator">:</span> token<span class="token punctuation">,</span>
  userLocation<span class="token operator">:</span> userLocation <span class="token operator">||</span> <span class="token string">&apos;&apos;</span><span class="token punctuation">,</span>
  jobLocation<span class="token operator">:</span> userLocation <span class="token operator">||</span> <span class="token string">&apos;&apos;</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</pre><h4 class="mume-header" id="morgan-package">Morgan Package</h4>

<ul>
<li>http logger middleware for node.js</li>
<li><a href="https://www.npmjs.com/package/morgan">morgan docs</a></li>
</ul>
<pre data-role="codeBlock" data-info="sh" class="language-bash"><span class="token function">npm</span> <span class="token function">install</span> morgan
</pre><pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token keyword module keyword-import">import</span> <span class="token imports">morgan</span> <span class="token keyword module keyword-from">from</span> <span class="token string">&apos;morgan&apos;</span><span class="token punctuation">;</span>

<span class="token keyword control-flow keyword-if">if</span> <span class="token punctuation">(</span>process<span class="token punctuation">.</span><span class="token property-access">env</span><span class="token punctuation">.</span><span class="token constant">NODE_ENV</span> <span class="token operator">!==</span> <span class="token string">&apos;production&apos;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  app<span class="token punctuation">.</span><span class="token method function property-access">use</span><span class="token punctuation">(</span><span class="token function">morgan</span><span class="token punctuation">(</span><span class="token string">&apos;dev&apos;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</pre><h4 class="mume-header" id="unauthenticatederror">UnauthenticatedError</h4>

<ul>
<li>unauthenticated.js in errors</li>
<li>import/export</li>
</ul>
<pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token keyword module keyword-import">import</span> <span class="token imports"><span class="token punctuation">{</span> <span class="token maybe-class-name">StatusCodes</span> <span class="token punctuation">}</span></span> <span class="token keyword module keyword-from">from</span> <span class="token string">&apos;http-status-codes&apos;</span><span class="token punctuation">;</span>
<span class="token keyword module keyword-import">import</span> <span class="token known-class-name class-name">CustomAPIError</span> <span class="token keyword module keyword-from">from</span> <span class="token string">&apos;./custom-api.js&apos;</span><span class="token punctuation">;</span>

<span class="token keyword keyword-class">class</span> <span class="token class-name">UnauthenticatedError</span> <span class="token keyword keyword-extends">extends</span> <span class="token class-name">CustomAPIError</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">message</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-super">super</span><span class="token punctuation">(</span>message<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-this">this</span><span class="token punctuation">.</span><span class="token property-access">statusCode</span> <span class="token operator">=</span> <span class="token maybe-class-name">StatusCodes</span><span class="token punctuation">.</span><span class="token constant">UNAUTHORIZED</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</pre><h4 class="mume-header" id="compare-password">Compare Password</h4>

<pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token maybe-class-name">User</span><span class="token punctuation">.</span><span class="token property-access">js</span> <span class="token keyword keyword-in">in</span> models<span class="token punctuation">;</span>

<span class="token maybe-class-name">UserSchema</span><span class="token punctuation">.</span><span class="token property-access">methods</span><span class="token punctuation">.</span><span class="token method-variable function-variable method function property-access">comparePassword</span> <span class="token operator">=</span> <span class="token keyword keyword-async">async</span> <span class="token keyword keyword-function">function</span> <span class="token punctuation">(</span><span class="token parameter">candidatePassword</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword keyword-const">const</span> isMatch <span class="token operator">=</span> <span class="token keyword control-flow keyword-await">await</span> bcrypt<span class="token punctuation">.</span><span class="token method function property-access">compare</span><span class="token punctuation">(</span>candidatePassword<span class="token punctuation">,</span> <span class="token keyword keyword-this">this</span><span class="token punctuation">.</span><span class="token property-access">password</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword control-flow keyword-return">return</span> isMatch<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</pre><pre data-role="codeBlock" data-info="js" class="language-javascript">authController<span class="token punctuation">.</span><span class="token property-access">js</span><span class="token punctuation">;</span>
<span class="token keyword keyword-const">const</span> <span class="token function-variable function">login</span> <span class="token operator">=</span> <span class="token keyword keyword-async">async</span> <span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword keyword-const">const</span> <span class="token punctuation">{</span> email<span class="token punctuation">,</span> password <span class="token punctuation">}</span> <span class="token operator">=</span> req<span class="token punctuation">.</span><span class="token property-access">body</span><span class="token punctuation">;</span>
  <span class="token keyword control-flow keyword-if">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>email <span class="token operator">||</span> <span class="token operator">!</span>password<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword control-flow keyword-throw">throw</span> <span class="token keyword keyword-new">new</span> <span class="token class-name">BadRequestError</span><span class="token punctuation">(</span><span class="token string">&apos;Please provide all values&apos;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword keyword-const">const</span> user <span class="token operator">=</span> <span class="token keyword control-flow keyword-await">await</span> <span class="token maybe-class-name">User</span><span class="token punctuation">.</span><span class="token method function property-access">findOne</span><span class="token punctuation">(</span><span class="token punctuation">{</span> email <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">select</span><span class="token punctuation">(</span><span class="token string">&apos;+password&apos;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword control-flow keyword-if">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>user<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword control-flow keyword-throw">throw</span> <span class="token keyword keyword-new">new</span> <span class="token class-name">UnauthenticatedError</span><span class="token punctuation">(</span><span class="token string">&apos;Invalid Credentials&apos;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword keyword-const">const</span> isPasswordCorrect <span class="token operator">=</span> <span class="token keyword control-flow keyword-await">await</span> user<span class="token punctuation">.</span><span class="token method function property-access">comparePassword</span><span class="token punctuation">(</span>password<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword control-flow keyword-if">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>isPasswordCorrect<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword control-flow keyword-throw">throw</span> <span class="token keyword keyword-new">new</span> <span class="token class-name">UnauthenticatedError</span><span class="token punctuation">(</span><span class="token string">&apos;Invalid Credentials&apos;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword keyword-const">const</span> token <span class="token operator">=</span> user<span class="token punctuation">.</span><span class="token method function property-access">createJWT</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  user<span class="token punctuation">.</span><span class="token property-access">password</span> <span class="token operator">=</span> <span class="token keyword nil keyword-undefined">undefined</span><span class="token punctuation">;</span>
  res<span class="token punctuation">.</span><span class="token method function property-access">status</span><span class="token punctuation">(</span><span class="token maybe-class-name">StatusCodes</span><span class="token punctuation">.</span><span class="token constant">OK</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">json</span><span class="token punctuation">(</span><span class="token punctuation">{</span> user<span class="token punctuation">,</span> token<span class="token punctuation">,</span> <span class="token dom variable">location</span><span class="token operator">:</span> user<span class="token punctuation">.</span><span class="token property-access">location</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</pre><ul>
<li>test in Postman</li>
</ul>
<h4 class="mume-header" id="login-user---setup">Login User - Setup</h4>

<ul>
<li>actions.js LOGIN_USER_BEGIN,SUCCESS,ERROR</li>
<li>import reducer,appContext</li>
</ul>
<pre data-role="codeBlock" data-info="js" class="language-javascript">appContext<span class="token punctuation">.</span><span class="token property-access">js</span><span class="token punctuation">;</span>
<span class="token keyword keyword-const">const</span> <span class="token function-variable function">loginUser</span> <span class="token operator">=</span> <span class="token keyword keyword-async">async</span> <span class="token punctuation">(</span><span class="token parameter">currentUser</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span>currentUser<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</pre><ul>
<li>import in Register.js</li>
</ul>
<pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token maybe-class-name">Register</span><span class="token punctuation">.</span><span class="token property-access">js</span><span class="token punctuation">;</span>

<span class="token keyword control-flow keyword-if">if</span> <span class="token punctuation">(</span>isMember<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">loginUser</span><span class="token punctuation">(</span>currentUser<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword control-flow keyword-else">else</span> <span class="token punctuation">{</span>
  <span class="token function">registerUser</span><span class="token punctuation">(</span>currentUser<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</pre><h4 class="mume-header" id="login-user---complete">Login User - Complete</h4>

<pre data-role="codeBlock" data-info="js" class="language-javascript">appContext<span class="token punctuation">.</span><span class="token property-access">js</span><span class="token punctuation">;</span>
<span class="token keyword keyword-const">const</span> <span class="token function-variable function">loginUser</span> <span class="token operator">=</span> <span class="token keyword keyword-async">async</span> <span class="token punctuation">(</span><span class="token parameter">currentUser</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token punctuation">{</span> type<span class="token operator">:</span> <span class="token constant">LOGIN_USER_BEGIN</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword control-flow keyword-try">try</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-const">const</span> <span class="token punctuation">{</span> data <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword control-flow keyword-await">await</span> axios<span class="token punctuation">.</span><span class="token method function property-access">post</span><span class="token punctuation">(</span><span class="token string">&apos;/api/v1/auth/login&apos;</span><span class="token punctuation">,</span> currentUser<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-const">const</span> <span class="token punctuation">{</span> user<span class="token punctuation">,</span> token<span class="token punctuation">,</span> <span class="token dom variable">location</span> <span class="token punctuation">}</span> <span class="token operator">=</span> data<span class="token punctuation">;</span>

    <span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      type<span class="token operator">:</span> <span class="token constant">LOGIN_USER_SUCCESS</span><span class="token punctuation">,</span>
      payload<span class="token operator">:</span> <span class="token punctuation">{</span> user<span class="token punctuation">,</span> token<span class="token punctuation">,</span> <span class="token dom variable">location</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token function">addUserToLocalStorage</span><span class="token punctuation">(</span><span class="token punctuation">{</span> user<span class="token punctuation">,</span> token<span class="token punctuation">,</span> <span class="token dom variable">location</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span> <span class="token keyword control-flow keyword-catch">catch</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      type<span class="token operator">:</span> <span class="token constant">LOGIN_USER_ERROR</span><span class="token punctuation">,</span>
      payload<span class="token operator">:</span> <span class="token punctuation">{</span> msg<span class="token operator">:</span> error<span class="token punctuation">.</span><span class="token property-access">response</span><span class="token punctuation">.</span><span class="token property-access">data</span><span class="token punctuation">.</span><span class="token property-access">msg</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token function">clearAlert</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</pre><pre data-role="codeBlock" data-info="js" class="language-javascript">reducer<span class="token punctuation">.</span><span class="token property-access">js</span><span class="token punctuation">;</span>

<span class="token keyword control-flow keyword-if">if</span> <span class="token punctuation">(</span>action<span class="token punctuation">.</span><span class="token property-access">type</span> <span class="token operator">===</span> <span class="token constant">LOGIN_USER_BEGIN</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword control-flow keyword-return">return</span> <span class="token punctuation">{</span>
    <span class="token spread operator">...</span>state<span class="token punctuation">,</span>
    isLoading<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword control-flow keyword-if">if</span> <span class="token punctuation">(</span>action<span class="token punctuation">.</span><span class="token property-access">type</span> <span class="token operator">===</span> <span class="token constant">LOGIN_USER_SUCCESS</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword control-flow keyword-return">return</span> <span class="token punctuation">{</span>
    <span class="token spread operator">...</span>state<span class="token punctuation">,</span>
    isLoading<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    user<span class="token operator">:</span> action<span class="token punctuation">.</span><span class="token property-access">payload</span><span class="token punctuation">.</span><span class="token property-access">user</span><span class="token punctuation">,</span>
    token<span class="token operator">:</span> action<span class="token punctuation">.</span><span class="token property-access">payload</span><span class="token punctuation">.</span><span class="token property-access">token</span><span class="token punctuation">,</span>
    userLocation<span class="token operator">:</span> action<span class="token punctuation">.</span><span class="token property-access">payload</span><span class="token punctuation">.</span><span class="token property-access">location</span><span class="token punctuation">,</span>
    jobLocation<span class="token operator">:</span> action<span class="token punctuation">.</span><span class="token property-access">payload</span><span class="token punctuation">.</span><span class="token property-access">location</span><span class="token punctuation">,</span>
    showAlert<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    alertType<span class="token operator">:</span> <span class="token string">&apos;success&apos;</span><span class="token punctuation">,</span>
    alertText<span class="token operator">:</span> <span class="token string">&apos;Login Successful! Redirecting...&apos;</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword control-flow keyword-if">if</span> <span class="token punctuation">(</span>action<span class="token punctuation">.</span><span class="token property-access">type</span> <span class="token operator">===</span> <span class="token constant">LOGIN_USER_ERROR</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword control-flow keyword-return">return</span> <span class="token punctuation">{</span>
    <span class="token spread operator">...</span>state<span class="token punctuation">,</span>
    isLoading<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    showAlert<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    alertType<span class="token operator">:</span> <span class="token string">&apos;danger&apos;</span><span class="token punctuation">,</span>
    alertText<span class="token operator">:</span> action<span class="token punctuation">.</span><span class="token property-access">payload</span><span class="token punctuation">.</span><span class="token property-access">msg</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</pre><h4 class="mume-header" id="refactor">Refactor</h4>

<pre data-role="codeBlock" data-info="js" class="language-javascript">actions<span class="token punctuation">.</span><span class="token property-access">js</span><span class="token punctuation">;</span>
<span class="token keyword module keyword-export">export</span> <span class="token keyword keyword-const">const</span> <span class="token constant">SETUP_USER_BEGIN</span> <span class="token operator">=</span> <span class="token string">&apos;SETUP_USER_BEGIN&apos;</span><span class="token punctuation">;</span>
<span class="token keyword module keyword-export">export</span> <span class="token keyword keyword-const">const</span> <span class="token constant">SETUP_USER_SUCCESS</span> <span class="token operator">=</span> <span class="token string">&apos;SETUP_USER_SUCCESS&apos;</span><span class="token punctuation">;</span>
<span class="token keyword module keyword-export">export</span> <span class="token keyword keyword-const">const</span> <span class="token constant">SETUP_USER_ERROR</span> <span class="token operator">=</span> <span class="token string">&apos;SETUP_USER_ERROR&apos;</span><span class="token punctuation">;</span>
</pre><pre data-role="codeBlock" data-info="js" class="language-javascript">appContext<span class="token punctuation">.</span><span class="token property-access">js</span><span class="token punctuation">;</span>

<span class="token keyword keyword-const">const</span> <span class="token function-variable function">setupUser</span> <span class="token operator">=</span> <span class="token keyword keyword-async">async</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> currentUser<span class="token punctuation">,</span> endPoint<span class="token punctuation">,</span> alertText <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token punctuation">{</span> type<span class="token operator">:</span> <span class="token constant">SETUP_USER_BEGIN</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword control-flow keyword-try">try</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-const">const</span> <span class="token punctuation">{</span> data <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword control-flow keyword-await">await</span> axios<span class="token punctuation">.</span><span class="token method function property-access">post</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">/api/v1/auth/</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>endPoint<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span> currentUser<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword keyword-const">const</span> <span class="token punctuation">{</span> user<span class="token punctuation">,</span> token<span class="token punctuation">,</span> <span class="token dom variable">location</span> <span class="token punctuation">}</span> <span class="token operator">=</span> data<span class="token punctuation">;</span>
    <span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      type<span class="token operator">:</span> <span class="token constant">SETUP_USER_SUCCESS</span><span class="token punctuation">,</span>
      payload<span class="token operator">:</span> <span class="token punctuation">{</span> user<span class="token punctuation">,</span> token<span class="token punctuation">,</span> <span class="token dom variable">location</span><span class="token punctuation">,</span> alertText <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">addUserToLocalStorage</span><span class="token punctuation">(</span><span class="token punctuation">{</span> user<span class="token punctuation">,</span> token<span class="token punctuation">,</span> <span class="token dom variable">location</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span> <span class="token keyword control-flow keyword-catch">catch</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      type<span class="token operator">:</span> <span class="token constant">SETUP_USER_ERROR</span><span class="token punctuation">,</span>
      payload<span class="token operator">:</span> <span class="token punctuation">{</span> msg<span class="token operator">:</span> error<span class="token punctuation">.</span><span class="token property-access">response</span><span class="token punctuation">.</span><span class="token property-access">data</span><span class="token punctuation">.</span><span class="token property-access">msg</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token function">clearAlert</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</pre><pre data-role="codeBlock" data-info="js" class="language-javascript">reducer<span class="token punctuation">.</span><span class="token property-access">js</span><span class="token punctuation">;</span>
<span class="token keyword control-flow keyword-if">if</span> <span class="token punctuation">(</span>action<span class="token punctuation">.</span><span class="token property-access">type</span> <span class="token operator">===</span> <span class="token constant">SETUP_USER_BEGIN</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword control-flow keyword-return">return</span> <span class="token punctuation">{</span> <span class="token spread operator">...</span>state<span class="token punctuation">,</span> isLoading<span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword control-flow keyword-if">if</span> <span class="token punctuation">(</span>action<span class="token punctuation">.</span><span class="token property-access">type</span> <span class="token operator">===</span> <span class="token constant">SETUP_USER_SUCCESS</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword control-flow keyword-return">return</span> <span class="token punctuation">{</span>
    <span class="token spread operator">...</span>state<span class="token punctuation">,</span>
    isLoading<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    token<span class="token operator">:</span> action<span class="token punctuation">.</span><span class="token property-access">payload</span><span class="token punctuation">.</span><span class="token property-access">token</span><span class="token punctuation">,</span>
    user<span class="token operator">:</span> action<span class="token punctuation">.</span><span class="token property-access">payload</span><span class="token punctuation">.</span><span class="token property-access">user</span><span class="token punctuation">,</span>
    userLocation<span class="token operator">:</span> action<span class="token punctuation">.</span><span class="token property-access">payload</span><span class="token punctuation">.</span><span class="token property-access">location</span><span class="token punctuation">,</span>
    jobLocation<span class="token operator">:</span> action<span class="token punctuation">.</span><span class="token property-access">payload</span><span class="token punctuation">.</span><span class="token property-access">location</span><span class="token punctuation">,</span>
    showAlert<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    alertType<span class="token operator">:</span> <span class="token string">&apos;success&apos;</span><span class="token punctuation">,</span>
    alertText<span class="token operator">:</span> action<span class="token punctuation">.</span><span class="token property-access">payload</span><span class="token punctuation">.</span><span class="token property-access">alertText</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword control-flow keyword-if">if</span> <span class="token punctuation">(</span>action<span class="token punctuation">.</span><span class="token property-access">type</span> <span class="token operator">===</span> <span class="token constant">SETUP_USER_ERROR</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword control-flow keyword-return">return</span> <span class="token punctuation">{</span>
    <span class="token spread operator">...</span>state<span class="token punctuation">,</span>
    isLoading<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    showAlert<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    alertType<span class="token operator">:</span> <span class="token string">&apos;danger&apos;</span><span class="token punctuation">,</span>
    alertText<span class="token operator">:</span> action<span class="token punctuation">.</span><span class="token property-access">payload</span><span class="token punctuation">.</span><span class="token property-access">msg</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</pre><ul>
<li>import/export</li>
</ul>
<pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token maybe-class-name">Register</span><span class="token punctuation">.</span><span class="token property-access">js</span><span class="token punctuation">;</span>

<span class="token keyword keyword-const">const</span> <span class="token function-variable function">onSubmit</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
  e<span class="token punctuation">.</span><span class="token method function property-access">preventDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword keyword-const">const</span> <span class="token punctuation">{</span> name<span class="token punctuation">,</span> email<span class="token punctuation">,</span> password<span class="token punctuation">,</span> isMember <span class="token punctuation">}</span> <span class="token operator">=</span> values<span class="token punctuation">;</span>
  <span class="token keyword control-flow keyword-if">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>email <span class="token operator">||</span> <span class="token operator">!</span>password <span class="token operator">||</span> <span class="token punctuation">(</span><span class="token operator">!</span>isMember <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span>name<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">displayAlert</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword control-flow keyword-return">return</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword keyword-const">const</span> currentUser <span class="token operator">=</span> <span class="token punctuation">{</span> name<span class="token punctuation">,</span> email<span class="token punctuation">,</span> password <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token keyword control-flow keyword-if">if</span> <span class="token punctuation">(</span>isMember<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">setupUser</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      currentUser<span class="token punctuation">,</span>
      endPoint<span class="token operator">:</span> <span class="token string">&apos;login&apos;</span><span class="token punctuation">,</span>
      alertText<span class="token operator">:</span> <span class="token string">&apos;Login Successful! Redirecting...&apos;</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span> <span class="token keyword control-flow keyword-else">else</span> <span class="token punctuation">{</span>
    <span class="token function">setupUser</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      currentUser<span class="token punctuation">,</span>
      endPoint<span class="token operator">:</span> <span class="token string">&apos;register&apos;</span><span class="token punctuation">,</span>
      alertText<span class="token operator">:</span> <span class="token string">&apos;User Created! Redirecting...&apos;</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</pre><h4 class="mume-header" id="nested-pages-in-react-router-6">Nested Pages in React Router 6</h4>

<h4 class="mume-header" id="dashboard-pages">Dashboard pages</h4>

<ul>
<li>delete Dashboard.js</li>
<li>fix imports/exports</li>
<li>replace in home route</li>
</ul>
<pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token operator">&lt;</span><span class="token maybe-class-name">Route</span> path<span class="token operator">=</span><span class="token string">&apos;/&apos;</span> element<span class="token operator">=</span><span class="token punctuation">{</span><span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>dashboard<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span><span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
</pre><ul>
<li>create <b>dashboard</b> directory in pages</li>
<li>create AddJob,AllJobs,Profile,Stats,SharedLayout, index.js</li>
<li>setup basic returns</li>
</ul>
<pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token keyword control-flow keyword-return">return</span> <span class="token operator">&lt;</span>h1<span class="token operator">&gt;</span><span class="token maybe-class-name">Add</span> <span class="token maybe-class-name">Job</span> <span class="token maybe-class-name">Page</span><span class="token operator">&lt;</span><span class="token operator">/</span>h1<span class="token operator">&gt;</span><span class="token punctuation">;</span>
</pre><ul>
<li>export all with index.js (just like components)</li>
<li>import all pages in App.js</li>
</ul>
<h4 class="mume-header" id="nested-structure">Nested Structure</h4>

<pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token maybe-class-name">App</span><span class="token punctuation">.</span><span class="token property-access">js</span>

<span class="token operator">&lt;</span><span class="token maybe-class-name">Route</span> path<span class="token operator">=</span><span class="token string">&apos;/&apos;</span> <span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span><span class="token maybe-class-name">Route</span> path<span class="token operator">=</span><span class="token string">&quot;stats&quot;</span> element<span class="token operator">=</span><span class="token punctuation">{</span><span class="token operator">&lt;</span><span class="token maybe-class-name">Stats</span> <span class="token operator">/</span><span class="token operator">&gt;</span><span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span><span class="token maybe-class-name">Route</span> path<span class="token operator">=</span><span class="token string">&apos;all-jobs&apos;</span> element<span class="token operator">=</span><span class="token punctuation">{</span><span class="token operator">&lt;</span><span class="token maybe-class-name">AllJobs</span> <span class="token operator">/</span><span class="token operator">&gt;</span><span class="token punctuation">}</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span><span class="token maybe-class-name">Route</span><span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span><span class="token maybe-class-name">Route</span> path<span class="token operator">=</span><span class="token string">&apos;add-job&apos;</span> element<span class="token operator">=</span><span class="token punctuation">{</span><span class="token operator">&lt;</span><span class="token maybe-class-name">AddJob</span> <span class="token operator">/</span><span class="token operator">&gt;</span><span class="token punctuation">}</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span><span class="token maybe-class-name">Route</span><span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span><span class="token maybe-class-name">Route</span> path<span class="token operator">=</span><span class="token string">&apos;profile&apos;</span> element<span class="token operator">=</span><span class="token punctuation">{</span><span class="token operator">&lt;</span><span class="token maybe-class-name">Profile</span> <span class="token operator">/</span><span class="token operator">&gt;</span><span class="token punctuation">}</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span><span class="token maybe-class-name">Route</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span><span class="token maybe-class-name">Route</span><span class="token operator">&gt;</span>
</pre><h4 class="mume-header" id="shared-layout">Shared Layout</h4>

<pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token maybe-class-name">App</span><span class="token punctuation">.</span><span class="token property-access">js</span>

<span class="token operator">&lt;</span><span class="token maybe-class-name">Route</span> path<span class="token operator">=</span><span class="token string">&apos;/&apos;</span> element<span class="token operator">=</span><span class="token punctuation">{</span><span class="token operator">&lt;</span><span class="token maybe-class-name">SharedLayout</span><span class="token operator">/</span><span class="token operator">&gt;</span><span class="token punctuation">}</span> <span class="token operator">&gt;</span>
</pre><pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token maybe-class-name">SharedLayout</span><span class="token punctuation">.</span><span class="token property-access">js</span><span class="token punctuation">;</span>

<span class="token keyword module keyword-import">import</span> <span class="token imports"><span class="token punctuation">{</span> <span class="token maybe-class-name">Outlet</span><span class="token punctuation">,</span> <span class="token maybe-class-name">Link</span> <span class="token punctuation">}</span></span> <span class="token keyword module keyword-from">from</span> <span class="token string">&apos;react-router-dom&apos;</span><span class="token punctuation">;</span>
<span class="token keyword module keyword-import">import</span> <span class="token imports"><span class="token maybe-class-name">Wrapper</span></span> <span class="token keyword module keyword-from">from</span> <span class="token string">&apos;../../assets/wrappers/SharedLayout&apos;</span><span class="token punctuation">;</span>

<span class="token keyword keyword-const">const</span> <span class="token function-variable function"><span class="token maybe-class-name">SharedLayout</span></span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword control-flow keyword-return">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span><span class="token maybe-class-name">Wrapper</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>nav<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token maybe-class-name">Link</span> to<span class="token operator">=</span><span class="token string">&apos;all-jobs&apos;</span><span class="token operator">&gt;</span>all jobs<span class="token operator">&lt;</span><span class="token operator">/</span><span class="token maybe-class-name">Link</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token maybe-class-name">Link</span> to<span class="token operator">=</span><span class="token string">&apos;add-job&apos;</span><span class="token operator">&gt;</span>all jobs<span class="token operator">&lt;</span><span class="token operator">/</span><span class="token maybe-class-name">Link</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>nav<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token maybe-class-name">Outlet</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span><span class="token maybe-class-name">Wrapper</span><span class="token operator">&gt;</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword module keyword-export">export</span> <span class="token keyword module keyword-default">default</span> <span class="token maybe-class-name">SharedLayout</span><span class="token punctuation">;</span>
</pre><pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token maybe-class-name">App</span><span class="token punctuation">.</span><span class="token property-access">js</span>

<span class="token operator">&lt;</span><span class="token maybe-class-name">Route</span> index element<span class="token operator">=</span><span class="token punctuation">{</span><span class="token operator">&lt;</span><span class="token maybe-class-name">Stats</span><span class="token operator">/</span><span class="token operator">&gt;</span><span class="token punctuation">}</span> <span class="token operator">&gt;</span>
</pre><h4 class="mume-header" id="protected-route">Protected Route</h4>

<ul>
<li>create ProtectedRoute.js in pages</li>
<li>import/export</li>
<li>wrap SharedLayout in App.js</li>
</ul>
<pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token operator">&lt;</span><span class="token maybe-class-name">Route</span>
  path<span class="token operator">=</span><span class="token string">&apos;/&apos;</span>
  element<span class="token operator">=</span><span class="token punctuation">{</span>
    <span class="token operator">&lt;</span><span class="token maybe-class-name">ProtectedRoute</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token maybe-class-name">SharedLayout</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span><span class="token maybe-class-name">ProtectedRoute</span><span class="token operator">&gt;</span>
  <span class="token punctuation">}</span>
<span class="token operator">/</span><span class="token operator">&gt;</span>
</pre><pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token maybe-class-name">ProtectedRoute</span><span class="token punctuation">.</span><span class="token property-access">js</span><span class="token punctuation">;</span>

<span class="token keyword module keyword-import">import</span> <span class="token imports"><span class="token punctuation">{</span> <span class="token maybe-class-name">Navigate</span> <span class="token punctuation">}</span></span> <span class="token keyword module keyword-from">from</span> <span class="token string">&apos;react-router-dom&apos;</span><span class="token punctuation">;</span>
<span class="token keyword module keyword-import">import</span> <span class="token imports"><span class="token punctuation">{</span> useAppContext <span class="token punctuation">}</span></span> <span class="token keyword module keyword-from">from</span> <span class="token string">&apos;../context/appContext&apos;</span><span class="token punctuation">;</span>

<span class="token keyword keyword-const">const</span> <span class="token function-variable function"><span class="token maybe-class-name">ProtectedRoute</span></span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> children <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword keyword-const">const</span> <span class="token punctuation">{</span> user <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">useAppContext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword control-flow keyword-if">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>user<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword control-flow keyword-return">return</span> <span class="token operator">&lt;</span><span class="token maybe-class-name">Navigate</span> to<span class="token operator">=</span><span class="token string">&apos;/landing&apos;</span> <span class="token operator">/</span><span class="token operator">&gt;</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword control-flow keyword-return">return</span> children<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</pre><h4 class="mume-header" id="navbar-smallsidebar-bigsidebar">Navbar, SmallSidebar, BigSidebar</h4>

<ul>
<li>create Navbar, SmallSidebar, BigSidebar in components</li>
<li>import Wrappers from assets/wrappers</li>
<li>simple return</li>
<li>import/export</li>
</ul>
<pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token maybe-class-name">SharedLayout</span><span class="token punctuation">.</span><span class="token property-access">js</span><span class="token punctuation">;</span>

<span class="token keyword module keyword-import">import</span> <span class="token imports"><span class="token punctuation">{</span> <span class="token maybe-class-name">Outlet</span> <span class="token punctuation">}</span></span> <span class="token keyword module keyword-from">from</span> <span class="token string">&apos;react-router-dom&apos;</span><span class="token punctuation">;</span>
<span class="token keyword module keyword-import">import</span> <span class="token imports"><span class="token punctuation">{</span> <span class="token maybe-class-name">Navbar</span><span class="token punctuation">,</span> <span class="token maybe-class-name">SmallSidebar</span><span class="token punctuation">,</span> <span class="token maybe-class-name">BigSidebar</span> <span class="token punctuation">}</span></span> <span class="token keyword module keyword-from">from</span> <span class="token string">&apos;../../components&apos;</span><span class="token punctuation">;</span>
<span class="token keyword module keyword-import">import</span> <span class="token imports"><span class="token maybe-class-name">Wrapper</span></span> <span class="token keyword module keyword-from">from</span> <span class="token string">&apos;../../assets/wrappers/SharedLayout&apos;</span><span class="token punctuation">;</span>

<span class="token keyword keyword-const">const</span> <span class="token function-variable function"><span class="token maybe-class-name">SharedLayout</span></span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword keyword-const">const</span> <span class="token punctuation">{</span> user <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">useAppContext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword control-flow keyword-return">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token maybe-class-name">Wrapper</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>main className<span class="token operator">=</span><span class="token string">&apos;dashboard&apos;</span><span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span><span class="token maybe-class-name">SmallSidebar</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span><span class="token maybe-class-name">BigSidebar</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span><span class="token maybe-class-name">Navbar</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>div className<span class="token operator">=</span><span class="token string">&apos;dashboard-page&apos;</span><span class="token operator">&gt;</span>
              <span class="token operator">&lt;</span><span class="token maybe-class-name">Outlet</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>main<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span><span class="token maybe-class-name">Wrapper</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span><span class="token operator">&gt;</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword module keyword-export">export</span> <span class="token keyword module keyword-default">default</span> <span class="token maybe-class-name">SharedLayout</span><span class="token punctuation">;</span>
</pre><h4 class="mume-header" id="react-icons">React Icons</h4>

<p><a href="https://react-icons.github.io/react-icons/">React Icons</a></p>
<pre data-role="codeBlock" data-info="sh" class="language-bash"><span class="token function">npm</span> <span class="token function">install</span> react-icons
</pre><pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token maybe-class-name">Navbar</span><span class="token punctuation">.</span><span class="token property-access">js</span>

<span class="token keyword module keyword-import">import</span> <span class="token imports"><span class="token maybe-class-name">Wrapper</span></span> <span class="token keyword module keyword-from">from</span> <span class="token string">&apos;../assets/wrappers/Navbar&apos;</span>
<span class="token keyword module keyword-import">import</span> <span class="token imports"><span class="token punctuation">{</span><span class="token maybe-class-name">FaHome</span><span class="token punctuation">}</span></span> <span class="token keyword module keyword-from">from</span> <span class="token string">&apos;react-icons/fa&apos;</span>
<span class="token keyword keyword-const">const</span> <span class="token function-variable function"><span class="token maybe-class-name">Navbar</span></span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword control-flow keyword-return">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span><span class="token maybe-class-name">Wrapper</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>h4<span class="token operator">&gt;</span>navbar<span class="token operator">&lt;</span><span class="token operator">/</span>h4<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token maybe-class-name">FaHome</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span><span class="token maybe-class-name">Wrapper</span><span class="token operator">&gt;</span>
  <span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword module keyword-export">export</span> <span class="token keyword module keyword-default">default</span> <span class="token maybe-class-name">Navbar</span>

</pre><h4 class="mume-header" id="navbar-setup">Navbar Setup</h4>

<pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token maybe-class-name">Navbar</span><span class="token punctuation">.</span><span class="token property-access">js</span><span class="token punctuation">;</span>

<span class="token keyword module keyword-import">import</span> <span class="token imports"><span class="token punctuation">{</span> useState <span class="token punctuation">}</span></span> <span class="token keyword module keyword-from">from</span> <span class="token string">&apos;react&apos;</span><span class="token punctuation">;</span>
<span class="token keyword module keyword-import">import</span> <span class="token imports"><span class="token punctuation">{</span> <span class="token maybe-class-name">FaAlignLeft</span><span class="token punctuation">,</span> <span class="token maybe-class-name">FaUserCircle</span><span class="token punctuation">,</span> <span class="token maybe-class-name">FaCaretDown</span> <span class="token punctuation">}</span></span> <span class="token keyword module keyword-from">from</span> <span class="token string">&apos;react-icons/fa&apos;</span><span class="token punctuation">;</span>
<span class="token keyword module keyword-import">import</span> <span class="token imports"><span class="token punctuation">{</span> useAppContext <span class="token punctuation">}</span></span> <span class="token keyword module keyword-from">from</span> <span class="token string">&apos;../context/appContext&apos;</span><span class="token punctuation">;</span>
<span class="token keyword module keyword-import">import</span> <span class="token imports"><span class="token maybe-class-name">Logo</span></span> <span class="token keyword module keyword-from">from</span> <span class="token string">&apos;./Logo&apos;</span><span class="token punctuation">;</span>
<span class="token keyword module keyword-import">import</span> <span class="token imports"><span class="token maybe-class-name">Wrapper</span></span> <span class="token keyword module keyword-from">from</span> <span class="token string">&apos;../assets/wrappers/Navbar&apos;</span><span class="token punctuation">;</span>
<span class="token keyword keyword-const">const</span> <span class="token function-variable function"><span class="token maybe-class-name">Navbar</span></span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword control-flow keyword-return">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span><span class="token maybe-class-name">Wrapper</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>div className<span class="token operator">=</span><span class="token string">&apos;nav-center&apos;</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>button
          className<span class="token operator">=</span><span class="token string">&apos;toggle-btn&apos;</span>
          onClick<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token string">&apos;toggle sidebar&apos;</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
        <span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span><span class="token maybe-class-name">FaAlignLeft</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>

        <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span><span class="token maybe-class-name">Logo</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span>h3 className<span class="token operator">=</span><span class="token string">&apos;logo-text&apos;</span><span class="token operator">&gt;</span>dashboard<span class="token operator">&lt;</span><span class="token operator">/</span>h3<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>

        <span class="token operator">&lt;</span>div className<span class="token operator">=</span><span class="token string">&apos;btn-container&apos;</span><span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span>button className<span class="token operator">=</span><span class="token string">&apos;btn&apos;</span> onClick<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token string">&apos;show logout&apos;</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span><span class="token maybe-class-name">FaUserCircle</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
            john
            <span class="token operator">&lt;</span><span class="token maybe-class-name">FaCaretDown</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span>div className<span class="token operator">=</span><span class="token string">&apos;dropdown show-dropdown&apos;</span><span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>button
              onClick<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token string">&apos;logout user&apos;</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
              className<span class="token operator">=</span><span class="token string">&apos;dropdown-btn&apos;</span>
            <span class="token operator">&gt;</span>
              logout
            <span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span><span class="token maybe-class-name">Wrapper</span><span class="token operator">&gt;</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword module keyword-export">export</span> <span class="token keyword module keyword-default">default</span> <span class="token maybe-class-name">Navbar</span><span class="token punctuation">;</span>
</pre><h4 class="mume-header" id="toggle-sidebar">Toggle Sidebar</h4>

<pre data-role="codeBlock" data-info="js" class="language-javascript">actions<span class="token punctuation">.</span><span class="token property-access">js</span><span class="token punctuation">;</span>

<span class="token keyword module keyword-export">export</span> <span class="token keyword keyword-const">const</span> <span class="token constant">TOGGLE_SIDEBAR</span> <span class="token operator">=</span> <span class="token string">&apos;TOGGLE_SIDEBAR&apos;</span><span class="token punctuation">;</span>
</pre><ul>
<li>import/export</li>
</ul>
<pre data-role="codeBlock" data-info="js" class="language-javascript">appContext<span class="token punctuation">.</span><span class="token property-access">js</span><span class="token punctuation">;</span>

<span class="token keyword keyword-const">const</span> initialState <span class="token operator">=</span> <span class="token punctuation">{</span>
  showSidebar<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword keyword-const">const</span> <span class="token function-variable function">toggleSidebar</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token punctuation">{</span> type<span class="token operator">:</span> <span class="token constant">TOGGLE_SIDEBAR</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</pre><pre data-role="codeBlock" data-info="js" class="language-javascript">reducer<span class="token punctuation">.</span><span class="token property-access">js</span><span class="token punctuation">;</span>

<span class="token keyword control-flow keyword-if">if</span> <span class="token punctuation">(</span>action<span class="token punctuation">.</span><span class="token property-access">type</span> <span class="token operator">===</span> <span class="token constant">TOGGLE_SIDEBAR</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword control-flow keyword-return">return</span> <span class="token punctuation">{</span> <span class="token spread operator">...</span>state<span class="token punctuation">,</span> showSidebar<span class="token operator">:</span> <span class="token operator">!</span>state<span class="token punctuation">.</span><span class="token property-access">showSidebar</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</pre><pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token maybe-class-name">Navbar</span><span class="token punctuation">.</span><span class="token property-access">js</span><span class="token punctuation">;</span>

<span class="token keyword keyword-const">const</span> <span class="token punctuation">{</span> toggleSidebar <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">useAppContext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword control-flow keyword-return">return</span> <span class="token punctuation">(</span>
  <span class="token operator">&lt;</span>button className<span class="token operator">=</span><span class="token string">&apos;toggle-btn&apos;</span> onClick<span class="token operator">=</span><span class="token punctuation">{</span>toggleSidebar<span class="token punctuation">}</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token maybe-class-name">FaAlignLeft</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</pre><h4 class="mume-header" id="toggle-dropdown">Toggle Dropdown</h4>

<pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token maybe-class-name">Navbar</span><span class="token punctuation">.</span><span class="token property-access">js</span>

<span class="token keyword keyword-const">const</span> <span class="token punctuation">[</span>showLogout<span class="token punctuation">,</span> setShowLogout<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span>

<span class="token operator">&lt;</span>div className<span class="token operator">=</span><span class="token string">&apos;btn-container&apos;</span><span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>button className<span class="token operator">=</span><span class="token string">&apos;btn&apos;</span> onClick<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token function">setShowLogout</span><span class="token punctuation">(</span><span class="token operator">!</span>showLogout<span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token maybe-class-name">FaUserCircle</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
      <span class="token punctuation">{</span>user<span class="token punctuation">.</span><span class="token property-access">name</span><span class="token punctuation">}</span>
    <span class="token operator">&lt;</span><span class="token maybe-class-name">FaCaretDown</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>div className<span class="token operator">=</span><span class="token punctuation">{</span>showLogout <span class="token operator">?</span> <span class="token string">&apos;dropdown show-dropdown&apos;</span> <span class="token operator">:</span> <span class="token string">&apos;dropdown&apos;</span><span class="token punctuation">}</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>button onClick<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token function">logoutUser</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span> className<span class="token operator">=</span><span class="token string">&apos;dropdown-btn&apos;</span><span class="token operator">&gt;</span>
      logout
    <span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>

</pre><h4 class="mume-header" id="logout-user">Logout User</h4>

<pre data-role="codeBlock" data-info="js" class="language-javascript">actions<span class="token punctuation">.</span><span class="token property-access">js</span><span class="token punctuation">;</span>

<span class="token keyword module keyword-export">export</span> <span class="token keyword keyword-const">const</span> <span class="token constant">LOGOUT_USER</span> <span class="token operator">=</span> <span class="token string">&apos;LOGOUT_USER&apos;</span><span class="token punctuation">;</span>
</pre><ul>
<li>import/export</li>
</ul>
<pre data-role="codeBlock" data-info="js" class="language-javascript">appContext<span class="token punctuation">.</span><span class="token property-access">js</span>

<span class="token keyword keyword-const">const</span> <span class="token function-variable function">logoutUser</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token punctuation">{</span> type<span class="token operator">:</span> <span class="token constant">LOGOUT_USER</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token function">removeUserFromLocalStorage</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

value<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span>logoutUser<span class="token punctuation">}</span><span class="token punctuation">}</span>
</pre><pre data-role="codeBlock" data-info="js" class="language-javascript">reducer<span class="token punctuation">.</span><span class="token property-access">js</span><span class="token punctuation">;</span>

<span class="token keyword module keyword-import">import</span> <span class="token imports"><span class="token punctuation">{</span> initialState <span class="token punctuation">}</span></span> <span class="token keyword module keyword-from">from</span> <span class="token string">&apos;./appContext&apos;</span><span class="token punctuation">;</span>

<span class="token keyword control-flow keyword-if">if</span> <span class="token punctuation">(</span>action<span class="token punctuation">.</span><span class="token property-access">type</span> <span class="token operator">===</span> <span class="token constant">LOGOUT_USER</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword control-flow keyword-return">return</span> <span class="token punctuation">{</span>
    <span class="token spread operator">...</span>initialState<span class="token punctuation">,</span>
    user<span class="token operator">:</span> <span class="token keyword null nil keyword-null">null</span><span class="token punctuation">,</span>
    token<span class="token operator">:</span> <span class="token keyword null nil keyword-null">null</span><span class="token punctuation">,</span>
    userLocation<span class="token operator">:</span> <span class="token string">&apos;&apos;</span><span class="token punctuation">,</span>
    jobLocation<span class="token operator">:</span> <span class="token string">&apos;&apos;</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</pre><pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token maybe-class-name">Navbar</span><span class="token punctuation">.</span><span class="token property-access">js</span><span class="token punctuation">;</span>

<span class="token keyword keyword-const">const</span> <span class="token punctuation">{</span> user<span class="token punctuation">,</span> logoutUser<span class="token punctuation">,</span> toggleSidebar <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">useAppContext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword control-flow keyword-return">return</span> <span class="token punctuation">(</span>
  <span class="token operator">&lt;</span>div className<span class="token operator">=</span><span class="token string">&apos;btn-container&apos;</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>button className<span class="token operator">=</span><span class="token string">&apos;btn&apos;</span> onClick<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token function">setShowLogout</span><span class="token punctuation">(</span><span class="token operator">!</span>showLogout<span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token maybe-class-name">FaUserCircle</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
      <span class="token punctuation">{</span>user<span class="token punctuation">.</span><span class="token property-access">name</span><span class="token punctuation">}</span>
      <span class="token punctuation">{</span>user <span class="token operator">&amp;&amp;</span> user<span class="token punctuation">.</span><span class="token property-access">name</span><span class="token punctuation">}</span>
      <span class="token punctuation">{</span>user<span class="token operator">?.</span>name<span class="token punctuation">}</span> <span class="token comment">// optional chaining</span>
      <span class="token operator">&lt;</span><span class="token maybe-class-name">FaCaretDown</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>div className<span class="token operator">=</span><span class="token punctuation">{</span>showLogout <span class="token operator">?</span> <span class="token string">&apos;dropdown show-dropdown&apos;</span> <span class="token operator">:</span> <span class="token string">&apos;dropdown&apos;</span><span class="token punctuation">}</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>button onClick<span class="token operator">=</span><span class="token punctuation">{</span>logoutUser<span class="token punctuation">}</span> className<span class="token operator">=</span><span class="token string">&apos;dropdown-btn&apos;</span><span class="token operator">&gt;</span>
        logout
      <span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</pre><h4 class="mume-header" id="setup-links">Setup Links</h4>

<ul>
<li>create <b>utils</b>in the <b>src</b></li>
<li>setup links.js</li>
</ul>
<pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token keyword module keyword-import">import</span> <span class="token imports"><span class="token punctuation">{</span> <span class="token maybe-class-name">IoBarChartSharp</span> <span class="token punctuation">}</span></span> <span class="token keyword module keyword-from">from</span> <span class="token string">&apos;react-icons/io5&apos;</span><span class="token punctuation">;</span>
<span class="token keyword module keyword-import">import</span> <span class="token imports"><span class="token punctuation">{</span> <span class="token maybe-class-name">MdQueryStats</span> <span class="token punctuation">}</span></span> <span class="token keyword module keyword-from">from</span> <span class="token string">&apos;react-icons/md&apos;</span><span class="token punctuation">;</span>
<span class="token keyword module keyword-import">import</span> <span class="token imports"><span class="token punctuation">{</span> <span class="token maybe-class-name">FaWpforms</span> <span class="token punctuation">}</span></span> <span class="token keyword module keyword-from">from</span> <span class="token string">&apos;react-icons/fa&apos;</span><span class="token punctuation">;</span>
<span class="token keyword module keyword-import">import</span> <span class="token imports"><span class="token punctuation">{</span> <span class="token maybe-class-name">ImProfile</span> <span class="token punctuation">}</span></span> <span class="token keyword module keyword-from">from</span> <span class="token string">&apos;react-icons/im&apos;</span><span class="token punctuation">;</span>

<span class="token keyword keyword-const">const</span> links <span class="token operator">=</span> <span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    id<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
    text<span class="token operator">:</span> <span class="token string">&apos;stats&apos;</span><span class="token punctuation">,</span>
    path<span class="token operator">:</span> <span class="token string">&apos;/&apos;</span><span class="token punctuation">,</span>
    icon<span class="token operator">:</span> <span class="token operator">&lt;</span><span class="token maybe-class-name">IoBarChartSharp</span> <span class="token operator">/</span><span class="token operator">&gt;</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    id<span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
    text<span class="token operator">:</span> <span class="token string">&apos;all jobs&apos;</span><span class="token punctuation">,</span>
    path<span class="token operator">:</span> <span class="token string">&apos;all-jobs&apos;</span><span class="token punctuation">,</span>
    icon<span class="token operator">:</span> <span class="token operator">&lt;</span><span class="token maybe-class-name">MdQueryStats</span> <span class="token operator">/</span><span class="token operator">&gt;</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    id<span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span>
    text<span class="token operator">:</span> <span class="token string">&apos;add job&apos;</span><span class="token punctuation">,</span>
    path<span class="token operator">:</span> <span class="token string">&apos;add-job&apos;</span><span class="token punctuation">,</span>
    icon<span class="token operator">:</span> <span class="token operator">&lt;</span><span class="token maybe-class-name">FaWpforms</span> <span class="token operator">/</span><span class="token operator">&gt;</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    id<span class="token operator">:</span> <span class="token number">4</span><span class="token punctuation">,</span>
    text<span class="token operator">:</span> <span class="token string">&apos;profile&apos;</span><span class="token punctuation">,</span>
    path<span class="token operator">:</span> <span class="token string">&apos;profile&apos;</span><span class="token punctuation">,</span>
    icon<span class="token operator">:</span> <span class="token operator">&lt;</span><span class="token maybe-class-name">ImProfile</span> <span class="token operator">/</span><span class="token operator">&gt;</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token keyword module keyword-export">export</span> <span class="token keyword module keyword-default">default</span> links<span class="token punctuation">;</span>
</pre><h4 class="mume-header" id="small-sidebar---setup">Small Sidebar - Setup</h4>

<pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token maybe-class-name">SmallSidebar</span><span class="token punctuation">.</span><span class="token property-access">js</span><span class="token punctuation">;</span>

<span class="token keyword module keyword-import">import</span> <span class="token imports"><span class="token maybe-class-name">Wrapper</span></span> <span class="token keyword module keyword-from">from</span> <span class="token string">&apos;../assets/wrappers/SmallSidebar&apos;</span><span class="token punctuation">;</span>
<span class="token keyword module keyword-import">import</span> <span class="token imports"><span class="token punctuation">{</span> <span class="token maybe-class-name">FaTimes</span> <span class="token punctuation">}</span></span> <span class="token keyword module keyword-from">from</span> <span class="token string">&apos;react-icons/fa&apos;</span><span class="token punctuation">;</span>
<span class="token keyword module keyword-import">import</span> <span class="token imports"><span class="token punctuation">{</span> useAppContext <span class="token punctuation">}</span></span> <span class="token keyword module keyword-from">from</span> <span class="token string">&apos;../context/appContext&apos;</span><span class="token punctuation">;</span>
<span class="token keyword module keyword-import">import</span> <span class="token imports">links</span> <span class="token keyword module keyword-from">from</span> <span class="token string">&apos;../utils/links&apos;</span><span class="token punctuation">;</span>
<span class="token keyword module keyword-import">import</span> <span class="token imports"><span class="token punctuation">{</span> <span class="token maybe-class-name">NavLink</span> <span class="token punctuation">}</span></span> <span class="token keyword module keyword-from">from</span> <span class="token string">&apos;react-router-dom&apos;</span><span class="token punctuation">;</span>
<span class="token keyword module keyword-import">import</span> <span class="token imports"><span class="token maybe-class-name">Logo</span></span> <span class="token keyword module keyword-from">from</span> <span class="token string">&apos;./Logo&apos;</span><span class="token punctuation">;</span>

<span class="token keyword module keyword-export">export</span> <span class="token keyword keyword-const">const</span> <span class="token function-variable function"><span class="token maybe-class-name">SmallSidebar</span></span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword control-flow keyword-return">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span><span class="token maybe-class-name">Wrapper</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>div className<span class="token operator">=</span><span class="token string">&apos;sidebar-container show-sidebar&apos;</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>div className<span class="token operator">=</span><span class="token string">&apos;content&apos;</span><span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span>button className<span class="token operator">=</span><span class="token string">&apos;close-btn&apos;</span> onClick<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token string">&apos;toggle&apos;</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span><span class="token maybe-class-name">FaTimes</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span>header<span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span><span class="token maybe-class-name">Logo</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span><span class="token operator">/</span>header<span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span>div className<span class="token operator">=</span><span class="token string">&apos;nav-links&apos;</span><span class="token operator">&gt;</span>nav links<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span><span class="token maybe-class-name">Wrapper</span><span class="token operator">&gt;</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword module keyword-export">export</span> <span class="token keyword module keyword-default">default</span> <span class="token maybe-class-name">SmallSidebar</span><span class="token punctuation">;</span>
</pre><h4 class="mume-header" id="small-sidebar---toggle">Small Sidebar - Toggle</h4>

<pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token maybe-class-name">SmallSidebar</span><span class="token punctuation">.</span><span class="token property-access">js</span><span class="token punctuation">;</span>

<span class="token keyword keyword-const">const</span> <span class="token punctuation">{</span> showSidebar<span class="token punctuation">,</span> toggleSidebar <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">useAppContext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</pre><pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token maybe-class-name">SmallSidebar</span><span class="token punctuation">.</span><span class="token property-access">js</span><span class="token punctuation">;</span>

<span class="token keyword control-flow keyword-return">return</span> <span class="token punctuation">(</span>
  <span class="token operator">&lt;</span>div
    className<span class="token operator">=</span><span class="token punctuation">{</span>
      showSidebar <span class="token operator">?</span> <span class="token string">&apos;sidebar-container show-sidebar&apos;</span> <span class="token operator">:</span> <span class="token string">&apos;sidebar-container&apos;</span>
    <span class="token punctuation">}</span>
  <span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</pre><pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token maybe-class-name">SmallSidebar</span><span class="token punctuation">.</span><span class="token property-access">js</span><span class="token punctuation">;</span>

<span class="token keyword control-flow keyword-return">return</span> <span class="token punctuation">(</span>
  <span class="token operator">&lt;</span>button className<span class="token operator">=</span><span class="token string">&apos;close-btn&apos;</span> onClick<span class="token operator">=</span><span class="token punctuation">{</span>toggleSidebar<span class="token punctuation">}</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token maybe-class-name">FaTimes</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</pre><h4 class="mume-header" id="small-sidebar---nav-links">Small Sidebar - Nav Links</h4>

<pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token maybe-class-name">SmallSidebar</span><span class="token punctuation">.</span><span class="token property-access">js</span><span class="token punctuation">;</span>

<span class="token keyword module keyword-import">import</span> <span class="token imports"><span class="token punctuation">{</span> <span class="token maybe-class-name">NavLink</span> <span class="token punctuation">}</span></span> <span class="token keyword module keyword-from">from</span> <span class="token string">&apos;react-router-dom&apos;</span><span class="token punctuation">;</span>

<span class="token keyword control-flow keyword-return">return</span> <span class="token punctuation">(</span>
  <span class="token operator">&lt;</span>div className<span class="token operator">=</span><span class="token string">&apos;nav-links&apos;</span><span class="token operator">&gt;</span>
    <span class="token punctuation">{</span>links<span class="token punctuation">.</span><span class="token method function property-access">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">link</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword keyword-const">const</span> <span class="token punctuation">{</span> text<span class="token punctuation">,</span> path<span class="token punctuation">,</span> id<span class="token punctuation">,</span> icon <span class="token punctuation">}</span> <span class="token operator">=</span> link<span class="token punctuation">;</span>

      <span class="token keyword control-flow keyword-return">return</span> <span class="token punctuation">(</span>
        <span class="token operator">&lt;</span><span class="token maybe-class-name">NavLink</span>
          to<span class="token operator">=</span><span class="token punctuation">{</span>path<span class="token punctuation">}</span>
          className<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> isActive <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span>
            isActive <span class="token operator">?</span> <span class="token string">&apos;nav-link active&apos;</span> <span class="token operator">:</span> <span class="token string">&apos;nav-link&apos;</span>
          <span class="token punctuation">}</span>
          key<span class="token operator">=</span><span class="token punctuation">{</span>id<span class="token punctuation">}</span>
          onClick<span class="token operator">=</span><span class="token punctuation">{</span>toggleSidebar<span class="token punctuation">}</span>
        <span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span>span className<span class="token operator">=</span><span class="token string">&apos;icon&apos;</span><span class="token operator">&gt;</span><span class="token punctuation">{</span>icon<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>span<span class="token operator">&gt;</span>
          <span class="token punctuation">{</span>text<span class="token punctuation">}</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span><span class="token maybe-class-name">NavLink</span><span class="token operator">&gt;</span>
      <span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</pre><h4 class="mume-header" id="nav-links-component">Nav Links Component</h4>

<ul>
<li>in <b>components</b> create NavLinks.js</li>
<li>styles still set from Wrapper</li>
<li>also can setup in links.js, preference</li>
</ul>
<pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token keyword module keyword-import">import</span> <span class="token imports"><span class="token punctuation">{</span> <span class="token maybe-class-name">NavLink</span> <span class="token punctuation">}</span></span> <span class="token keyword module keyword-from">from</span> <span class="token string">&apos;react-router-dom&apos;</span><span class="token punctuation">;</span>
<span class="token keyword module keyword-import">import</span> <span class="token imports">links</span> <span class="token keyword module keyword-from">from</span> <span class="token string">&apos;../utils/links&apos;</span><span class="token punctuation">;</span>

<span class="token keyword keyword-const">const</span> <span class="token function-variable function"><span class="token maybe-class-name">NavLinks</span></span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> toggleSidebar <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword control-flow keyword-return">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span>div className<span class="token operator">=</span><span class="token string">&apos;nav-links&apos;</span><span class="token operator">&gt;</span>
      <span class="token punctuation">{</span>links<span class="token punctuation">.</span><span class="token method function property-access">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">link</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword keyword-const">const</span> <span class="token punctuation">{</span> text<span class="token punctuation">,</span> path<span class="token punctuation">,</span> id<span class="token punctuation">,</span> icon <span class="token punctuation">}</span> <span class="token operator">=</span> link<span class="token punctuation">;</span>

        <span class="token keyword control-flow keyword-return">return</span> <span class="token punctuation">(</span>
          <span class="token operator">&lt;</span><span class="token maybe-class-name">NavLink</span>
            to<span class="token operator">=</span><span class="token punctuation">{</span>path<span class="token punctuation">}</span>
            key<span class="token operator">=</span><span class="token punctuation">{</span>id<span class="token punctuation">}</span>
            onClick<span class="token operator">=</span><span class="token punctuation">{</span>toggleSidebar<span class="token punctuation">}</span>
            className<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> isActive <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span>
              isActive <span class="token operator">?</span> <span class="token string">&apos;nav-link active&apos;</span> <span class="token operator">:</span> <span class="token string">&apos;nav-link&apos;</span>
            <span class="token punctuation">}</span>
          <span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>span className<span class="token operator">=</span><span class="token string">&apos;icon&apos;</span><span class="token operator">&gt;</span><span class="token punctuation">{</span>icon<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>span<span class="token operator">&gt;</span>
            <span class="token punctuation">{</span>text<span class="token punctuation">}</span>
          <span class="token operator">&lt;</span><span class="token operator">/</span><span class="token maybe-class-name">NavLink</span><span class="token operator">&gt;</span>
        <span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword module keyword-export">export</span> <span class="token keyword module keyword-default">default</span> <span class="token maybe-class-name">NavLinks</span><span class="token punctuation">;</span>
</pre><pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token maybe-class-name">SmallSidebar</span><span class="token punctuation">.</span><span class="token property-access">js</span>

<span class="token keyword module keyword-import">import</span> <span class="token imports"><span class="token maybe-class-name">NavLinks</span></span> <span class="token keyword module keyword-from">from</span> <span class="token string">&apos;./NavLinks&apos;</span>

<span class="token keyword control-flow keyword-return">return</span> <span class="token operator">&lt;</span><span class="token maybe-class-name">NavLinks</span> toggleSidebar<span class="token operator">=</span><span class="token punctuation">{</span>toggleSidebar<span class="token punctuation">}</span><span class="token operator">&gt;</span>
</pre><h4 class="mume-header" id="big-sidebar">Big Sidebar</h4>

<pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token keyword module keyword-import">import</span> <span class="token imports"><span class="token punctuation">{</span> useAppContext <span class="token punctuation">}</span></span> <span class="token keyword module keyword-from">from</span> <span class="token string">&apos;../context/appContext&apos;</span><span class="token punctuation">;</span>
<span class="token keyword module keyword-import">import</span> <span class="token imports"><span class="token maybe-class-name">NavLinks</span></span> <span class="token keyword module keyword-from">from</span> <span class="token string">&apos;./NavLinks&apos;</span><span class="token punctuation">;</span>
<span class="token keyword module keyword-import">import</span> <span class="token imports"><span class="token maybe-class-name">Logo</span></span> <span class="token keyword module keyword-from">from</span> <span class="token string">&apos;../components/Logo&apos;</span><span class="token punctuation">;</span>
<span class="token keyword module keyword-import">import</span> <span class="token imports"><span class="token maybe-class-name">Wrapper</span></span> <span class="token keyword module keyword-from">from</span> <span class="token string">&apos;../assets/wrappers/BigSidebar&apos;</span><span class="token punctuation">;</span>

<span class="token keyword keyword-const">const</span> <span class="token function-variable function"><span class="token maybe-class-name">BigSidebar</span></span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword keyword-const">const</span> <span class="token punctuation">{</span> showSidebar <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">useAppContext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword control-flow keyword-return">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span><span class="token maybe-class-name">Wrapper</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>div
        className<span class="token operator">=</span><span class="token punctuation">{</span>
          showSidebar <span class="token operator">?</span> <span class="token string">&apos;sidebar-container &apos;</span> <span class="token operator">:</span> <span class="token string">&apos;sidebar-container show-sidebar&apos;</span>
        <span class="token punctuation">}</span>
      <span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>div className<span class="token operator">=</span><span class="token string">&apos;content&apos;</span><span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span>header<span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span><span class="token maybe-class-name">Logo</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span><span class="token operator">/</span>header<span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span><span class="token maybe-class-name">NavLinks</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span><span class="token maybe-class-name">Wrapper</span><span class="token operator">&gt;</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword module keyword-export">export</span> <span class="token keyword module keyword-default">default</span> <span class="token maybe-class-name">BigSidebar</span><span class="token punctuation">;</span>
</pre><h4 class="mume-header" id="react-router-update-">REACT ROUTER UPDATE !!!</h4>

<ul>
<li><a href="https://stackoverflow.com/questions/70644361/react-router-dom-v6-shows-active-for-index-as-well-as-other-subroutes">Stack Overflow</a></li>
</ul>
<pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token operator">&lt;</span><span class="token maybe-class-name">NavLink</span>
to<span class="token operator">=</span><span class="token punctuation">{</span>path<span class="token punctuation">}</span>
key<span class="token operator">=</span><span class="token punctuation">{</span>id<span class="token punctuation">}</span>
onClick<span class="token operator">=</span><span class="token punctuation">{</span>toggleSidebar<span class="token punctuation">}</span>
className<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> isActive <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span>
isActive <span class="token operator">?</span> <span class="token string">&apos;nav-link active&apos;</span> <span class="token operator">:</span> <span class="token string">&apos;nav-link&apos;</span><span class="token punctuation">}</span>


end
<span class="token operator">&gt;</span>
</pre><h4 class="mume-header" id="authenticate-user-setup">Authenticate User Setup</h4>

<ul>
<li>create auth.js in <b>middleware</b></li>
</ul>
<pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token keyword keyword-const">const</span> <span class="token function-variable function">auth</span> <span class="token operator">=</span> <span class="token keyword keyword-async">async</span> <span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res<span class="token punctuation">,</span> next</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token string">&apos;authenticate user&apos;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword module keyword-export">export</span> <span class="token keyword module keyword-default">default</span> auth<span class="token punctuation">;</span>
</pre><pre data-role="codeBlock" data-info="js" class="language-javascript">authRoutes<span class="token punctuation">.</span><span class="token property-access">js</span><span class="token punctuation">;</span>

<span class="token keyword module keyword-import">import</span> <span class="token imports">authenticateUser</span> <span class="token keyword module keyword-from">from</span> <span class="token string">&apos;../middleware/auth.js&apos;</span><span class="token punctuation">;</span>

router<span class="token punctuation">.</span><span class="token method function property-access">route</span><span class="token punctuation">(</span><span class="token string">&apos;/updateUser&apos;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">patch</span><span class="token punctuation">(</span>authenticateUser<span class="token punctuation">,</span> updateUser<span class="token punctuation">)</span><span class="token punctuation">;</span>
</pre><ul>
<li>two options</li>
</ul>
<pre data-role="codeBlock" data-info="js" class="language-javascript">server<span class="token punctuation">.</span><span class="token property-access">js</span><span class="token punctuation">;</span>

<span class="token keyword module keyword-import">import</span> <span class="token imports">authenticateUser</span> <span class="token keyword module keyword-from">from</span> <span class="token string">&apos;./middleware/auth.js&apos;</span><span class="token punctuation">;</span>
app<span class="token punctuation">.</span><span class="token method function property-access">use</span><span class="token punctuation">(</span><span class="token string">&apos;/api/v1/jobs&apos;</span><span class="token punctuation">,</span> authenticateUser<span class="token punctuation">,</span> jobsRouter<span class="token punctuation">)</span><span class="token punctuation">;</span>
</pre><pre data-role="codeBlock" data-info="js" class="language-javascript">jobsRoutes<span class="token punctuation">.</span><span class="token property-access">js</span><span class="token punctuation">;</span>

<span class="token keyword module keyword-import">import</span> <span class="token imports">authenticateUser</span> <span class="token keyword module keyword-from">from</span> <span class="token string">&apos;./middleware/auth.js&apos;</span><span class="token punctuation">;</span>

<span class="token comment">// all routes !!!!</span>

router<span class="token punctuation">.</span><span class="token method function property-access">route</span><span class="token punctuation">(</span><span class="token string">&apos;/stats&apos;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">get</span><span class="token punctuation">(</span>authenticateUser<span class="token punctuation">,</span> showStats<span class="token punctuation">)</span><span class="token punctuation">;</span>
</pre><h4 class="mume-header" id="auth---bearer-schema">Auth - Bearer Schema</h4>

<pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token maybe-class-name">Postman</span>

<span class="token maybe-class-name">Headers</span>

<span class="token maybe-class-name">Authorization</span><span class="token operator">:</span> <span class="token maybe-class-name">Bearer</span> <span class="token operator">&lt;</span>token<span class="token operator">&gt;</span>

</pre><pre data-role="codeBlock" data-info="js" class="language-javascript">auth<span class="token punctuation">.</span><span class="token property-access">js</span><span class="token punctuation">;</span>

<span class="token keyword keyword-const">const</span> <span class="token function-variable function">auth</span> <span class="token operator">=</span> <span class="token keyword keyword-async">async</span> <span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res<span class="token punctuation">,</span> next</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword keyword-const">const</span> headers <span class="token operator">=</span> req<span class="token punctuation">.</span><span class="token property-access">headers</span><span class="token punctuation">;</span>
  <span class="token keyword keyword-const">const</span> authHeader <span class="token operator">=</span> req<span class="token punctuation">.</span><span class="token property-access">headers</span><span class="token punctuation">.</span><span class="token property-access">authorization</span><span class="token punctuation">;</span>
  <span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span>headers<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span>authHeader<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</pre><h4 class="mume-header" id="postman---set-token-programmatically">Postman - Set Token Programmatically</h4>

<ul>
<li>register and login routes</li>
<li>Tests</li>
</ul>
<pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token keyword keyword-const">const</span> jsonData <span class="token operator">=</span> pm<span class="token punctuation">.</span><span class="token property-access">response</span><span class="token punctuation">.</span><span class="token method function property-access">json</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
pm<span class="token punctuation">.</span><span class="token property-access">globals</span><span class="token punctuation">.</span><span class="token method function property-access">set</span><span class="token punctuation">(</span><span class="token string">&apos;token&apos;</span><span class="token punctuation">,</span> jsonData<span class="token punctuation">.</span><span class="token property-access">token</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token maybe-class-name">Type</span><span class="token operator">:</span> <span class="token maybe-class-name">Bearer</span><span class="token punctuation">;</span>

<span class="token maybe-class-name">Token</span><span class="token operator">:</span> <span class="token punctuation">{</span>
  <span class="token punctuation">{</span>
    token<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</pre><h4 class="mume-header" id="unauthenticated-error">Unauthenticated Error</h4>

<pre data-role="codeBlock" data-info="js" class="language-javascript">auth<span class="token punctuation">.</span><span class="token property-access">js</span><span class="token punctuation">;</span>

<span class="token keyword module keyword-import">import</span> <span class="token punctuation">{</span> <span class="token known-class-name class-name">UnAuthenticatedError</span> <span class="token punctuation">}</span> <span class="token keyword module keyword-from">from</span> <span class="token string">&apos;../errors/index.js&apos;</span><span class="token punctuation">;</span>

<span class="token keyword keyword-const">const</span> <span class="token function-variable function">auth</span> <span class="token operator">=</span> <span class="token keyword keyword-async">async</span> <span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res<span class="token punctuation">,</span> next</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword keyword-const">const</span> authHeader <span class="token operator">=</span> req<span class="token punctuation">.</span><span class="token property-access">headers</span><span class="token punctuation">.</span><span class="token property-access">authorization</span><span class="token punctuation">;</span>

  <span class="token keyword control-flow keyword-if">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>authHeader<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// why, well is it 400 or 404?</span>
    <span class="token comment">// actually 401</span>
    <span class="token keyword control-flow keyword-throw">throw</span> <span class="token keyword keyword-new">new</span> <span class="token class-name">UnAuthenticatedError</span><span class="token punctuation">(</span><span class="token string">&apos;Authentication Invalid&apos;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</pre><h4 class="mume-header" id="auth-middleware">Auth Middleware</h4>

<pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token keyword module keyword-import">import</span> <span class="token imports">jwt</span> <span class="token keyword module keyword-from">from</span> <span class="token string">&apos;jsonwebtoken&apos;</span><span class="token punctuation">;</span>
<span class="token keyword module keyword-import">import</span> <span class="token punctuation">{</span> <span class="token known-class-name class-name">UnAuthenticatedError</span> <span class="token punctuation">}</span> <span class="token keyword module keyword-from">from</span> <span class="token string">&apos;../errors/index.js&apos;</span><span class="token punctuation">;</span>

<span class="token keyword keyword-const">const</span> <span class="token function-variable function">auth</span> <span class="token operator">=</span> <span class="token keyword keyword-async">async</span> <span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res<span class="token punctuation">,</span> next</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">// check header</span>
  <span class="token keyword keyword-const">const</span> authHeader <span class="token operator">=</span> req<span class="token punctuation">.</span><span class="token property-access">headers</span><span class="token punctuation">.</span><span class="token property-access">authorization</span><span class="token punctuation">;</span>
  <span class="token keyword control-flow keyword-if">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>authHeader <span class="token operator">||</span> <span class="token operator">!</span>authHeader<span class="token punctuation">.</span><span class="token method function property-access">startsWith</span><span class="token punctuation">(</span><span class="token string">&apos;Bearer&apos;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword control-flow keyword-throw">throw</span> <span class="token keyword keyword-new">new</span> <span class="token class-name">UnauthenticatedError</span><span class="token punctuation">(</span><span class="token string">&apos;Authentication invalid&apos;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword keyword-const">const</span> token <span class="token operator">=</span> authHeader<span class="token punctuation">.</span><span class="token method function property-access">split</span><span class="token punctuation">(</span><span class="token string">&apos; &apos;</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

  <span class="token keyword control-flow keyword-try">try</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-const">const</span> payload <span class="token operator">=</span> jwt<span class="token punctuation">.</span><span class="token method function property-access">verify</span><span class="token punctuation">(</span>token<span class="token punctuation">,</span> process<span class="token punctuation">.</span><span class="token property-access">env</span><span class="token punctuation">.</span><span class="token constant">JWT_SECRET</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// console.log(payload)</span>
    <span class="token comment">// attach the user request object</span>
    <span class="token comment">// req.user = payload</span>
    req<span class="token punctuation">.</span><span class="token property-access">user</span> <span class="token operator">=</span> <span class="token punctuation">{</span> userId<span class="token operator">:</span> payload<span class="token punctuation">.</span><span class="token property-access">userId</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span> <span class="token keyword control-flow keyword-catch">catch</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword control-flow keyword-throw">throw</span> <span class="token keyword keyword-new">new</span> <span class="token class-name">UnauthenticatedError</span><span class="token punctuation">(</span><span class="token string">&apos;Authentication invalid&apos;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword module keyword-export">export</span> <span class="token keyword module keyword-default">default</span> auth<span class="token punctuation">;</span>
</pre><h4 class="mume-header" id="update-user">Update User</h4>

<pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token keyword keyword-const">const</span> <span class="token function-variable function">updateUser</span> <span class="token operator">=</span> <span class="token keyword keyword-async">async</span> <span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword keyword-const">const</span> <span class="token punctuation">{</span> email<span class="token punctuation">,</span> name<span class="token punctuation">,</span> lastName<span class="token punctuation">,</span> <span class="token dom variable">location</span> <span class="token punctuation">}</span> <span class="token operator">=</span> req<span class="token punctuation">.</span><span class="token property-access">body</span><span class="token punctuation">;</span>
  <span class="token keyword control-flow keyword-if">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>email <span class="token operator">||</span> <span class="token operator">!</span>name <span class="token operator">||</span> <span class="token operator">!</span>lastName <span class="token operator">||</span> <span class="token operator">!</span><span class="token dom variable">location</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword control-flow keyword-throw">throw</span> <span class="token keyword keyword-new">new</span> <span class="token class-name">BadRequestError</span><span class="token punctuation">(</span><span class="token string">&apos;Please provide all values&apos;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword keyword-const">const</span> user <span class="token operator">=</span> <span class="token keyword control-flow keyword-await">await</span> <span class="token maybe-class-name">User</span><span class="token punctuation">.</span><span class="token method function property-access">findOne</span><span class="token punctuation">(</span><span class="token punctuation">{</span> _id<span class="token operator">:</span> req<span class="token punctuation">.</span><span class="token property-access">user</span><span class="token punctuation">.</span><span class="token property-access">userId</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  user<span class="token punctuation">.</span><span class="token property-access">email</span> <span class="token operator">=</span> email<span class="token punctuation">;</span>
  user<span class="token punctuation">.</span><span class="token property-access">name</span> <span class="token operator">=</span> name<span class="token punctuation">;</span>
  user<span class="token punctuation">.</span><span class="token property-access">lastName</span> <span class="token operator">=</span> lastName<span class="token punctuation">;</span>
  user<span class="token punctuation">.</span><span class="token property-access">location</span> <span class="token operator">=</span> <span class="token dom variable">location</span><span class="token punctuation">;</span>

  <span class="token keyword control-flow keyword-await">await</span> user<span class="token punctuation">.</span><span class="token method function property-access">save</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment">// various setups</span>
  <span class="token comment">// in this case only id</span>
  <span class="token comment">// if other properties included, must re-generate</span>

  <span class="token keyword keyword-const">const</span> token <span class="token operator">=</span> user<span class="token punctuation">.</span><span class="token method function property-access">createJWT</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  res<span class="token punctuation">.</span><span class="token method function property-access">status</span><span class="token punctuation">(</span><span class="token maybe-class-name">StatusCodes</span><span class="token punctuation">.</span><span class="token constant">OK</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">json</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    user<span class="token punctuation">,</span>
    token<span class="token punctuation">,</span>
    <span class="token dom variable">location</span><span class="token operator">:</span> user<span class="token punctuation">.</span><span class="token property-access">location</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</pre><h4 class="mume-header" id="modified-paths">Modified Paths</h4>

<ul>
<li>user.save() vs User.findOneAndUpdate</li>
</ul>
<pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token maybe-class-name">User</span><span class="token punctuation">.</span><span class="token property-access">js</span><span class="token punctuation">;</span>

<span class="token maybe-class-name">UserSchema</span><span class="token punctuation">.</span><span class="token method function property-access">pre</span><span class="token punctuation">(</span><span class="token string">&apos;save&apos;</span><span class="token punctuation">,</span> <span class="token keyword keyword-async">async</span> <span class="token keyword keyword-function">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token keyword keyword-this">this</span><span class="token punctuation">.</span><span class="token method function property-access">modifiedPaths</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token keyword keyword-this">this</span><span class="token punctuation">.</span><span class="token method function property-access">isModified</span><span class="token punctuation">(</span><span class="token string">&apos;name&apos;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment">// if (!this.isModified(&apos;password&apos;)) return</span>
  <span class="token comment">// const salt = await bcrypt.genSalt(10)</span>
  <span class="token comment">// this.password = await bcrypt.hash(this.password, salt)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</pre><h4 class="mume-header" id="profile-page">Profile Page</h4>

<pre data-role="codeBlock" data-info="js" class="language-javascript">appContext<span class="token punctuation">.</span><span class="token property-access">js</span>

<span class="token keyword keyword-const">const</span> <span class="token function-variable function">updateUser</span> <span class="token operator">=</span> <span class="token keyword keyword-async">async</span> <span class="token punctuation">(</span><span class="token parameter">currentUser</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span>currentUser<span class="token punctuation">)</span>
<span class="token punctuation">}</span>

value<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span>updateUser<span class="token punctuation">}</span><span class="token punctuation">}</span>
</pre><pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token maybe-class-name">Profile</span><span class="token punctuation">.</span><span class="token property-access">js</span><span class="token punctuation">;</span>

<span class="token keyword module keyword-import">import</span> <span class="token imports"><span class="token punctuation">{</span> useState <span class="token punctuation">}</span></span> <span class="token keyword module keyword-from">from</span> <span class="token string">&apos;react&apos;</span><span class="token punctuation">;</span>
<span class="token keyword module keyword-import">import</span> <span class="token imports"><span class="token punctuation">{</span> <span class="token maybe-class-name">FormRow</span><span class="token punctuation">,</span> <span class="token maybe-class-name">Alert</span> <span class="token punctuation">}</span></span> <span class="token keyword module keyword-from">from</span> <span class="token string">&apos;../../components&apos;</span><span class="token punctuation">;</span>
<span class="token keyword module keyword-import">import</span> <span class="token imports"><span class="token punctuation">{</span> useAppContext <span class="token punctuation">}</span></span> <span class="token keyword module keyword-from">from</span> <span class="token string">&apos;../../context/appContext&apos;</span><span class="token punctuation">;</span>
<span class="token keyword module keyword-import">import</span> <span class="token imports"><span class="token maybe-class-name">Wrapper</span></span> <span class="token keyword module keyword-from">from</span> <span class="token string">&apos;../../assets/wrappers/DashboardFormPage&apos;</span><span class="token punctuation">;</span>

<span class="token keyword keyword-const">const</span> <span class="token function-variable function"><span class="token maybe-class-name">Profile</span></span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword keyword-const">const</span> <span class="token punctuation">{</span> user<span class="token punctuation">,</span> showAlert<span class="token punctuation">,</span> displayAlert<span class="token punctuation">,</span> updateUser<span class="token punctuation">,</span> isLoading <span class="token punctuation">}</span> <span class="token operator">=</span>
    <span class="token function">useAppContext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword keyword-const">const</span> <span class="token punctuation">[</span>name<span class="token punctuation">,</span> setName<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span>user<span class="token operator">?.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword keyword-const">const</span> <span class="token punctuation">[</span>email<span class="token punctuation">,</span> setEmail<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span>user<span class="token operator">?.</span>email<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword keyword-const">const</span> <span class="token punctuation">[</span>lastName<span class="token punctuation">,</span> setLastName<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span>user<span class="token operator">?.</span>lastName<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword keyword-const">const</span> <span class="token punctuation">[</span><span class="token dom variable">location</span><span class="token punctuation">,</span> setLocation<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span>user<span class="token operator">?.</span><span class="token dom variable">location</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword keyword-const">const</span> <span class="token function-variable function">handleSubmit</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
    e<span class="token punctuation">.</span><span class="token method function property-access">preventDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword control-flow keyword-if">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>name <span class="token operator">||</span> <span class="token operator">!</span>email <span class="token operator">||</span> <span class="token operator">!</span>lastName <span class="token operator">||</span> <span class="token operator">!</span><span class="token dom variable">location</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// test and remove temporary</span>
      <span class="token function">displayAlert</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword control-flow keyword-return">return</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token function">updateUser</span><span class="token punctuation">(</span><span class="token punctuation">{</span> name<span class="token punctuation">,</span> email<span class="token punctuation">,</span> lastName<span class="token punctuation">,</span> <span class="token dom variable">location</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token keyword control-flow keyword-return">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span><span class="token maybe-class-name">Wrapper</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>form className<span class="token operator">=</span><span class="token string">&apos;form&apos;</span> onSubmit<span class="token operator">=</span><span class="token punctuation">{</span>handleSubmit<span class="token punctuation">}</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>h3<span class="token operator">&gt;</span>profile <span class="token operator">&lt;</span><span class="token operator">/</span>h3<span class="token operator">&gt;</span>
        <span class="token punctuation">{</span>showAlert <span class="token operator">&amp;&amp;</span> <span class="token operator">&lt;</span><span class="token maybe-class-name">Alert</span> <span class="token operator">/</span><span class="token operator">&gt;</span><span class="token punctuation">}</span>

        <span class="token punctuation">{</span><span class="token comment">/* name */</span><span class="token punctuation">}</span>
        <span class="token operator">&lt;</span>div className<span class="token operator">=</span><span class="token string">&apos;form-center&apos;</span><span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span><span class="token maybe-class-name">FormRow</span>
            type<span class="token operator">=</span><span class="token string">&apos;text&apos;</span>
            name<span class="token operator">=</span><span class="token string">&apos;name&apos;</span>
            value<span class="token operator">=</span><span class="token punctuation">{</span>name<span class="token punctuation">}</span>
            handleChange<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token function">setName</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span><span class="token property-access">target</span><span class="token punctuation">.</span><span class="token property-access">value</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
          <span class="token operator">/</span><span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span><span class="token maybe-class-name">FormRow</span>
            labelText<span class="token operator">=</span><span class="token string">&apos;last name&apos;</span>
            type<span class="token operator">=</span><span class="token string">&apos;text&apos;</span>
            name<span class="token operator">=</span><span class="token string">&apos;lastName&apos;</span>
            value<span class="token operator">=</span><span class="token punctuation">{</span>lastName<span class="token punctuation">}</span>
            handleChange<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token function">setLastName</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span><span class="token property-access">target</span><span class="token punctuation">.</span><span class="token property-access">value</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
          <span class="token operator">/</span><span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span><span class="token maybe-class-name">FormRow</span>
            type<span class="token operator">=</span><span class="token string">&apos;email&apos;</span>
            name<span class="token operator">=</span><span class="token string">&apos;email&apos;</span>
            value<span class="token operator">=</span><span class="token punctuation">{</span>email<span class="token punctuation">}</span>
            handleChange<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token function">setEmail</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span><span class="token property-access">target</span><span class="token punctuation">.</span><span class="token property-access">value</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
          <span class="token operator">/</span><span class="token operator">&gt;</span>

          <span class="token operator">&lt;</span><span class="token maybe-class-name">FormRow</span>
            type<span class="token operator">=</span><span class="token string">&apos;text&apos;</span>
            name<span class="token operator">=</span><span class="token string">&apos;location&apos;</span>
            value<span class="token operator">=</span><span class="token punctuation">{</span><span class="token dom variable">location</span><span class="token punctuation">}</span>
            handleChange<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token function">setLocation</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span><span class="token property-access">target</span><span class="token punctuation">.</span><span class="token property-access">value</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
          <span class="token operator">/</span><span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span>button className<span class="token operator">=</span><span class="token string">&apos;btn btn-block&apos;</span> type<span class="token operator">=</span><span class="token string">&apos;submit&apos;</span> disabled<span class="token operator">=</span><span class="token punctuation">{</span>isLoading<span class="token punctuation">}</span><span class="token operator">&gt;</span>
            <span class="token punctuation">{</span>isLoading <span class="token operator">?</span> <span class="token string">&apos;Please Wait...&apos;</span> <span class="token operator">:</span> <span class="token string">&apos;save changes&apos;</span><span class="token punctuation">}</span>
          <span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>form<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span><span class="token maybe-class-name">Wrapper</span><span class="token operator">&gt;</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword module keyword-export">export</span> <span class="token keyword module keyword-default">default</span> <span class="token maybe-class-name">Profile</span><span class="token punctuation">;</span>
</pre><h4 class="mume-header" id="bearer-token---manual-approach">Bearer Token - Manual Approach</h4>

<pre data-role="codeBlock" data-info="js" class="language-javascript">appContext<span class="token punctuation">.</span><span class="token property-access">js</span><span class="token punctuation">;</span>

<span class="token keyword keyword-const">const</span> <span class="token function-variable function">updaterUser</span> <span class="token operator">=</span> <span class="token keyword keyword-async">async</span> <span class="token punctuation">(</span><span class="token parameter">currentUser</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword control-flow keyword-try">try</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-const">const</span> <span class="token punctuation">{</span> data <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword control-flow keyword-await">await</span> axios<span class="token punctuation">.</span><span class="token method function property-access">patch</span><span class="token punctuation">(</span><span class="token string">&apos;/api/v1/auth/updateUser&apos;</span><span class="token punctuation">,</span> currentUser<span class="token punctuation">,</span> <span class="token punctuation">{</span>
      headers<span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token maybe-class-name">Authorization</span><span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Bearer </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>state<span class="token punctuation">.</span><span class="token property-access">token</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span> <span class="token keyword control-flow keyword-catch">catch</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span>error<span class="token punctuation">.</span><span class="token property-access">response</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</pre><h4 class="mume-header" id="axios---global-setup">Axios - Global Setup</h4>

<p>In current axios version,<br>
common property returns undefined,<br>
so we don&apos;t use it anymore!!!</p>
<pre data-role="codeBlock" data-info="js" class="language-javascript">appContext<span class="token punctuation">.</span><span class="token property-access">js</span><span class="token punctuation">;</span>

axios<span class="token punctuation">.</span><span class="token property-access">defaults</span><span class="token punctuation">.</span><span class="token property-access">headers</span><span class="token punctuation">[</span><span class="token string">&apos;Authorization&apos;</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Bearer </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>state<span class="token punctuation">.</span><span class="token property-access">token</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
</pre><h4 class="mume-header" id="axios---setup-instance">Axios - Setup Instance</h4>

<pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token maybe-class-name">AppContext</span><span class="token punctuation">.</span><span class="token property-access">js</span><span class="token punctuation">;</span>

<span class="token keyword keyword-const">const</span> authFetch <span class="token operator">=</span> axios<span class="token punctuation">.</span><span class="token method function property-access">create</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  baseURL<span class="token operator">:</span> <span class="token string">&apos;/api/v1&apos;</span><span class="token punctuation">,</span>
  headers<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token maybe-class-name">Authorization</span><span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Bearer </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>state<span class="token punctuation">.</span><span class="token property-access">token</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword keyword-const">const</span> <span class="token function-variable function">updaterUser</span> <span class="token operator">=</span> <span class="token keyword keyword-async">async</span> <span class="token punctuation">(</span><span class="token parameter">currentUser</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword control-flow keyword-try">try</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-const">const</span> <span class="token punctuation">{</span> data <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword control-flow keyword-await">await</span> authFetch<span class="token punctuation">.</span><span class="token method function property-access">patch</span><span class="token punctuation">(</span><span class="token string">&apos;/auth/updateUser&apos;</span><span class="token punctuation">,</span> currentUser<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span> <span class="token keyword control-flow keyword-catch">catch</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span>error<span class="token punctuation">.</span><span class="token property-access">response</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</pre><h4 class="mume-header" id="axios---interceptors">Axios - Interceptors</h4>

<ul>
<li>will use instance, but can use axios instead</li>
</ul>
<p>In current axios version,<br>
common property returns undefined,<br>
so we don&apos;t use it anymore!!!</p>
<pre data-role="codeBlock" data-info="js" class="language-javascript">appContext<span class="token punctuation">.</span><span class="token property-access">js</span><span class="token punctuation">;</span>

<span class="token comment">// response interceptor</span>
authFetch<span class="token punctuation">.</span><span class="token property-access">interceptors</span><span class="token punctuation">.</span><span class="token property-access">request</span><span class="token punctuation">.</span><span class="token method function property-access">use</span><span class="token punctuation">(</span>
  <span class="token punctuation">(</span><span class="token parameter">config</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
    config<span class="token punctuation">.</span><span class="token property-access">headers</span><span class="token punctuation">[</span><span class="token string">&apos;Authorization&apos;</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Bearer </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>state<span class="token punctuation">.</span><span class="token property-access">token</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
    <span class="token keyword control-flow keyword-return">return</span> config<span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">(</span><span class="token parameter">error</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword control-flow keyword-return">return</span> <span class="token known-class-name class-name">Promise</span><span class="token punctuation">.</span><span class="token method function property-access">reject</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// response interceptor</span>
authFetch<span class="token punctuation">.</span><span class="token property-access">interceptors</span><span class="token punctuation">.</span><span class="token property-access">response</span><span class="token punctuation">.</span><span class="token method function property-access">use</span><span class="token punctuation">(</span>
  <span class="token punctuation">(</span><span class="token parameter">response</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword control-flow keyword-return">return</span> response<span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">(</span><span class="token parameter">error</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span>error<span class="token punctuation">.</span><span class="token property-access">response</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword control-flow keyword-if">if</span> <span class="token punctuation">(</span>error<span class="token punctuation">.</span><span class="token property-access">response</span><span class="token punctuation">.</span><span class="token property-access">status</span> <span class="token operator">===</span> <span class="token number">401</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token string">&apos;AUTH ERROR&apos;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword control-flow keyword-return">return</span> <span class="token known-class-name class-name">Promise</span><span class="token punctuation">.</span><span class="token method function property-access">reject</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</pre><h4 class="mume-header" id="update-user-1">Update User</h4>

<pre data-role="codeBlock" data-info="js" class="language-javascript">actions<span class="token punctuation">.</span><span class="token property-access">js</span><span class="token punctuation">;</span>
<span class="token keyword module keyword-export">export</span> <span class="token keyword keyword-const">const</span> <span class="token constant">UPDATE_USER_BEGIN</span> <span class="token operator">=</span> <span class="token string">&apos;UPDATE_USER_BEGIN&apos;</span><span class="token punctuation">;</span>
<span class="token keyword module keyword-export">export</span> <span class="token keyword keyword-const">const</span> <span class="token constant">UPDATE_USER_SUCCESS</span> <span class="token operator">=</span> <span class="token string">&apos;UPDATE_USER_SUCCESS&apos;</span><span class="token punctuation">;</span>
<span class="token keyword module keyword-export">export</span> <span class="token keyword keyword-const">const</span> <span class="token constant">UPDATE_USER_ERROR</span> <span class="token operator">=</span> <span class="token string">&apos;UPDATE_USER_ERROR&apos;</span><span class="token punctuation">;</span>
</pre><pre data-role="codeBlock" data-info="js" class="language-javascript">appContext<span class="token punctuation">.</span><span class="token property-access">js</span><span class="token punctuation">;</span>

<span class="token keyword keyword-const">const</span> <span class="token function-variable function">updateUser</span> <span class="token operator">=</span> <span class="token keyword keyword-async">async</span> <span class="token punctuation">(</span><span class="token parameter">currentUser</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token punctuation">{</span> type<span class="token operator">:</span> <span class="token constant">UPDATE_USER_BEGIN</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword control-flow keyword-try">try</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-const">const</span> <span class="token punctuation">{</span> data <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword control-flow keyword-await">await</span> authFetch<span class="token punctuation">.</span><span class="token method function property-access">patch</span><span class="token punctuation">(</span><span class="token string">&apos;/auth/updateUser&apos;</span><span class="token punctuation">,</span> currentUser<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// no token</span>
    <span class="token keyword keyword-const">const</span> <span class="token punctuation">{</span> user<span class="token punctuation">,</span> <span class="token dom variable">location</span><span class="token punctuation">,</span> token <span class="token punctuation">}</span> <span class="token operator">=</span> data<span class="token punctuation">;</span>

    <span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      type<span class="token operator">:</span> <span class="token constant">UPDATE_USER_SUCCESS</span><span class="token punctuation">,</span>
      payload<span class="token operator">:</span> <span class="token punctuation">{</span> user<span class="token punctuation">,</span> <span class="token dom variable">location</span><span class="token punctuation">,</span> token <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token function">addUserToLocalStorage</span><span class="token punctuation">(</span><span class="token punctuation">{</span> user<span class="token punctuation">,</span> <span class="token dom variable">location</span><span class="token punctuation">,</span> token <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span> <span class="token keyword control-flow keyword-catch">catch</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      type<span class="token operator">:</span> <span class="token constant">UPDATE_USER_ERROR</span><span class="token punctuation">,</span>
      payload<span class="token operator">:</span> <span class="token punctuation">{</span> msg<span class="token operator">:</span> error<span class="token punctuation">.</span><span class="token property-access">response</span><span class="token punctuation">.</span><span class="token property-access">data</span><span class="token punctuation">.</span><span class="token property-access">msg</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token function">clearAlert</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</pre><pre data-role="codeBlock" data-info="js" class="language-javascript">reducer<span class="token punctuation">.</span><span class="token property-access">js</span>
<span class="token keyword control-flow keyword-if">if</span> <span class="token punctuation">(</span>action<span class="token punctuation">.</span><span class="token property-access">type</span> <span class="token operator">===</span> <span class="token constant">UPDATE_USER_BEGIN</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword control-flow keyword-return">return</span> <span class="token punctuation">{</span> <span class="token spread operator">...</span>state<span class="token punctuation">,</span> isLoading<span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword control-flow keyword-if">if</span> <span class="token punctuation">(</span>action<span class="token punctuation">.</span><span class="token property-access">type</span> <span class="token operator">===</span> <span class="token constant">UPDATE_USER_SUCCESS</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword control-flow keyword-return">return</span> <span class="token punctuation">{</span>
    <span class="token spread operator">...</span>state<span class="token punctuation">,</span>
    isLoading<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    token<span class="token operator">:</span>action<span class="token punctuation">.</span><span class="token property-access">payload</span><span class="token punctuation">.</span><span class="token property-access">token</span>
    user<span class="token operator">:</span> action<span class="token punctuation">.</span><span class="token property-access">payload</span><span class="token punctuation">.</span><span class="token property-access">user</span><span class="token punctuation">,</span>
    userLocation<span class="token operator">:</span> action<span class="token punctuation">.</span><span class="token property-access">payload</span><span class="token punctuation">.</span><span class="token property-access">location</span><span class="token punctuation">,</span>
    jobLocation<span class="token operator">:</span> action<span class="token punctuation">.</span><span class="token property-access">payload</span><span class="token punctuation">.</span><span class="token property-access">location</span><span class="token punctuation">,</span>
    showAlert<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    alertType<span class="token operator">:</span> <span class="token string">&apos;success&apos;</span><span class="token punctuation">,</span>
    alertText<span class="token operator">:</span> <span class="token string">&apos;User Profile Updated!&apos;</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword control-flow keyword-if">if</span> <span class="token punctuation">(</span>action<span class="token punctuation">.</span><span class="token property-access">type</span> <span class="token operator">===</span> <span class="token constant">UPDATE_USER_ERROR</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword control-flow keyword-return">return</span> <span class="token punctuation">{</span>
    <span class="token spread operator">...</span>state<span class="token punctuation">,</span>
    isLoading<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    showAlert<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    alertType<span class="token operator">:</span> <span class="token string">&apos;danger&apos;</span><span class="token punctuation">,</span>
    alertText<span class="token operator">:</span> action<span class="token punctuation">.</span><span class="token property-access">payload</span><span class="token punctuation">.</span><span class="token property-access">msg</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</pre><h4 class="mume-header" id="401-error---logout-user">401 Error - Logout User</h4>

<pre data-role="codeBlock" data-info="js" class="language-javascript">appContext<span class="token punctuation">.</span><span class="token property-access">js</span><span class="token punctuation">;</span>
<span class="token comment">// response interceptor</span>
authFetch<span class="token punctuation">.</span><span class="token property-access">interceptors</span><span class="token punctuation">.</span><span class="token property-access">response</span><span class="token punctuation">.</span><span class="token method function property-access">use</span><span class="token punctuation">(</span>
  <span class="token punctuation">(</span><span class="token parameter">response</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword control-flow keyword-return">return</span> response<span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">(</span><span class="token parameter">error</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword control-flow keyword-if">if</span> <span class="token punctuation">(</span>error<span class="token punctuation">.</span><span class="token property-access">response</span><span class="token punctuation">.</span><span class="token property-access">status</span> <span class="token operator">===</span> <span class="token number">401</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">logoutUser</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword control-flow keyword-return">return</span> <span class="token known-class-name class-name">Promise</span><span class="token punctuation">.</span><span class="token method function property-access">reject</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword keyword-const">const</span> <span class="token function-variable function">updateUser</span> <span class="token operator">=</span> <span class="token keyword keyword-async">async</span> <span class="token punctuation">(</span><span class="token parameter">currentUser</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token punctuation">{</span> type<span class="token operator">:</span> <span class="token constant">UPDATE_USER_BEGIN</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword control-flow keyword-try">try</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-const">const</span> <span class="token punctuation">{</span> data <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword control-flow keyword-await">await</span> authFetch<span class="token punctuation">.</span><span class="token method function property-access">patch</span><span class="token punctuation">(</span><span class="token string">&apos;/auth/updateUser&apos;</span><span class="token punctuation">,</span> currentUser<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// no token</span>
    <span class="token keyword keyword-const">const</span> <span class="token punctuation">{</span> user<span class="token punctuation">,</span> <span class="token dom variable">location</span> <span class="token punctuation">}</span> <span class="token operator">=</span> data<span class="token punctuation">;</span>

    <span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      type<span class="token operator">:</span> <span class="token constant">UPDATE_USER_SUCCESS</span><span class="token punctuation">,</span>
      payload<span class="token operator">:</span> <span class="token punctuation">{</span> user<span class="token punctuation">,</span> <span class="token dom variable">location</span><span class="token punctuation">,</span> token <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token function">addUserToLocalStorage</span><span class="token punctuation">(</span><span class="token punctuation">{</span> user<span class="token punctuation">,</span> <span class="token dom variable">location</span><span class="token punctuation">,</span> token<span class="token operator">:</span> initialState<span class="token punctuation">.</span><span class="token property-access">token</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span> <span class="token keyword control-flow keyword-catch">catch</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword control-flow keyword-if">if</span> <span class="token punctuation">(</span>error<span class="token punctuation">.</span><span class="token property-access">response</span><span class="token punctuation">.</span><span class="token property-access">status</span> <span class="token operator">!==</span> <span class="token number">401</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        type<span class="token operator">:</span> <span class="token constant">UPDATE_USER_ERROR</span><span class="token punctuation">,</span>
        payload<span class="token operator">:</span> <span class="token punctuation">{</span> msg<span class="token operator">:</span> error<span class="token punctuation">.</span><span class="token property-access">response</span><span class="token punctuation">.</span><span class="token property-access">data</span><span class="token punctuation">.</span><span class="token property-access">msg</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token function">clearAlert</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</pre><h4 class="mume-header" id="job-model">Job Model</h4>

<ul>
<li>Job Model</li>
</ul>
<pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token maybe-class-name">Job</span><span class="token punctuation">.</span><span class="token property-access">js</span><span class="token punctuation">;</span>

<span class="token keyword module keyword-import">import</span> <span class="token imports">mongoose</span> <span class="token keyword module keyword-from">from</span> <span class="token string">&apos;mongoose&apos;</span><span class="token punctuation">;</span>

<span class="token keyword keyword-const">const</span> <span class="token maybe-class-name">JobSchema</span> <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token class-name">mongoose<span class="token punctuation">.</span>Schema</span><span class="token punctuation">(</span>
  <span class="token punctuation">{</span>
    company<span class="token operator">:</span> <span class="token punctuation">{</span>
      type<span class="token operator">:</span> <span class="token known-class-name class-name">String</span><span class="token punctuation">,</span>
      required<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token string">&apos;Please provide company name&apos;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      maxlength<span class="token operator">:</span> <span class="token number">50</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    position<span class="token operator">:</span> <span class="token punctuation">{</span>
      type<span class="token operator">:</span> <span class="token known-class-name class-name">String</span><span class="token punctuation">,</span>
      required<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token string">&apos;Please provide position&apos;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      maxlength<span class="token operator">:</span> <span class="token number">100</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    status<span class="token operator">:</span> <span class="token punctuation">{</span>
      type<span class="token operator">:</span> <span class="token known-class-name class-name">String</span><span class="token punctuation">,</span>
      <span class="token keyword keyword-enum">enum</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&apos;interview&apos;</span><span class="token punctuation">,</span> <span class="token string">&apos;declined&apos;</span><span class="token punctuation">,</span> <span class="token string">&apos;pending&apos;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token keyword module keyword-default">default</span><span class="token operator">:</span> <span class="token string">&apos;pending&apos;</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>

    jobType<span class="token operator">:</span> <span class="token punctuation">{</span>
      type<span class="token operator">:</span> <span class="token known-class-name class-name">String</span><span class="token punctuation">,</span>
      <span class="token keyword keyword-enum">enum</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&apos;full-time&apos;</span><span class="token punctuation">,</span> <span class="token string">&apos;part-time&apos;</span><span class="token punctuation">,</span> <span class="token string">&apos;remote&apos;</span><span class="token punctuation">,</span> <span class="token string">&apos;internship&apos;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token keyword module keyword-default">default</span><span class="token operator">:</span> <span class="token string">&apos;full-time&apos;</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    jobLocation<span class="token operator">:</span> <span class="token punctuation">{</span>
      type<span class="token operator">:</span> <span class="token known-class-name class-name">String</span><span class="token punctuation">,</span>
      <span class="token keyword module keyword-default">default</span><span class="token operator">:</span> <span class="token string">&apos;my city&apos;</span><span class="token punctuation">,</span>
      required<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    createdBy<span class="token operator">:</span> <span class="token punctuation">{</span>
      type<span class="token operator">:</span> mongoose<span class="token punctuation">.</span><span class="token property-access"><span class="token maybe-class-name">Types</span></span><span class="token punctuation">.</span><span class="token property-access"><span class="token maybe-class-name">ObjectId</span></span><span class="token punctuation">,</span>
      ref<span class="token operator">:</span> <span class="token string">&apos;User&apos;</span><span class="token punctuation">,</span>
      required<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token string">&apos;Please provide user&apos;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span> timestamps<span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword module keyword-export">export</span> <span class="token keyword module keyword-default">default</span> mongoose<span class="token punctuation">.</span><span class="token method function property-access">model</span><span class="token punctuation">(</span><span class="token string">&apos;Job&apos;</span><span class="token punctuation">,</span> <span class="token maybe-class-name">JobSchema</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</pre><h4 class="mume-header" id="create-job">Create Job</h4>

<pre data-role="codeBlock" data-info="js" class="language-javascript">jobsController<span class="token punctuation">.</span><span class="token property-access">js</span><span class="token punctuation">;</span>

<span class="token keyword module keyword-import">import</span> <span class="token imports"><span class="token maybe-class-name">Job</span></span> <span class="token keyword module keyword-from">from</span> <span class="token string">&apos;../models/Job.js&apos;</span><span class="token punctuation">;</span>
<span class="token keyword module keyword-import">import</span> <span class="token imports"><span class="token punctuation">{</span> <span class="token maybe-class-name">StatusCodes</span> <span class="token punctuation">}</span></span> <span class="token keyword module keyword-from">from</span> <span class="token string">&apos;http-status-codes&apos;</span><span class="token punctuation">;</span>
<span class="token keyword module keyword-import">import</span> <span class="token punctuation">{</span> <span class="token known-class-name class-name">BadRequestError</span><span class="token punctuation">,</span> <span class="token known-class-name class-name">NotFoundError</span> <span class="token punctuation">}</span> <span class="token keyword module keyword-from">from</span> <span class="token string">&apos;../errors/index.js&apos;</span><span class="token punctuation">;</span>

<span class="token keyword keyword-const">const</span> <span class="token function-variable function">createJob</span> <span class="token operator">=</span> <span class="token keyword keyword-async">async</span> <span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword keyword-const">const</span> <span class="token punctuation">{</span> position<span class="token punctuation">,</span> company <span class="token punctuation">}</span> <span class="token operator">=</span> req<span class="token punctuation">.</span><span class="token property-access">body</span><span class="token punctuation">;</span>

  <span class="token keyword control-flow keyword-if">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>position <span class="token operator">||</span> <span class="token operator">!</span>company<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword control-flow keyword-throw">throw</span> <span class="token keyword keyword-new">new</span> <span class="token class-name">BadRequestError</span><span class="token punctuation">(</span><span class="token string">&apos;Please Provide All Values&apos;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  req<span class="token punctuation">.</span><span class="token property-access">body</span><span class="token punctuation">.</span><span class="token property-access">createdBy</span> <span class="token operator">=</span> req<span class="token punctuation">.</span><span class="token property-access">user</span><span class="token punctuation">.</span><span class="token property-access">userId</span><span class="token punctuation">;</span>

  <span class="token keyword keyword-const">const</span> job <span class="token operator">=</span> <span class="token keyword control-flow keyword-await">await</span> <span class="token maybe-class-name">Job</span><span class="token punctuation">.</span><span class="token method function property-access">create</span><span class="token punctuation">(</span>req<span class="token punctuation">.</span><span class="token property-access">body</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  res<span class="token punctuation">.</span><span class="token method function property-access">status</span><span class="token punctuation">(</span><span class="token maybe-class-name">StatusCodes</span><span class="token punctuation">.</span><span class="token constant">CREATED</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">json</span><span class="token punctuation">(</span><span class="token punctuation">{</span> job <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</pre><h4 class="mume-header" id="job-state-values">Job State Values</h4>

<pre data-role="codeBlock" data-info="js" class="language-javascript">appContext<span class="token punctuation">.</span><span class="token property-access">js</span><span class="token punctuation">;</span>
<span class="token keyword keyword-const">const</span> initialState <span class="token operator">=</span> <span class="token punctuation">{</span>
  isEditing<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
  editJobId<span class="token operator">:</span> <span class="token string">&apos;&apos;</span><span class="token punctuation">,</span>
  position<span class="token operator">:</span> <span class="token string">&apos;&apos;</span><span class="token punctuation">,</span>
  company<span class="token operator">:</span> <span class="token string">&apos;&apos;</span><span class="token punctuation">,</span>
  <span class="token comment">// jobLocation</span>
  jobTypeOptions<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&apos;full-time&apos;</span><span class="token punctuation">,</span> <span class="token string">&apos;part-time&apos;</span><span class="token punctuation">,</span> <span class="token string">&apos;remote&apos;</span><span class="token punctuation">,</span> <span class="token string">&apos;internship&apos;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  jobType<span class="token operator">:</span> <span class="token string">&apos;full-time&apos;</span><span class="token punctuation">,</span>
  statusOptions<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&apos;pending&apos;</span><span class="token punctuation">,</span> <span class="token string">&apos;interview&apos;</span><span class="token punctuation">,</span> <span class="token string">&apos;declined&apos;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  status<span class="token operator">:</span> <span class="token string">&apos;pending&apos;</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</pre><h4 class="mume-header" id="addjob-page---setup">AddJob Page - Setup</h4>

<pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token keyword module keyword-import">import</span> <span class="token imports"><span class="token punctuation">{</span> <span class="token maybe-class-name">FormRow</span><span class="token punctuation">,</span> <span class="token maybe-class-name">Alert</span> <span class="token punctuation">}</span></span> <span class="token keyword module keyword-from">from</span> <span class="token string">&apos;../../components&apos;</span><span class="token punctuation">;</span>
<span class="token keyword module keyword-import">import</span> <span class="token imports"><span class="token punctuation">{</span> useAppContext <span class="token punctuation">}</span></span> <span class="token keyword module keyword-from">from</span> <span class="token string">&apos;../../context/appContext&apos;</span><span class="token punctuation">;</span>
<span class="token keyword module keyword-import">import</span> <span class="token imports"><span class="token maybe-class-name">Wrapper</span></span> <span class="token keyword module keyword-from">from</span> <span class="token string">&apos;../../assets/wrappers/DashboardFormPage&apos;</span><span class="token punctuation">;</span>
<span class="token keyword keyword-const">const</span> <span class="token function-variable function"><span class="token maybe-class-name">AddJob</span></span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword keyword-const">const</span> <span class="token punctuation">{</span>
    isEditing<span class="token punctuation">,</span>
    showAlert<span class="token punctuation">,</span>
    displayAlert<span class="token punctuation">,</span>
    position<span class="token punctuation">,</span>
    company<span class="token punctuation">,</span>
    jobLocation<span class="token punctuation">,</span>
    jobType<span class="token punctuation">,</span>
    jobTypeOptions<span class="token punctuation">,</span>
    status<span class="token punctuation">,</span>
    statusOptions<span class="token punctuation">,</span>
  <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">useAppContext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword keyword-const">const</span> <span class="token function-variable function">handleSubmit</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
    e<span class="token punctuation">.</span><span class="token method function property-access">preventDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword control-flow keyword-if">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>position <span class="token operator">||</span> <span class="token operator">!</span>company <span class="token operator">||</span> <span class="token operator">!</span>jobLocation<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">displayAlert</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword control-flow keyword-return">return</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token string">&apos;create job&apos;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>

  <span class="token keyword keyword-const">const</span> <span class="token function-variable function">handleJobInput</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-const">const</span> name <span class="token operator">=</span> e<span class="token punctuation">.</span><span class="token property-access">target</span><span class="token punctuation">.</span><span class="token property-access">name</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-const">const</span> value <span class="token operator">=</span> e<span class="token punctuation">.</span><span class="token property-access">target</span><span class="token punctuation">.</span><span class="token property-access">value</span><span class="token punctuation">;</span>
    <span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">:</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>value<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>

  <span class="token keyword control-flow keyword-return">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span><span class="token maybe-class-name">Wrapper</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>form className<span class="token operator">=</span><span class="token string">&apos;form&apos;</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>h3<span class="token operator">&gt;</span><span class="token punctuation">{</span>isEditing <span class="token operator">?</span> <span class="token string">&apos;edit job&apos;</span> <span class="token operator">:</span> <span class="token string">&apos;add job&apos;</span><span class="token punctuation">}</span> <span class="token operator">&lt;</span><span class="token operator">/</span>h3<span class="token operator">&gt;</span>
        <span class="token punctuation">{</span>showAlert <span class="token operator">&amp;&amp;</span> <span class="token operator">&lt;</span><span class="token maybe-class-name">Alert</span> <span class="token operator">/</span><span class="token operator">&gt;</span><span class="token punctuation">}</span>

        <span class="token punctuation">{</span><span class="token comment">/* position */</span><span class="token punctuation">}</span>
        <span class="token operator">&lt;</span>div className<span class="token operator">=</span><span class="token string">&apos;form-center&apos;</span><span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span><span class="token maybe-class-name">FormRow</span>
            type<span class="token operator">=</span><span class="token string">&apos;text&apos;</span>
            name<span class="token operator">=</span><span class="token string">&apos;position&apos;</span>
            value<span class="token operator">=</span><span class="token punctuation">{</span>position<span class="token punctuation">}</span>
            handleChange<span class="token operator">=</span><span class="token punctuation">{</span>handleJobInput<span class="token punctuation">}</span>
          <span class="token operator">/</span><span class="token operator">&gt;</span>
          <span class="token punctuation">{</span><span class="token comment">/* company */</span><span class="token punctuation">}</span>
          <span class="token operator">&lt;</span><span class="token maybe-class-name">FormRow</span>
            type<span class="token operator">=</span><span class="token string">&apos;text&apos;</span>
            name<span class="token operator">=</span><span class="token string">&apos;company&apos;</span>
            value<span class="token operator">=</span><span class="token punctuation">{</span>company<span class="token punctuation">}</span>
            handleChange<span class="token operator">=</span><span class="token punctuation">{</span>handleJobInput<span class="token punctuation">}</span>
          <span class="token operator">/</span><span class="token operator">&gt;</span>
          <span class="token punctuation">{</span><span class="token comment">/* location */</span><span class="token punctuation">}</span>
          <span class="token operator">&lt;</span><span class="token maybe-class-name">FormRow</span>
            type<span class="token operator">=</span><span class="token string">&apos;text&apos;</span>
            labelText<span class="token operator">=</span><span class="token string">&apos;location&apos;</span>
            name<span class="token operator">=</span><span class="token string">&apos;jobLocation&apos;</span>
            value<span class="token operator">=</span><span class="token punctuation">{</span>jobLocation<span class="token punctuation">}</span>
            handleChange<span class="token operator">=</span><span class="token punctuation">{</span>handleJobInput<span class="token punctuation">}</span>
          <span class="token operator">/</span><span class="token operator">&gt;</span>
          <span class="token punctuation">{</span><span class="token comment">/* job type */</span><span class="token punctuation">}</span>

          <span class="token punctuation">{</span><span class="token comment">/* job status */</span><span class="token punctuation">}</span>

          <span class="token operator">&lt;</span>div className<span class="token operator">=</span><span class="token string">&apos;btn-container&apos;</span><span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>button
              className<span class="token operator">=</span><span class="token string">&apos;btn btn-block submit-btn&apos;</span>
              type<span class="token operator">=</span><span class="token string">&apos;submit&apos;</span>
              onClick<span class="token operator">=</span><span class="token punctuation">{</span>handleSubmit<span class="token punctuation">}</span>
            <span class="token operator">&gt;</span>
              submit
            <span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>form<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span><span class="token maybe-class-name">Wrapper</span><span class="token operator">&gt;</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword module keyword-export">export</span> <span class="token keyword module keyword-default">default</span> <span class="token maybe-class-name">AddJob</span><span class="token punctuation">;</span>
</pre><h4 class="mume-header" id="select-input">Select Input</h4>

<pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token keyword control-flow keyword-return">return</span> <span class="token punctuation">(</span>
  <span class="token comment">// job type</span>
  <span class="token operator">&lt;</span>div className<span class="token operator">=</span><span class="token string">&apos;form-row&apos;</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>label htmlFor<span class="token operator">=</span><span class="token string">&apos;jobType&apos;</span> className<span class="token operator">=</span><span class="token string">&apos;form-label&apos;</span><span class="token operator">&gt;</span>
      job type
    <span class="token operator">&lt;</span><span class="token operator">/</span>label<span class="token operator">&gt;</span>

    <span class="token operator">&lt;</span>select
      name<span class="token operator">=</span><span class="token string">&apos;jobType&apos;</span>
      value<span class="token operator">=</span><span class="token punctuation">{</span>jobType<span class="token punctuation">}</span>
      onChange<span class="token operator">=</span><span class="token punctuation">{</span>handleJobInput<span class="token punctuation">}</span>
      className<span class="token operator">=</span><span class="token string">&apos;form-select&apos;</span>
    <span class="token operator">&gt;</span>
      <span class="token punctuation">{</span>jobTypeOptions<span class="token punctuation">.</span><span class="token method function property-access">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">itemValue<span class="token punctuation">,</span> index</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword control-flow keyword-return">return</span> <span class="token punctuation">(</span>
          <span class="token operator">&lt;</span>option key<span class="token operator">=</span><span class="token punctuation">{</span>index<span class="token punctuation">}</span> value<span class="token operator">=</span><span class="token punctuation">{</span>itemValue<span class="token punctuation">}</span><span class="token operator">&gt;</span>
            <span class="token punctuation">{</span>itemValue<span class="token punctuation">}</span>
          <span class="token operator">&lt;</span><span class="token operator">/</span>option<span class="token operator">&gt;</span>
        <span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>select<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</pre><h4 class="mume-header" id="formrowselect">FormRowSelect</h4>

<ul>
<li>create FormRowSelect in components</li>
<li>setup import/export</li>
</ul>
<pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token keyword keyword-const">const</span> <span class="token function-variable function"><span class="token maybe-class-name">FormRowSelect</span></span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> labelText<span class="token punctuation">,</span> name<span class="token punctuation">,</span> value<span class="token punctuation">,</span> handleChange<span class="token punctuation">,</span> list <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword control-flow keyword-return">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span>div className<span class="token operator">=</span><span class="token string">&apos;form-row&apos;</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>label htmlFor<span class="token operator">=</span><span class="token punctuation">{</span>name<span class="token punctuation">}</span> className<span class="token operator">=</span><span class="token string">&apos;form-label&apos;</span><span class="token operator">&gt;</span>
        <span class="token punctuation">{</span>labelText <span class="token operator">||</span> name<span class="token punctuation">}</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>label<span class="token operator">&gt;</span>

      <span class="token operator">&lt;</span>select
        name<span class="token operator">=</span><span class="token punctuation">{</span>name<span class="token punctuation">}</span>
        value<span class="token operator">=</span><span class="token punctuation">{</span>value<span class="token punctuation">}</span>
        onChange<span class="token operator">=</span><span class="token punctuation">{</span>handleChange<span class="token punctuation">}</span>
        className<span class="token operator">=</span><span class="token string">&apos;form-select&apos;</span>
      <span class="token operator">&gt;</span>
        <span class="token punctuation">{</span>list<span class="token punctuation">.</span><span class="token method function property-access">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">itemValue<span class="token punctuation">,</span> index</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
          <span class="token keyword control-flow keyword-return">return</span> <span class="token punctuation">(</span>
            <span class="token operator">&lt;</span>option key<span class="token operator">=</span><span class="token punctuation">{</span>index<span class="token punctuation">}</span> value<span class="token operator">=</span><span class="token punctuation">{</span>itemValue<span class="token punctuation">}</span><span class="token operator">&gt;</span>
              <span class="token punctuation">{</span>itemValue<span class="token punctuation">}</span>
            <span class="token operator">&lt;</span><span class="token operator">/</span>option<span class="token operator">&gt;</span>
          <span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>select<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword module keyword-export">export</span> <span class="token keyword module keyword-default">default</span> <span class="token maybe-class-name">FormRowSelect</span><span class="token punctuation">;</span>
</pre><pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token maybe-class-name">AddJob</span><span class="token punctuation">.</span><span class="token property-access">js</span><span class="token punctuation">;</span>

<span class="token keyword control-flow keyword-return">return</span> <span class="token punctuation">(</span>
  <span class="token operator">&lt;</span><span class="token operator">&gt;</span>
    <span class="token punctuation">{</span><span class="token comment">/* job status */</span><span class="token punctuation">}</span>

    <span class="token operator">&lt;</span><span class="token maybe-class-name">FormRowSelect</span>
      name<span class="token operator">=</span><span class="token string">&apos;status&apos;</span>
      value<span class="token operator">=</span><span class="token punctuation">{</span>status<span class="token punctuation">}</span>
      handleChange<span class="token operator">=</span><span class="token punctuation">{</span>handleJobInput<span class="token punctuation">}</span>
      list<span class="token operator">=</span><span class="token punctuation">{</span>statusOptions<span class="token punctuation">}</span>
    <span class="token operator">/</span><span class="token operator">&gt;</span>

    <span class="token punctuation">{</span><span class="token comment">/* job type */</span><span class="token punctuation">}</span>
    <span class="token operator">&lt;</span><span class="token maybe-class-name">FormRowSelect</span>
      labelText<span class="token operator">=</span><span class="token string">&apos;type&apos;</span>
      name<span class="token operator">=</span><span class="token string">&apos;jobType&apos;</span>
      value<span class="token operator">=</span><span class="token punctuation">{</span>jobType<span class="token punctuation">}</span>
      handleChange<span class="token operator">=</span><span class="token punctuation">{</span>handleJobInput<span class="token punctuation">}</span>
      list<span class="token operator">=</span><span class="token punctuation">{</span>jobTypeOptions<span class="token punctuation">}</span>
    <span class="token operator">/</span><span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span><span class="token operator">/</span><span class="token operator">&gt;</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</pre><h4 class="mume-header" id="change-state-values-with-handle-change">Change State Values With Handle Change</h4>

<ul>
<li><a href="https://youtu.be/_qxCYtWm0tw">JS Nuggets Dynamic Object Keys</a></li>
</ul>
<pre data-role="codeBlock" data-info="js" class="language-javascript">actions<span class="token punctuation">.</span><span class="token property-access">js</span><span class="token punctuation">;</span>

<span class="token keyword module keyword-export">export</span> <span class="token keyword keyword-const">const</span> <span class="token constant">HANDLE_CHANGE</span> <span class="token operator">=</span> <span class="token string">&apos;HANDLE_CHANGE&apos;</span><span class="token punctuation">;</span>
</pre><pre data-role="codeBlock" data-info="js" class="language-javascript">appContext<span class="token punctuation">.</span><span class="token property-access">js</span>

<span class="token keyword keyword-const">const</span> <span class="token function-variable function">handleChange</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> name<span class="token punctuation">,</span> value <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    type<span class="token operator">:</span> <span class="token constant">HANDLE_CHANGE</span><span class="token punctuation">,</span>
    payload<span class="token operator">:</span> <span class="token punctuation">{</span> name<span class="token punctuation">,</span> value <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

value<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span>handleChange<span class="token punctuation">}</span><span class="token punctuation">}</span>
</pre><pre data-role="codeBlock" data-info="js" class="language-javascript">reducer<span class="token punctuation">.</span><span class="token property-access">js</span><span class="token punctuation">;</span>

<span class="token keyword control-flow keyword-if">if</span> <span class="token punctuation">(</span>action<span class="token punctuation">.</span><span class="token property-access">type</span> <span class="token operator">===</span> <span class="token constant">HANDLE_CHANGE</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword control-flow keyword-return">return</span> <span class="token punctuation">{</span> <span class="token spread operator">...</span>state<span class="token punctuation">,</span> <span class="token punctuation">[</span>action<span class="token punctuation">.</span><span class="token property-access">payload</span><span class="token punctuation">.</span><span class="token property-access">name</span><span class="token punctuation">]</span><span class="token operator">:</span> action<span class="token punctuation">.</span><span class="token property-access">payload</span><span class="token punctuation">.</span><span class="token property-access">value</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</pre><pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token maybe-class-name">AddJob</span><span class="token punctuation">.</span><span class="token property-access">js</span><span class="token punctuation">;</span>

<span class="token keyword keyword-const">const</span> <span class="token punctuation">{</span> handleChange <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">useAppContext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword keyword-const">const</span> <span class="token function-variable function">handleJobInput</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token function">handleChange</span><span class="token punctuation">(</span><span class="token punctuation">{</span> name<span class="token operator">:</span> e<span class="token punctuation">.</span><span class="token property-access">target</span><span class="token punctuation">.</span><span class="token property-access">name</span><span class="token punctuation">,</span> value<span class="token operator">:</span> e<span class="token punctuation">.</span><span class="token property-access">target</span><span class="token punctuation">.</span><span class="token property-access">value</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</pre><h4 class="mume-header" id="clear-values">Clear Values</h4>

<pre data-role="codeBlock" data-info="js" class="language-javascript">actions<span class="token punctuation">.</span><span class="token property-access">js</span><span class="token punctuation">;</span>

<span class="token keyword module keyword-export">export</span> <span class="token keyword keyword-const">const</span> <span class="token constant">CLEAR_VALUES</span> <span class="token operator">=</span> <span class="token string">&apos;CLEAR_VALUES&apos;</span><span class="token punctuation">;</span>
</pre><pre data-role="codeBlock" data-info="js" class="language-javascript">appContext<span class="token punctuation">.</span><span class="token property-access">js</span>

<span class="token keyword keyword-const">const</span> <span class="token function-variable function">clearValues</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token punctuation">{</span> type<span class="token operator">:</span> <span class="token constant">CLEAR_VALUES</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>

value<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span>clearValues<span class="token punctuation">}</span><span class="token punctuation">}</span>
</pre><pre data-role="codeBlock" data-info="js" class="language-javascript">reducer<span class="token punctuation">.</span><span class="token property-access">js</span><span class="token punctuation">;</span>

<span class="token keyword control-flow keyword-if">if</span> <span class="token punctuation">(</span>action<span class="token punctuation">.</span><span class="token property-access">type</span> <span class="token operator">===</span> <span class="token constant">CLEAR_VALUES</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword keyword-const">const</span> initialState <span class="token operator">=</span> <span class="token punctuation">{</span>
    isEditing<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    editJobId<span class="token operator">:</span> <span class="token string">&apos;&apos;</span><span class="token punctuation">,</span>
    position<span class="token operator">:</span> <span class="token string">&apos;&apos;</span><span class="token punctuation">,</span>
    company<span class="token operator">:</span> <span class="token string">&apos;&apos;</span><span class="token punctuation">,</span>
    jobLocation<span class="token operator">:</span> state<span class="token punctuation">.</span><span class="token property-access">userLocation</span><span class="token punctuation">,</span>
    jobType<span class="token operator">:</span> <span class="token string">&apos;full-time&apos;</span><span class="token punctuation">,</span>
    status<span class="token operator">:</span> <span class="token string">&apos;pending&apos;</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token keyword control-flow keyword-return">return</span> <span class="token punctuation">{</span> <span class="token spread operator">...</span>state<span class="token punctuation">,</span> <span class="token spread operator">...</span>initialState <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</pre><pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token maybe-class-name">AddJob</span><span class="token punctuation">.</span><span class="token property-access">js</span><span class="token punctuation">;</span>

<span class="token keyword keyword-const">const</span> <span class="token punctuation">{</span> clearValues <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">useAppContext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword control-flow keyword-return">return</span> <span class="token punctuation">(</span>
  <span class="token operator">&lt;</span>div className<span class="token operator">=</span><span class="token string">&apos;btn-container&apos;</span><span class="token operator">&gt;</span>
    <span class="token punctuation">{</span><span class="token comment">/* submit button */</span><span class="token punctuation">}</span>

    <span class="token operator">&lt;</span>button
      className<span class="token operator">=</span><span class="token string">&apos;btn btn-block clear-btn&apos;</span>
      onClick<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
        e<span class="token punctuation">.</span><span class="token method function property-access">preventDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">clearValues</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">}</span>
    <span class="token operator">&gt;</span>
      clear
    <span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</pre><h4 class="mume-header" id="create-job-1">Create Job</h4>

<pre data-role="codeBlock" data-info="js" class="language-javascript">actions<span class="token punctuation">.</span><span class="token property-access">js</span><span class="token punctuation">;</span>

<span class="token keyword module keyword-export">export</span> <span class="token keyword keyword-const">const</span> <span class="token constant">CREATE_JOB_BEGIN</span> <span class="token operator">=</span> <span class="token string">&apos;CREATE_JOB_BEGIN&apos;</span><span class="token punctuation">;</span>
<span class="token keyword module keyword-export">export</span> <span class="token keyword keyword-const">const</span> <span class="token constant">CREATE_JOB_SUCCESS</span> <span class="token operator">=</span> <span class="token string">&apos;CREATE_JOB_SUCCESS&apos;</span><span class="token punctuation">;</span>
<span class="token keyword module keyword-export">export</span> <span class="token keyword keyword-const">const</span> <span class="token constant">CREATE_JOB_ERROR</span> <span class="token operator">=</span> <span class="token string">&apos;CREATE_JOB_ERROR&apos;</span><span class="token punctuation">;</span>
</pre><pre data-role="codeBlock" data-info="js" class="language-javascript">appContext<span class="token punctuation">.</span><span class="token property-access">js</span><span class="token punctuation">;</span>

<span class="token keyword keyword-const">const</span> <span class="token function-variable function">createJob</span> <span class="token operator">=</span> <span class="token keyword keyword-async">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token punctuation">{</span> type<span class="token operator">:</span> <span class="token constant">CREATE_JOB_BEGIN</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword control-flow keyword-try">try</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-const">const</span> <span class="token punctuation">{</span> position<span class="token punctuation">,</span> company<span class="token punctuation">,</span> jobLocation<span class="token punctuation">,</span> jobType<span class="token punctuation">,</span> status <span class="token punctuation">}</span> <span class="token operator">=</span> state<span class="token punctuation">;</span>

    <span class="token keyword control-flow keyword-await">await</span> authFetch<span class="token punctuation">.</span><span class="token method function property-access">post</span><span class="token punctuation">(</span><span class="token string">&apos;/jobs&apos;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
      company<span class="token punctuation">,</span>
      position<span class="token punctuation">,</span>
      jobLocation<span class="token punctuation">,</span>
      jobType<span class="token punctuation">,</span>
      status<span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      type<span class="token operator">:</span> <span class="token constant">CREATE_JOB_SUCCESS</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// call function instead clearValues()</span>
    <span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token punctuation">{</span> type<span class="token operator">:</span> <span class="token constant">CLEAR_VALUES</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span> <span class="token keyword control-flow keyword-catch">catch</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword control-flow keyword-if">if</span> <span class="token punctuation">(</span>error<span class="token punctuation">.</span><span class="token property-access">response</span><span class="token punctuation">.</span><span class="token property-access">status</span> <span class="token operator">===</span> <span class="token number">401</span><span class="token punctuation">)</span> <span class="token keyword control-flow keyword-return">return</span><span class="token punctuation">;</span>
    <span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      type<span class="token operator">:</span> <span class="token constant">CREATE_JOB_ERROR</span><span class="token punctuation">,</span>
      payload<span class="token operator">:</span> <span class="token punctuation">{</span> msg<span class="token operator">:</span> error<span class="token punctuation">.</span><span class="token property-access">response</span><span class="token punctuation">.</span><span class="token property-access">data</span><span class="token punctuation">.</span><span class="token property-access">msg</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token function">clearAlert</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</pre><pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token maybe-class-name">AddJob</span><span class="token punctuation">.</span><span class="token property-access">js</span><span class="token punctuation">;</span>

<span class="token keyword keyword-const">const</span> <span class="token punctuation">{</span> createJob <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">useAppContext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword keyword-const">const</span> <span class="token function-variable function">handleSubmit</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
  e<span class="token punctuation">.</span><span class="token method function property-access">preventDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// while testing</span>

  <span class="token comment">// if (!position || !company || !jobLocation) {</span>
  <span class="token comment">//   displayAlert()</span>
  <span class="token comment">//   return</span>
  <span class="token comment">// }</span>
  <span class="token keyword control-flow keyword-if">if</span> <span class="token punctuation">(</span>isEditing<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// eventually editJob()</span>
    <span class="token keyword control-flow keyword-return">return</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token function">createJob</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</pre><pre data-role="codeBlock" data-info="js" class="language-javascript">reducer<span class="token punctuation">.</span><span class="token property-access">js</span><span class="token punctuation">;</span>

<span class="token keyword control-flow keyword-if">if</span> <span class="token punctuation">(</span>action<span class="token punctuation">.</span><span class="token property-access">type</span> <span class="token operator">===</span> <span class="token constant">CREATE_JOB_BEGIN</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword control-flow keyword-return">return</span> <span class="token punctuation">{</span> <span class="token spread operator">...</span>state<span class="token punctuation">,</span> isLoading<span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword control-flow keyword-if">if</span> <span class="token punctuation">(</span>action<span class="token punctuation">.</span><span class="token property-access">type</span> <span class="token operator">===</span> <span class="token constant">CREATE_JOB_SUCCESS</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword control-flow keyword-return">return</span> <span class="token punctuation">{</span>
    <span class="token spread operator">...</span>state<span class="token punctuation">,</span>
    isLoading<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    showAlert<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    alertType<span class="token operator">:</span> <span class="token string">&apos;success&apos;</span><span class="token punctuation">,</span>
    alertText<span class="token operator">:</span> <span class="token string">&apos;New Job Created!&apos;</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword control-flow keyword-if">if</span> <span class="token punctuation">(</span>action<span class="token punctuation">.</span><span class="token property-access">type</span> <span class="token operator">===</span> <span class="token constant">CREATE_JOB_ERROR</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword control-flow keyword-return">return</span> <span class="token punctuation">{</span>
    <span class="token spread operator">...</span>state<span class="token punctuation">,</span>
    isLoading<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    showAlert<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    alertType<span class="token operator">:</span> <span class="token string">&apos;danger&apos;</span><span class="token punctuation">,</span>
    alertText<span class="token operator">:</span> action<span class="token punctuation">.</span><span class="token property-access">payload</span><span class="token punctuation">.</span><span class="token property-access">msg</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</pre><h4 class="mume-header" id="get-all-jobs">Get All Jobs</h4>

<pre data-role="codeBlock" data-info="js" class="language-javascript">jobsController<span class="token punctuation">.</span><span class="token property-access">js</span><span class="token punctuation">;</span>

<span class="token keyword keyword-const">const</span> <span class="token function-variable function">getAllJobs</span> <span class="token operator">=</span> <span class="token keyword keyword-async">async</span> <span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword keyword-const">const</span> jobs <span class="token operator">=</span> <span class="token keyword control-flow keyword-await">await</span> <span class="token maybe-class-name">Job</span><span class="token punctuation">.</span><span class="token method function property-access">find</span><span class="token punctuation">(</span><span class="token punctuation">{</span> createdBy<span class="token operator">:</span> req<span class="token punctuation">.</span><span class="token property-access">user</span><span class="token punctuation">.</span><span class="token property-access">userId</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  res
    <span class="token punctuation">.</span><span class="token method function property-access">status</span><span class="token punctuation">(</span><span class="token maybe-class-name">StatusCodes</span><span class="token punctuation">.</span><span class="token constant">OK</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token method function property-access">json</span><span class="token punctuation">(</span><span class="token punctuation">{</span> jobs<span class="token punctuation">,</span> totalJobs<span class="token operator">:</span> jobs<span class="token punctuation">.</span><span class="token property-access">length</span><span class="token punctuation">,</span> numOfPages<span class="token operator">:</span> <span class="token number">1</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</pre><h4 class="mume-header" id="jobs-state-values">Jobs State Values</h4>

<pre data-role="codeBlock" data-info="js" class="language-javascript">appContext<span class="token punctuation">.</span><span class="token property-access">js</span><span class="token punctuation">;</span>

<span class="token keyword keyword-const">const</span> initialState <span class="token operator">=</span> <span class="token punctuation">{</span>
  jobs<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  totalJobs<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
  numOfPages<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
  page<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</pre><h4 class="mume-header" id="get-all-jobs-request">Get All Jobs Request</h4>

<pre data-role="codeBlock" data-info="js" class="language-javascript">actions<span class="token punctuation">.</span><span class="token property-access">js</span><span class="token punctuation">;</span>
<span class="token keyword module keyword-export">export</span> <span class="token keyword keyword-const">const</span> <span class="token constant">GET_JOBS_BEGIN</span> <span class="token operator">=</span> <span class="token string">&apos;GET_JOBS_BEGIN&apos;</span><span class="token punctuation">;</span>
<span class="token keyword module keyword-export">export</span> <span class="token keyword keyword-const">const</span> <span class="token constant">GET_JOBS_SUCCESS</span> <span class="token operator">=</span> <span class="token string">&apos;GET_JOBS_SUCCESS&apos;</span><span class="token punctuation">;</span>
</pre><pre data-role="codeBlock" data-info="js" class="language-javascript">appContext<span class="token punctuation">.</span><span class="token property-access">js</span>

<span class="token keyword module keyword-import">import</span> <span class="token imports"><span class="token maybe-class-name">React</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> useReducer<span class="token punctuation">,</span> useContext<span class="token punctuation">,</span> useEffect <span class="token punctuation">}</span></span> <span class="token keyword module keyword-from">from</span> <span class="token string">&apos;react&apos;</span>

<span class="token keyword keyword-const">const</span> <span class="token function-variable function">getJobs</span> <span class="token operator">=</span> <span class="token keyword keyword-async">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword keyword-let">let</span> url <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">/jobs</span><span class="token template-punctuation string">`</span></span>

  <span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token punctuation">{</span> type<span class="token operator">:</span> <span class="token constant">GET_JOBS_BEGIN</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token keyword control-flow keyword-try">try</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-const">const</span> <span class="token punctuation">{</span> data <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword control-flow keyword-await">await</span> <span class="token function">authFetch</span><span class="token punctuation">(</span>url<span class="token punctuation">)</span>
    <span class="token keyword keyword-const">const</span> <span class="token punctuation">{</span> jobs<span class="token punctuation">,</span> totalJobs<span class="token punctuation">,</span> numOfPages <span class="token punctuation">}</span> <span class="token operator">=</span> data
    <span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      type<span class="token operator">:</span> <span class="token constant">GET_JOBS_SUCCESS</span><span class="token punctuation">,</span>
      payload<span class="token operator">:</span> <span class="token punctuation">{</span>
        jobs<span class="token punctuation">,</span>
        totalJobs<span class="token punctuation">,</span>
        numOfPages<span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span> <span class="token keyword control-flow keyword-catch">catch</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span>error<span class="token punctuation">.</span><span class="token property-access">response</span><span class="token punctuation">)</span>
    <span class="token function">logoutUser</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token function">clearAlert</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token function">getJobs</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span>

value<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span>getJobs<span class="token punctuation">}</span><span class="token punctuation">}</span>

</pre><pre data-role="codeBlock" data-info="js" class="language-javascript">reducer<span class="token punctuation">.</span><span class="token property-access">js</span><span class="token punctuation">;</span>

<span class="token keyword control-flow keyword-if">if</span> <span class="token punctuation">(</span>action<span class="token punctuation">.</span><span class="token property-access">type</span> <span class="token operator">===</span> <span class="token constant">GET_JOBS_BEGIN</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword control-flow keyword-return">return</span> <span class="token punctuation">{</span> <span class="token spread operator">...</span>state<span class="token punctuation">,</span> isLoading<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> showAlert<span class="token operator">:</span> <span class="token boolean">false</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword control-flow keyword-if">if</span> <span class="token punctuation">(</span>action<span class="token punctuation">.</span><span class="token property-access">type</span> <span class="token operator">===</span> <span class="token constant">GET_JOBS_SUCCESS</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword control-flow keyword-return">return</span> <span class="token punctuation">{</span>
    <span class="token spread operator">...</span>state<span class="token punctuation">,</span>
    isLoading<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    jobs<span class="token operator">:</span> action<span class="token punctuation">.</span><span class="token property-access">payload</span><span class="token punctuation">.</span><span class="token property-access">jobs</span><span class="token punctuation">,</span>
    totalJobs<span class="token operator">:</span> action<span class="token punctuation">.</span><span class="token property-access">payload</span><span class="token punctuation">.</span><span class="token property-access">totalJobs</span><span class="token punctuation">,</span>
    numOfPages<span class="token operator">:</span> action<span class="token punctuation">.</span><span class="token property-access">payload</span><span class="token punctuation">.</span><span class="token property-access">numOfPages</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</pre><h4 class="mume-header" id="alljobs-page-setup">AllJobs Page Setup</h4>

<ul>
<li>create</li>
<li>SearchContainer export</li>
<li>JobsContainer export</li>
<li>Job</li>
<li>JobInfo</li>
</ul>
<pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token maybe-class-name">AllJobs</span><span class="token punctuation">.</span><span class="token property-access">js</span><span class="token punctuation">;</span>

<span class="token keyword module keyword-import">import</span> <span class="token imports"><span class="token punctuation">{</span> <span class="token maybe-class-name">JobsContainer</span><span class="token punctuation">,</span> <span class="token maybe-class-name">SearchContainer</span> <span class="token punctuation">}</span></span> <span class="token keyword module keyword-from">from</span> <span class="token string">&apos;../../components&apos;</span><span class="token punctuation">;</span>
<span class="token keyword keyword-const">const</span> <span class="token function-variable function"><span class="token maybe-class-name">AllJobs</span></span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword control-flow keyword-return">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token maybe-class-name">SearchContainer</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token maybe-class-name">JobsContainer</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span><span class="token operator">&gt;</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword module keyword-export">export</span> <span class="token keyword module keyword-default">default</span> <span class="token maybe-class-name">AllJobs</span><span class="token punctuation">;</span>
</pre><pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token maybe-class-name">JobsContainer</span><span class="token punctuation">.</span><span class="token property-access">js</span><span class="token punctuation">;</span>
<span class="token keyword module keyword-import">import</span> <span class="token imports"><span class="token punctuation">{</span> useAppContext <span class="token punctuation">}</span></span> <span class="token keyword module keyword-from">from</span> <span class="token string">&apos;../context/appContext&apos;</span><span class="token punctuation">;</span>
<span class="token keyword module keyword-import">import</span> <span class="token imports"><span class="token punctuation">{</span> useEffect <span class="token punctuation">}</span></span> <span class="token keyword module keyword-from">from</span> <span class="token string">&apos;react&apos;</span><span class="token punctuation">;</span>
<span class="token keyword module keyword-import">import</span> <span class="token imports"><span class="token maybe-class-name">Loading</span></span> <span class="token keyword module keyword-from">from</span> <span class="token string">&apos;./Loading&apos;</span><span class="token punctuation">;</span>
<span class="token keyword module keyword-import">import</span> <span class="token imports"><span class="token maybe-class-name">Job</span></span> <span class="token keyword module keyword-from">from</span> <span class="token string">&apos;./Job&apos;</span><span class="token punctuation">;</span>
<span class="token keyword module keyword-import">import</span> <span class="token imports"><span class="token maybe-class-name">Wrapper</span></span> <span class="token keyword module keyword-from">from</span> <span class="token string">&apos;../assets/wrappers/JobsContainer&apos;</span><span class="token punctuation">;</span>

<span class="token keyword keyword-const">const</span> <span class="token function-variable function"><span class="token maybe-class-name">JobsContainer</span></span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword keyword-const">const</span> <span class="token punctuation">{</span> getJobs<span class="token punctuation">,</span> jobs<span class="token punctuation">,</span> isLoading<span class="token punctuation">,</span> page<span class="token punctuation">,</span> totalJobs <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">useAppContext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token function">getJobs</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword control-flow keyword-if">if</span> <span class="token punctuation">(</span>isLoading<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword control-flow keyword-return">return</span> <span class="token operator">&lt;</span><span class="token maybe-class-name">Loading</span> center <span class="token operator">/</span><span class="token operator">&gt;</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword control-flow keyword-if">if</span> <span class="token punctuation">(</span>jobs<span class="token punctuation">.</span><span class="token property-access">length</span> <span class="token operator">===</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword control-flow keyword-return">return</span> <span class="token punctuation">(</span>
      <span class="token operator">&lt;</span><span class="token maybe-class-name">Wrapper</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>h2<span class="token operator">&gt;</span><span class="token maybe-class-name">No</span> jobs to display<span class="token spread operator">...</span><span class="token operator">&lt;</span><span class="token operator">/</span>h2<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span><span class="token maybe-class-name">Wrapper</span><span class="token operator">&gt;</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword control-flow keyword-return">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span><span class="token maybe-class-name">Wrapper</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>h5<span class="token operator">&gt;</span>
        <span class="token punctuation">{</span>totalJobs<span class="token punctuation">}</span> job<span class="token punctuation">{</span>jobs<span class="token punctuation">.</span><span class="token property-access">length</span> <span class="token operator">&gt;</span> <span class="token number">1</span> <span class="token operator">&amp;&amp;</span> <span class="token string">&apos;s&apos;</span><span class="token punctuation">}</span> found
      <span class="token operator">&lt;</span><span class="token operator">/</span>h5<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>div className<span class="token operator">=</span><span class="token string">&apos;jobs&apos;</span><span class="token operator">&gt;</span>
        <span class="token punctuation">{</span>jobs<span class="token punctuation">.</span><span class="token method function property-access">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">job</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
          <span class="token keyword control-flow keyword-return">return</span> <span class="token operator">&lt;</span><span class="token maybe-class-name">Job</span> key<span class="token operator">=</span><span class="token punctuation">{</span>job<span class="token punctuation">.</span><span class="token property-access">_id</span><span class="token punctuation">}</span> <span class="token punctuation">{</span><span class="token spread operator">...</span>job<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">&gt;</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span><span class="token maybe-class-name">Wrapper</span><span class="token operator">&gt;</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword module keyword-export">export</span> <span class="token keyword module keyword-default">default</span> <span class="token maybe-class-name">JobsContainer</span><span class="token punctuation">;</span>
</pre><pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token maybe-class-name">Job</span><span class="token punctuation">.</span><span class="token property-access">js</span><span class="token punctuation">;</span>

<span class="token keyword module keyword-import">import</span> <span class="token imports">moment</span> <span class="token keyword module keyword-from">from</span> <span class="token string">&apos;moment&apos;</span><span class="token punctuation">;</span>

<span class="token keyword keyword-const">const</span> <span class="token function-variable function"><span class="token maybe-class-name">Job</span></span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> company <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword control-flow keyword-return">return</span> <span class="token operator">&lt;</span>h5<span class="token operator">&gt;</span><span class="token punctuation">{</span>company<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>h5<span class="token operator">&gt;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword module keyword-export">export</span> <span class="token keyword module keyword-default">default</span> <span class="token maybe-class-name">Job</span><span class="token punctuation">;</span>
</pre><h4 class="mume-header" id="momentjs">Moment.js</h4>

<ul>
<li>
<p>Format Dates</p>
</li>
<li>
<p><a href="https://momentjs.com/">moment.js</a></p>
</li>
<li>
<p>stop server</p>
</li>
<li>
<p>cd client</p>
</li>
</ul>
<pre data-role="codeBlock" data-info="sh" class="language-bash"><span class="token function">npm</span> <span class="token function">install</span> moment

</pre><pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token maybe-class-name">Job</span><span class="token punctuation">.</span><span class="token property-access">js</span><span class="token punctuation">;</span>

<span class="token keyword module keyword-import">import</span> <span class="token imports">moment</span> <span class="token keyword module keyword-from">from</span> <span class="token string">&apos;moment&apos;</span><span class="token punctuation">;</span>

<span class="token keyword keyword-const">const</span> <span class="token function-variable function"><span class="token maybe-class-name">Job</span></span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> company<span class="token punctuation">,</span> createdAt <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword keyword-let">let</span> date <span class="token operator">=</span> <span class="token function">moment</span><span class="token punctuation">(</span>createdAt<span class="token punctuation">)</span><span class="token punctuation">;</span>
  date <span class="token operator">=</span> date<span class="token punctuation">.</span><span class="token method function property-access">format</span><span class="token punctuation">(</span><span class="token string">&apos;MMM Do, YYYY&apos;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword control-flow keyword-return">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>h5<span class="token operator">&gt;</span><span class="token punctuation">{</span>company<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>h5<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>h5<span class="token operator">&gt;</span><span class="token punctuation">{</span>date<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>h5<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword module keyword-export">export</span> <span class="token keyword module keyword-default">default</span> <span class="token maybe-class-name">Job</span><span class="token punctuation">;</span>
</pre><h4 class="mume-header" id="job-component---setup">Job Component - Setup</h4>

<pre data-role="codeBlock" data-info="js" class="language-javascript">appContext<span class="token punctuation">.</span><span class="token property-access">js</span>

<span class="token keyword keyword-const">const</span> <span class="token function-variable function">setEditJob</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">id</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">set edit job : </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>id<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token keyword keyword-const">const</span> <span class="token function-variable function">deleteJob</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">id</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span><span class="token punctuation">{</span>
  <span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">delete : </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>id<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
value<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span>setEditJob<span class="token punctuation">,</span>deleteJob<span class="token punctuation">}</span><span class="token punctuation">}</span>
</pre><pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token maybe-class-name">Job</span><span class="token punctuation">.</span><span class="token property-access">js</span><span class="token punctuation">;</span>

<span class="token keyword module keyword-import">import</span> <span class="token imports"><span class="token punctuation">{</span> <span class="token maybe-class-name">FaLocationArrow</span><span class="token punctuation">,</span> <span class="token maybe-class-name">FaBriefcase</span><span class="token punctuation">,</span> <span class="token maybe-class-name">FaCalendarAlt</span> <span class="token punctuation">}</span></span> <span class="token keyword module keyword-from">from</span> <span class="token string">&apos;react-icons/fa&apos;</span><span class="token punctuation">;</span>
<span class="token keyword module keyword-import">import</span> <span class="token imports"><span class="token punctuation">{</span> <span class="token maybe-class-name">Link</span> <span class="token punctuation">}</span></span> <span class="token keyword module keyword-from">from</span> <span class="token string">&apos;react-router-dom&apos;</span><span class="token punctuation">;</span>
<span class="token keyword module keyword-import">import</span> <span class="token imports"><span class="token punctuation">{</span> useAppContext <span class="token punctuation">}</span></span> <span class="token keyword module keyword-from">from</span> <span class="token string">&apos;../context/appContext&apos;</span><span class="token punctuation">;</span>
<span class="token keyword module keyword-import">import</span> <span class="token imports"><span class="token maybe-class-name">Wrapper</span></span> <span class="token keyword module keyword-from">from</span> <span class="token string">&apos;../assets/wrappers/Job&apos;</span><span class="token punctuation">;</span>
<span class="token keyword module keyword-import">import</span> <span class="token imports"><span class="token maybe-class-name">JobInfo</span></span> <span class="token keyword module keyword-from">from</span> <span class="token string">&apos;./JobInfo&apos;</span><span class="token punctuation">;</span>

<span class="token keyword keyword-const">const</span> <span class="token function-variable function"><span class="token maybe-class-name">Job</span></span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span>
  _id<span class="token punctuation">,</span>
  position<span class="token punctuation">,</span>
  company<span class="token punctuation">,</span>
  jobLocation<span class="token punctuation">,</span>
  jobType<span class="token punctuation">,</span>
  createdAt<span class="token punctuation">,</span>
  status<span class="token punctuation">,</span>
<span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword keyword-const">const</span> <span class="token punctuation">{</span> setEditJob<span class="token punctuation">,</span> deleteJob <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">useAppContext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword keyword-let">let</span> date <span class="token operator">=</span> <span class="token function">moment</span><span class="token punctuation">(</span>createdAt<span class="token punctuation">)</span><span class="token punctuation">;</span>
  date <span class="token operator">=</span> date<span class="token punctuation">.</span><span class="token method function property-access">format</span><span class="token punctuation">(</span><span class="token string">&apos;MMM Do, YYYY&apos;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword control-flow keyword-return">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span><span class="token maybe-class-name">Wrapper</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>header<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>div className<span class="token operator">=</span><span class="token string">&apos;main-icon&apos;</span><span class="token operator">&gt;</span><span class="token punctuation">{</span>company<span class="token punctuation">.</span><span class="token method function property-access">charAt</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>div className<span class="token operator">=</span><span class="token string">&apos;info&apos;</span><span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span>h5<span class="token operator">&gt;</span><span class="token punctuation">{</span>position<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>h5<span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span>p<span class="token operator">&gt;</span><span class="token punctuation">{</span>company<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>header<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>div className<span class="token operator">=</span><span class="token string">&apos;content&apos;</span><span class="token operator">&gt;</span>
        <span class="token punctuation">{</span><span class="token comment">/* content center later */</span><span class="token punctuation">}</span>
        <span class="token operator">&lt;</span>footer<span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span>div className<span class="token operator">=</span><span class="token string">&apos;actions&apos;</span><span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span><span class="token maybe-class-name">Link</span>
              to<span class="token operator">=</span><span class="token string">&apos;/add-job&apos;</span>
              onClick<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token function">setEditJob</span><span class="token punctuation">(</span>_id<span class="token punctuation">)</span><span class="token punctuation">}</span>
              className<span class="token operator">=</span><span class="token string">&apos;btn edit-btn&apos;</span>
            <span class="token operator">&gt;</span>
              <span class="token maybe-class-name">Edit</span>
            <span class="token operator">&lt;</span><span class="token operator">/</span><span class="token maybe-class-name">Link</span><span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>button
              type<span class="token operator">=</span><span class="token string">&apos;button&apos;</span>
              className<span class="token operator">=</span><span class="token string">&apos;btn delete-btn&apos;</span>
              onClick<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token function">deleteJob</span><span class="token punctuation">(</span>_id<span class="token punctuation">)</span><span class="token punctuation">}</span>
            <span class="token operator">&gt;</span>
              <span class="token maybe-class-name">Delete</span>
            <span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>footer<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span><span class="token maybe-class-name">Wrapper</span><span class="token operator">&gt;</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword module keyword-export">export</span> <span class="token keyword module keyword-default">default</span> <span class="token maybe-class-name">Job</span><span class="token punctuation">;</span>
</pre><h4 class="mume-header" id="jobinfo">JobInfo</h4>

<pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token maybe-class-name">JobInfo</span><span class="token punctuation">.</span><span class="token property-access">js</span><span class="token punctuation">;</span>

<span class="token keyword module keyword-import">import</span> <span class="token imports"><span class="token maybe-class-name">Wrapper</span></span> <span class="token keyword module keyword-from">from</span> <span class="token string">&apos;../assets/wrappers/JobInfo&apos;</span><span class="token punctuation">;</span>

<span class="token keyword keyword-const">const</span> <span class="token function-variable function"><span class="token maybe-class-name">JobInfo</span></span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> icon<span class="token punctuation">,</span> text <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword control-flow keyword-return">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span><span class="token maybe-class-name">Wrapper</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>span className<span class="token operator">=</span><span class="token string">&apos;icon&apos;</span><span class="token operator">&gt;</span><span class="token punctuation">{</span>icon<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>span<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>span className<span class="token operator">=</span><span class="token string">&apos;text&apos;</span><span class="token operator">&gt;</span><span class="token punctuation">{</span>text<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>span<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span><span class="token maybe-class-name">Wrapper</span><span class="token operator">&gt;</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword module keyword-export">export</span> <span class="token keyword module keyword-default">default</span> <span class="token maybe-class-name">JobInfo</span><span class="token punctuation">;</span>
</pre><pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token maybe-class-name">Job</span><span class="token punctuation">.</span><span class="token property-access">js</span><span class="token punctuation">;</span>
<span class="token keyword control-flow keyword-return">return</span> <span class="token punctuation">(</span>
  <span class="token operator">&lt;</span>div className<span class="token operator">=</span><span class="token string">&apos;content&apos;</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>div className<span class="token operator">=</span><span class="token string">&apos;content-center&apos;</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token maybe-class-name">JobInfo</span> icon<span class="token operator">=</span><span class="token punctuation">{</span><span class="token operator">&lt;</span><span class="token maybe-class-name">FaLocationArrow</span> <span class="token operator">/</span><span class="token operator">&gt;</span><span class="token punctuation">}</span> text<span class="token operator">=</span><span class="token punctuation">{</span>jobLocation<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token maybe-class-name">JobInfo</span> icon<span class="token operator">=</span><span class="token punctuation">{</span><span class="token operator">&lt;</span><span class="token maybe-class-name">FaCalendarAlt</span> <span class="token operator">/</span><span class="token operator">&gt;</span><span class="token punctuation">}</span> text<span class="token operator">=</span><span class="token punctuation">{</span>date<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token maybe-class-name">JobInfo</span> icon<span class="token operator">=</span><span class="token punctuation">{</span><span class="token operator">&lt;</span><span class="token maybe-class-name">FaBriefcase</span> <span class="token operator">/</span><span class="token operator">&gt;</span><span class="token punctuation">}</span> text<span class="token operator">=</span><span class="token punctuation">{</span>jobType<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>div className<span class="token operator">=</span><span class="token punctuation">{</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">status </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>status<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">}</span><span class="token operator">&gt;</span><span class="token punctuation">{</span>status<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    <span class="token punctuation">{</span><span class="token comment">/* footer content */</span><span class="token punctuation">}</span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</pre><h4 class="mume-header" id="seteditjob">SetEditJob</h4>

<pre data-role="codeBlock" data-info="js" class="language-javascript">actions<span class="token punctuation">.</span><span class="token property-access">js</span><span class="token punctuation">;</span>
<span class="token keyword module keyword-export">export</span> <span class="token keyword keyword-const">const</span> <span class="token constant">SET_EDIT_JOB</span> <span class="token operator">=</span> <span class="token string">&apos;SET_EDIT_JOB&apos;</span><span class="token punctuation">;</span>
</pre><pre data-role="codeBlock" data-info="js" class="language-javascript">appContext<span class="token punctuation">.</span><span class="token property-access">js</span>

<span class="token keyword keyword-const">const</span> <span class="token function-variable function">setEditJob</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">id</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token punctuation">{</span> type<span class="token operator">:</span> <span class="token constant">SET_EDIT_JOB</span><span class="token punctuation">,</span> payload<span class="token operator">:</span> <span class="token punctuation">{</span> id <span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token keyword keyword-const">const</span> <span class="token function-variable function">editJob</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token string">&apos;edit job&apos;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
value<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span>editJob<span class="token punctuation">}</span><span class="token punctuation">}</span>
</pre><pre data-role="codeBlock" data-info="js" class="language-javascript">reducer<span class="token punctuation">.</span><span class="token property-access">js</span><span class="token punctuation">;</span>

<span class="token keyword control-flow keyword-if">if</span> <span class="token punctuation">(</span>action<span class="token punctuation">.</span><span class="token property-access">type</span> <span class="token operator">===</span> <span class="token constant">SET_EDIT_JOB</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword keyword-const">const</span> job <span class="token operator">=</span> state<span class="token punctuation">.</span><span class="token property-access">jobs</span><span class="token punctuation">.</span><span class="token method function property-access">find</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">job</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> job<span class="token punctuation">.</span><span class="token property-access">_id</span> <span class="token operator">===</span> action<span class="token punctuation">.</span><span class="token property-access">payload</span><span class="token punctuation">.</span><span class="token property-access">id</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword keyword-const">const</span> <span class="token punctuation">{</span> _id<span class="token punctuation">,</span> position<span class="token punctuation">,</span> company<span class="token punctuation">,</span> jobLocation<span class="token punctuation">,</span> jobType<span class="token punctuation">,</span> status <span class="token punctuation">}</span> <span class="token operator">=</span> job<span class="token punctuation">;</span>
  <span class="token keyword control-flow keyword-return">return</span> <span class="token punctuation">{</span>
    <span class="token spread operator">...</span>state<span class="token punctuation">,</span>
    isEditing<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    editJobId<span class="token operator">:</span> _id<span class="token punctuation">,</span>
    position<span class="token punctuation">,</span>
    company<span class="token punctuation">,</span>
    jobLocation<span class="token punctuation">,</span>
    jobType<span class="token punctuation">,</span>
    status<span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</pre><pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token maybe-class-name">AddJob</span><span class="token punctuation">.</span><span class="token property-access">js</span><span class="token punctuation">;</span>
<span class="token keyword keyword-const">const</span> <span class="token punctuation">{</span> isEditing<span class="token punctuation">,</span> editJob <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">useAppContext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword keyword-const">const</span> <span class="token function-variable function">handleSubmit</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
  e<span class="token punctuation">.</span><span class="token method function property-access">preventDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword control-flow keyword-if">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>position <span class="token operator">||</span> <span class="token operator">!</span>company <span class="token operator">||</span> <span class="token operator">!</span>jobLocation<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">displayAlert</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword control-flow keyword-return">return</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword control-flow keyword-if">if</span> <span class="token punctuation">(</span>isEditing<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">editJob</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword control-flow keyword-return">return</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token function">createJob</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</pre><h4 class="mume-header" id="edit-job---server">Edit Job - Server</h4>

<pre data-role="codeBlock" data-info="js" class="language-javascript">jobsController<span class="token punctuation">.</span><span class="token property-access">js</span><span class="token punctuation">;</span>

<span class="token keyword keyword-const">const</span> <span class="token function-variable function">updateJob</span> <span class="token operator">=</span> <span class="token keyword keyword-async">async</span> <span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword keyword-const">const</span> <span class="token punctuation">{</span> id<span class="token operator">:</span> jobId <span class="token punctuation">}</span> <span class="token operator">=</span> req<span class="token punctuation">.</span><span class="token property-access">params</span><span class="token punctuation">;</span>

  <span class="token keyword keyword-const">const</span> <span class="token punctuation">{</span> company<span class="token punctuation">,</span> position <span class="token punctuation">}</span> <span class="token operator">=</span> req<span class="token punctuation">.</span><span class="token property-access">body</span><span class="token punctuation">;</span>

  <span class="token keyword control-flow keyword-if">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>company <span class="token operator">||</span> <span class="token operator">!</span>position<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword control-flow keyword-throw">throw</span> <span class="token keyword keyword-new">new</span> <span class="token class-name">BadRequestError</span><span class="token punctuation">(</span><span class="token string">&apos;Please Provide All Values&apos;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword keyword-const">const</span> job <span class="token operator">=</span> <span class="token keyword control-flow keyword-await">await</span> <span class="token maybe-class-name">Job</span><span class="token punctuation">.</span><span class="token method function property-access">findOne</span><span class="token punctuation">(</span><span class="token punctuation">{</span> _id<span class="token operator">:</span> jobId <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword control-flow keyword-if">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>job<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword control-flow keyword-throw">throw</span> <span class="token keyword keyword-new">new</span> <span class="token class-name">NotFoundError</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">No job with id </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>jobId<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token comment">// check permissions</span>

  <span class="token keyword keyword-const">const</span> updatedJob <span class="token operator">=</span> <span class="token keyword control-flow keyword-await">await</span> <span class="token maybe-class-name">Job</span><span class="token punctuation">.</span><span class="token method function property-access">findOneAndUpdate</span><span class="token punctuation">(</span><span class="token punctuation">{</span> _id<span class="token operator">:</span> jobId <span class="token punctuation">}</span><span class="token punctuation">,</span> req<span class="token punctuation">.</span><span class="token property-access">body</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-new">new</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    runValidators<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  res<span class="token punctuation">.</span><span class="token method function property-access">status</span><span class="token punctuation">(</span><span class="token maybe-class-name">StatusCodes</span><span class="token punctuation">.</span><span class="token constant">OK</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">json</span><span class="token punctuation">(</span><span class="token punctuation">{</span> updatedJob <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</pre><h4 class="mume-header" id="alternative-approach">Alternative Approach</h4>

<ul>
<li>optional</li>
<li>multiple approaches</li>
<li>different setups</li>
<li>course Q&amp;A</li>
</ul>
<pre data-role="codeBlock" data-info="js" class="language-javascript">jobsController<span class="token punctuation">.</span><span class="token property-access">js</span><span class="token punctuation">;</span>
<span class="token keyword keyword-const">const</span> <span class="token function-variable function">updateJob</span> <span class="token operator">=</span> <span class="token keyword keyword-async">async</span> <span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword keyword-const">const</span> <span class="token punctuation">{</span> id<span class="token operator">:</span> jobId <span class="token punctuation">}</span> <span class="token operator">=</span> req<span class="token punctuation">.</span><span class="token property-access">params</span><span class="token punctuation">;</span>
  <span class="token keyword keyword-const">const</span> <span class="token punctuation">{</span> company<span class="token punctuation">,</span> position<span class="token punctuation">,</span> jobLocation <span class="token punctuation">}</span> <span class="token operator">=</span> req<span class="token punctuation">.</span><span class="token property-access">body</span><span class="token punctuation">;</span>

  <span class="token keyword control-flow keyword-if">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>position <span class="token operator">||</span> <span class="token operator">!</span>company<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword control-flow keyword-throw">throw</span> <span class="token keyword keyword-new">new</span> <span class="token class-name">BadRequestError</span><span class="token punctuation">(</span><span class="token string">&apos;Please provide all values&apos;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword keyword-const">const</span> job <span class="token operator">=</span> <span class="token keyword control-flow keyword-await">await</span> <span class="token maybe-class-name">Job</span><span class="token punctuation">.</span><span class="token method function property-access">findOne</span><span class="token punctuation">(</span><span class="token punctuation">{</span> _id<span class="token operator">:</span> jobId <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword control-flow keyword-if">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>job<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword control-flow keyword-throw">throw</span> <span class="token keyword keyword-new">new</span> <span class="token class-name">NotFoundError</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">No job with id :</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>jobId<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token comment">// check permissions</span>

  <span class="token comment">// alternative approach</span>

  job<span class="token punctuation">.</span><span class="token property-access">position</span> <span class="token operator">=</span> position<span class="token punctuation">;</span>
  job<span class="token punctuation">.</span><span class="token property-access">company</span> <span class="token operator">=</span> company<span class="token punctuation">;</span>
  job<span class="token punctuation">.</span><span class="token property-access">jobLocation</span> <span class="token operator">=</span> jobLocation<span class="token punctuation">;</span>

  <span class="token keyword control-flow keyword-await">await</span> job<span class="token punctuation">.</span><span class="token method function property-access">save</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  res<span class="token punctuation">.</span><span class="token method function property-access">status</span><span class="token punctuation">(</span><span class="token maybe-class-name">StatusCodes</span><span class="token punctuation">.</span><span class="token constant">OK</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">json</span><span class="token punctuation">(</span><span class="token punctuation">{</span> job <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</pre><h4 class="mume-header" id="check-permissions">Check Permissions</h4>

<pre data-role="codeBlock" data-info="js" class="language-javascript">jobsController<span class="token punctuation">.</span><span class="token property-access">js</span><span class="token punctuation">;</span>

<span class="token keyword keyword-const">const</span> <span class="token function-variable function">updateJob</span> <span class="token operator">=</span> <span class="token keyword keyword-async">async</span> <span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword keyword-const">const</span> <span class="token punctuation">{</span> id<span class="token operator">:</span> jobId <span class="token punctuation">}</span> <span class="token operator">=</span> req<span class="token punctuation">.</span><span class="token property-access">params</span><span class="token punctuation">;</span>
  <span class="token keyword keyword-const">const</span> <span class="token punctuation">{</span> company<span class="token punctuation">,</span> position<span class="token punctuation">,</span> status <span class="token punctuation">}</span> <span class="token operator">=</span> req<span class="token punctuation">.</span><span class="token property-access">body</span><span class="token punctuation">;</span>

  <span class="token keyword control-flow keyword-if">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>position <span class="token operator">||</span> <span class="token operator">!</span>company<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword control-flow keyword-throw">throw</span> <span class="token keyword keyword-new">new</span> <span class="token class-name">BadRequestError</span><span class="token punctuation">(</span><span class="token string">&apos;Please provide all values&apos;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword keyword-const">const</span> job <span class="token operator">=</span> <span class="token keyword control-flow keyword-await">await</span> <span class="token maybe-class-name">Job</span><span class="token punctuation">.</span><span class="token method function property-access">findOne</span><span class="token punctuation">(</span><span class="token punctuation">{</span> _id<span class="token operator">:</span> jobId <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword control-flow keyword-if">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>job<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword control-flow keyword-throw">throw</span> <span class="token keyword keyword-new">new</span> <span class="token class-name">NotFoundError</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">No job with id :</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>jobId<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token comment">// check permissions</span>
  <span class="token comment">// req.user.userId (string) === job.createdBy(object)</span>
  <span class="token comment">// throw new UnAuthenticatedError(&apos;Not authorized to access this route&apos;)</span>

  <span class="token comment">// console.log(typeof req.user.userId)</span>
  <span class="token comment">// console.log(typeof job.createdBy)</span>

  <span class="token function">checkPermissions</span><span class="token punctuation">(</span>req<span class="token punctuation">.</span><span class="token property-access">user</span><span class="token punctuation">,</span> job<span class="token punctuation">.</span><span class="token property-access">createdBy</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword keyword-const">const</span> updatedJob <span class="token operator">=</span> <span class="token keyword control-flow keyword-await">await</span> <span class="token maybe-class-name">Job</span><span class="token punctuation">.</span><span class="token method function property-access">findOneAndUpdate</span><span class="token punctuation">(</span><span class="token punctuation">{</span> _id<span class="token operator">:</span> jobId <span class="token punctuation">}</span><span class="token punctuation">,</span> req<span class="token punctuation">.</span><span class="token property-access">body</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-new">new</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    runValidators<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  res<span class="token punctuation">.</span><span class="token method function property-access">status</span><span class="token punctuation">(</span><span class="token maybe-class-name">StatusCodes</span><span class="token punctuation">.</span><span class="token constant">OK</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">json</span><span class="token punctuation">(</span><span class="token punctuation">{</span> updatedJob <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</pre><ul>
<li>utils folder</li>
<li>checkPermissions.js</li>
<li>import in jobsController.js</li>
</ul>
<pre data-role="codeBlock" data-info="js" class="language-javascript">checkPermissions<span class="token punctuation">.</span><span class="token property-access">js</span><span class="token punctuation">;</span>

<span class="token keyword module keyword-import">import</span> <span class="token punctuation">{</span> <span class="token known-class-name class-name">UnAuthenticatedError</span> <span class="token punctuation">}</span> <span class="token keyword module keyword-from">from</span> <span class="token string">&apos;../errors/index.js&apos;</span><span class="token punctuation">;</span>

<span class="token keyword keyword-const">const</span> <span class="token function-variable function">checkPermissions</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">requestUser<span class="token punctuation">,</span> resourceUserId</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">// if (requestUser.role === &apos;admin&apos;) return</span>
  <span class="token keyword control-flow keyword-if">if</span> <span class="token punctuation">(</span>requestUser<span class="token punctuation">.</span><span class="token property-access">userId</span> <span class="token operator">===</span> resourceUserId<span class="token punctuation">.</span><span class="token method function property-access">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword control-flow keyword-return">return</span><span class="token punctuation">;</span>
  <span class="token keyword control-flow keyword-throw">throw</span> <span class="token keyword keyword-new">new</span> <span class="token class-name">UnauthorizedError</span><span class="token punctuation">(</span><span class="token string">&apos;Not authorized to access this route&apos;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword module keyword-export">export</span> <span class="token keyword module keyword-default">default</span> checkPermissions<span class="token punctuation">;</span>
</pre><h4 class="mume-header" id="removedelete-job">Remove/Delete Job</h4>

<pre data-role="codeBlock" data-info="js" class="language-javascript">jobsController<span class="token punctuation">.</span><span class="token property-access">js</span><span class="token punctuation">;</span>

<span class="token keyword keyword-const">const</span> <span class="token function-variable function">deleteJob</span> <span class="token operator">=</span> <span class="token keyword keyword-async">async</span> <span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword keyword-const">const</span> <span class="token punctuation">{</span> id<span class="token operator">:</span> jobId <span class="token punctuation">}</span> <span class="token operator">=</span> req<span class="token punctuation">.</span><span class="token property-access">params</span><span class="token punctuation">;</span>

  <span class="token keyword keyword-const">const</span> job <span class="token operator">=</span> <span class="token keyword control-flow keyword-await">await</span> <span class="token maybe-class-name">Job</span><span class="token punctuation">.</span><span class="token method function property-access">findOne</span><span class="token punctuation">(</span><span class="token punctuation">{</span> _id<span class="token operator">:</span> jobId <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword control-flow keyword-if">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>job<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword control-flow keyword-throw">throw</span> <span class="token keyword keyword-new">new</span> <span class="token class-name">NotFoundError</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">No job with id : </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>jobId<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token function">checkPermissions</span><span class="token punctuation">(</span>req<span class="token punctuation">.</span><span class="token property-access">user</span><span class="token punctuation">,</span> job<span class="token punctuation">.</span><span class="token property-access">createdBy</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword control-flow keyword-await">await</span> job<span class="token punctuation">.</span><span class="token method function property-access">remove</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  res<span class="token punctuation">.</span><span class="token method function property-access">status</span><span class="token punctuation">(</span><span class="token maybe-class-name">StatusCodes</span><span class="token punctuation">.</span><span class="token constant">OK</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">json</span><span class="token punctuation">(</span><span class="token punctuation">{</span> msg<span class="token operator">:</span> <span class="token string">&apos;Success! Job removed&apos;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</pre><h4 class="mume-header" id="delete-job---front-end">Delete Job - Front-End</h4>

<pre data-role="codeBlock" data-info="js" class="language-javascript">actions<span class="token punctuation">.</span><span class="token property-access">js</span><span class="token punctuation">;</span>

<span class="token keyword module keyword-export">export</span> <span class="token keyword keyword-const">const</span> <span class="token constant">DELETE_JOB_BEGIN</span> <span class="token operator">=</span> <span class="token string">&apos;DELETE_JOB_BEGIN&apos;</span><span class="token punctuation">;</span>
</pre><pre data-role="codeBlock" data-info="js" class="language-javascript">appContext<span class="token punctuation">.</span><span class="token property-access">js</span><span class="token punctuation">;</span>

<span class="token keyword keyword-const">const</span> <span class="token function-variable function">deleteJob</span> <span class="token operator">=</span> <span class="token keyword keyword-async">async</span> <span class="token punctuation">(</span><span class="token parameter">jobId</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token punctuation">{</span> type<span class="token operator">:</span> <span class="token constant">DELETE_JOB_BEGIN</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword control-flow keyword-try">try</span> <span class="token punctuation">{</span>
    <span class="token keyword control-flow keyword-await">await</span> authFetch<span class="token punctuation">.</span><span class="token method function property-access">delete</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">/jobs/</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>jobId<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">getJobs</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span> <span class="token keyword control-flow keyword-catch">catch</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">logoutUser</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</pre><pre data-role="codeBlock" data-info="js" class="language-javascript">reducer<span class="token punctuation">.</span><span class="token property-access">js</span><span class="token punctuation">;</span>

<span class="token keyword control-flow keyword-if">if</span> <span class="token punctuation">(</span>action<span class="token punctuation">.</span><span class="token property-access">type</span> <span class="token operator">===</span> <span class="token constant">DELETE_JOB_BEGIN</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword control-flow keyword-return">return</span> <span class="token punctuation">{</span> <span class="token spread operator">...</span>state<span class="token punctuation">,</span> isLoading<span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</pre><h4 class="mume-header" id="edit-job---front-end">Edit Job - Front-End</h4>

<pre data-role="codeBlock" data-info="js" class="language-javascript">actions<span class="token punctuation">.</span><span class="token property-access">js</span><span class="token punctuation">;</span>
<span class="token keyword module keyword-export">export</span> <span class="token keyword keyword-const">const</span> <span class="token constant">EDIT_JOB_BEGIN</span> <span class="token operator">=</span> <span class="token string">&apos;EDIT_JOB_BEGIN&apos;</span><span class="token punctuation">;</span>
<span class="token keyword module keyword-export">export</span> <span class="token keyword keyword-const">const</span> <span class="token constant">EDIT_JOB_SUCCESS</span> <span class="token operator">=</span> <span class="token string">&apos;EDIT_JOB_SUCCESS&apos;</span><span class="token punctuation">;</span>
<span class="token keyword module keyword-export">export</span> <span class="token keyword keyword-const">const</span> <span class="token constant">EDIT_JOB_ERROR</span> <span class="token operator">=</span> <span class="token string">&apos;EDIT_JOB_ERROR&apos;</span><span class="token punctuation">;</span>
</pre><pre data-role="codeBlock" data-info="js" class="language-javascript">appContext<span class="token punctuation">.</span><span class="token property-access">js</span><span class="token punctuation">;</span>
<span class="token keyword keyword-const">const</span> <span class="token function-variable function">editJob</span> <span class="token operator">=</span> <span class="token keyword keyword-async">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token punctuation">{</span> type<span class="token operator">:</span> <span class="token constant">EDIT_JOB_BEGIN</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword control-flow keyword-try">try</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-const">const</span> <span class="token punctuation">{</span> position<span class="token punctuation">,</span> company<span class="token punctuation">,</span> jobLocation<span class="token punctuation">,</span> jobType<span class="token punctuation">,</span> status <span class="token punctuation">}</span> <span class="token operator">=</span> state<span class="token punctuation">;</span>

    <span class="token keyword control-flow keyword-await">await</span> authFetch<span class="token punctuation">.</span><span class="token method function property-access">patch</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">/jobs/</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>state<span class="token punctuation">.</span><span class="token property-access">editJobId</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
      company<span class="token punctuation">,</span>
      position<span class="token punctuation">,</span>
      jobLocation<span class="token punctuation">,</span>
      jobType<span class="token punctuation">,</span>
      status<span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      type<span class="token operator">:</span> <span class="token constant">EDIT_JOB_SUCCESS</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token punctuation">{</span> type<span class="token operator">:</span> <span class="token constant">CLEAR_VALUES</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span> <span class="token keyword control-flow keyword-catch">catch</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword control-flow keyword-if">if</span> <span class="token punctuation">(</span>error<span class="token punctuation">.</span><span class="token property-access">response</span><span class="token punctuation">.</span><span class="token property-access">status</span> <span class="token operator">===</span> <span class="token number">401</span><span class="token punctuation">)</span> <span class="token keyword control-flow keyword-return">return</span><span class="token punctuation">;</span>
    <span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      type<span class="token operator">:</span> <span class="token constant">EDIT_JOB_ERROR</span><span class="token punctuation">,</span>
      payload<span class="token operator">:</span> <span class="token punctuation">{</span> msg<span class="token operator">:</span> error<span class="token punctuation">.</span><span class="token property-access">response</span><span class="token punctuation">.</span><span class="token property-access">data</span><span class="token punctuation">.</span><span class="token property-access">msg</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token function">clearAlert</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</pre><pre data-role="codeBlock" data-info="js" class="language-javascript">reducer<span class="token punctuation">.</span><span class="token property-access">js</span><span class="token punctuation">;</span>

<span class="token keyword control-flow keyword-if">if</span> <span class="token punctuation">(</span>action<span class="token punctuation">.</span><span class="token property-access">type</span> <span class="token operator">===</span> <span class="token constant">EDIT_JOB_BEGIN</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword control-flow keyword-return">return</span> <span class="token punctuation">{</span> <span class="token spread operator">...</span>state<span class="token punctuation">,</span> isLoading<span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword control-flow keyword-if">if</span> <span class="token punctuation">(</span>action<span class="token punctuation">.</span><span class="token property-access">type</span> <span class="token operator">===</span> <span class="token constant">EDIT_JOB_SUCCESS</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword control-flow keyword-return">return</span> <span class="token punctuation">{</span>
    <span class="token spread operator">...</span>state<span class="token punctuation">,</span>
    isLoading<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    showAlert<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    alertType<span class="token operator">:</span> <span class="token string">&apos;success&apos;</span><span class="token punctuation">,</span>
    alertText<span class="token operator">:</span> <span class="token string">&apos;Job Updated!&apos;</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword control-flow keyword-if">if</span> <span class="token punctuation">(</span>action<span class="token punctuation">.</span><span class="token property-access">type</span> <span class="token operator">===</span> <span class="token constant">EDIT_JOB_ERROR</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword control-flow keyword-return">return</span> <span class="token punctuation">{</span>
    <span class="token spread operator">...</span>state<span class="token punctuation">,</span>
    isLoading<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    showAlert<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    alertType<span class="token operator">:</span> <span class="token string">&apos;danger&apos;</span><span class="token punctuation">,</span>
    alertText<span class="token operator">:</span> action<span class="token punctuation">.</span><span class="token property-access">payload</span><span class="token punctuation">.</span><span class="token property-access">msg</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</pre><h4 class="mume-header" id="create-more-jobs">Create More Jobs</h4>

<ul>
<li><a href="https://www.mockaroo.com/">Mockaroo</a></li>
<li>setup mock-data.json in the root</li>
</ul>
<h4 class="mume-header" id="populate-database">Populate Database</h4>

<ul>
<li>create populate.js in the root</li>
</ul>
<pre data-role="codeBlock" data-info="js" class="language-javascript">populate<span class="token punctuation">.</span><span class="token property-access">js</span><span class="token punctuation">;</span>

<span class="token keyword module keyword-import">import</span> <span class="token imports"><span class="token punctuation">{</span> readFile <span class="token punctuation">}</span></span> <span class="token keyword module keyword-from">from</span> <span class="token string">&apos;fs/promises&apos;</span><span class="token punctuation">;</span>

<span class="token keyword module keyword-import">import</span> <span class="token imports">dotenv</span> <span class="token keyword module keyword-from">from</span> <span class="token string">&apos;dotenv&apos;</span><span class="token punctuation">;</span>
dotenv<span class="token punctuation">.</span><span class="token method function property-access">config</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword module keyword-import">import</span> <span class="token imports">connectDB</span> <span class="token keyword module keyword-from">from</span> <span class="token string">&apos;./db/connect.js&apos;</span><span class="token punctuation">;</span>
<span class="token keyword module keyword-import">import</span> <span class="token imports"><span class="token maybe-class-name">Job</span></span> <span class="token keyword module keyword-from">from</span> <span class="token string">&apos;./models/Job.js&apos;</span><span class="token punctuation">;</span>

<span class="token keyword keyword-const">const</span> <span class="token function-variable function">start</span> <span class="token operator">=</span> <span class="token keyword keyword-async">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword control-flow keyword-try">try</span> <span class="token punctuation">{</span>
    <span class="token keyword control-flow keyword-await">await</span> <span class="token function">connectDB</span><span class="token punctuation">(</span>process<span class="token punctuation">.</span><span class="token property-access">env</span><span class="token punctuation">.</span><span class="token constant">MONGO_URL</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword control-flow keyword-await">await</span> <span class="token maybe-class-name">Job</span><span class="token punctuation">.</span><span class="token method function property-access">deleteMany</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword keyword-const">const</span> jsonProducts <span class="token operator">=</span> <span class="token known-class-name class-name">JSON</span><span class="token punctuation">.</span><span class="token method function property-access">parse</span><span class="token punctuation">(</span>
      <span class="token keyword control-flow keyword-await">await</span> <span class="token function">readFile</span><span class="token punctuation">(</span><span class="token keyword keyword-new">new</span> <span class="token class-name">URL</span><span class="token punctuation">(</span><span class="token string">&apos;./mock-data.json&apos;</span><span class="token punctuation">,</span> <span class="token keyword module keyword-import">import</span><span class="token punctuation">.</span><span class="token property-access">meta</span><span class="token punctuation">.</span><span class="token property-access">url</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword control-flow keyword-await">await</span> <span class="token maybe-class-name">Job</span><span class="token punctuation">.</span><span class="token method function property-access">create</span><span class="token punctuation">(</span>jsonProducts<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token string">&apos;Success!!!!&apos;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    process<span class="token punctuation">.</span><span class="token method function property-access">exit</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span> <span class="token keyword control-flow keyword-catch">catch</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span><span class="token punctuation">;</span>
    process<span class="token punctuation">.</span><span class="token method function property-access">exit</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</pre><h4 class="mume-header" id="show-stats---structure">Show Stats - Structure</h4>

<ul>
<li>aggregation pipeline</li>
<li>step by step</li>
<li><a href="https://docs.mongodb.com/manual/core/aggregation-pipeline/">Aggregation Pipeline</a></li>
</ul>
<pre data-role="codeBlock" data-info="js" class="language-javascript">jobsController<span class="token punctuation">.</span><span class="token property-access">js</span><span class="token punctuation">;</span>

<span class="token keyword module keyword-import">import</span> <span class="token imports">mongoose</span> <span class="token keyword module keyword-from">from</span> <span class="token string">&apos;mongoose&apos;</span><span class="token punctuation">;</span>

<span class="token keyword keyword-const">const</span> <span class="token function-variable function">showStats</span> <span class="token operator">=</span> <span class="token keyword keyword-async">async</span> <span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword keyword-let">let</span> stats <span class="token operator">=</span> <span class="token keyword control-flow keyword-await">await</span> <span class="token maybe-class-name">Job</span><span class="token punctuation">.</span><span class="token method function property-access">aggregate</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
    <span class="token punctuation">{</span> $match<span class="token operator">:</span> <span class="token punctuation">{</span> createdBy<span class="token operator">:</span> mongoose<span class="token punctuation">.</span><span class="token property-access"><span class="token maybe-class-name">Types</span></span><span class="token punctuation">.</span><span class="token method function property-access"><span class="token maybe-class-name">ObjectId</span></span><span class="token punctuation">(</span>req<span class="token punctuation">.</span><span class="token property-access">user</span><span class="token punctuation">.</span><span class="token property-access">userId</span><span class="token punctuation">)</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> $group<span class="token operator">:</span> <span class="token punctuation">{</span> _id<span class="token operator">:</span> <span class="token string">&apos;$status&apos;</span><span class="token punctuation">,</span> count<span class="token operator">:</span> <span class="token punctuation">{</span> $sum<span class="token operator">:</span> <span class="token number">1</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  res<span class="token punctuation">.</span><span class="token method function property-access">status</span><span class="token punctuation">(</span><span class="token maybe-class-name">StatusCodes</span><span class="token punctuation">.</span><span class="token constant">OK</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">json</span><span class="token punctuation">(</span><span class="token punctuation">{</span> stats <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</pre><h4 class="mume-header" id="show-stats---object-setup">Show Stats - Object Setup</h4>

<ul>
<li><a href="https://youtu.be/3WkW9nrS2mw">Reduce Basics</a></li>
<li><a href="https://youtu.be/5BFkp8JjLEY">Reduce Object Example </a></li>
</ul>
<pre data-role="codeBlock" data-info="js" class="language-javascript">jobsController<span class="token punctuation">.</span><span class="token property-access">js</span><span class="token punctuation">;</span>

<span class="token keyword keyword-const">const</span> <span class="token function-variable function">showStats</span> <span class="token operator">=</span> <span class="token keyword keyword-async">async</span> <span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword keyword-let">let</span> stats <span class="token operator">=</span> <span class="token keyword control-flow keyword-await">await</span> <span class="token maybe-class-name">Job</span><span class="token punctuation">.</span><span class="token method function property-access">aggregate</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
    <span class="token punctuation">{</span> $match<span class="token operator">:</span> <span class="token punctuation">{</span> createdBy<span class="token operator">:</span> mongoose<span class="token punctuation">.</span><span class="token property-access"><span class="token maybe-class-name">Types</span></span><span class="token punctuation">.</span><span class="token method function property-access"><span class="token maybe-class-name">ObjectId</span></span><span class="token punctuation">(</span>req<span class="token punctuation">.</span><span class="token property-access">user</span><span class="token punctuation">.</span><span class="token property-access">userId</span><span class="token punctuation">)</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> $group<span class="token operator">:</span> <span class="token punctuation">{</span> _id<span class="token operator">:</span> <span class="token string">&apos;$status&apos;</span><span class="token punctuation">,</span> count<span class="token operator">:</span> <span class="token punctuation">{</span> $sum<span class="token operator">:</span> <span class="token number">1</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  stats <span class="token operator">=</span> stats<span class="token punctuation">.</span><span class="token method function property-access">reduce</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">acc<span class="token punctuation">,</span> curr</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-const">const</span> <span class="token punctuation">{</span> _id<span class="token operator">:</span> title<span class="token punctuation">,</span> count <span class="token punctuation">}</span> <span class="token operator">=</span> curr<span class="token punctuation">;</span>
    acc<span class="token punctuation">[</span>title<span class="token punctuation">]</span> <span class="token operator">=</span> count<span class="token punctuation">;</span>
    <span class="token keyword control-flow keyword-return">return</span> acc<span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  res<span class="token punctuation">.</span><span class="token method function property-access">status</span><span class="token punctuation">(</span><span class="token maybe-class-name">StatusCodes</span><span class="token punctuation">.</span><span class="token constant">OK</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">json</span><span class="token punctuation">(</span><span class="token punctuation">{</span> stats <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</pre><h4 class="mume-header" id="show-stats---default-stats">Show Stats - Default Stats</h4>

<pre data-role="codeBlock" data-info="js" class="language-javascript">jobsController<span class="token punctuation">.</span><span class="token property-access">js</span><span class="token punctuation">;</span>

<span class="token keyword keyword-const">const</span> <span class="token function-variable function">showStats</span> <span class="token operator">=</span> <span class="token keyword keyword-async">async</span> <span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword keyword-let">let</span> stats <span class="token operator">=</span> <span class="token keyword control-flow keyword-await">await</span> <span class="token maybe-class-name">Job</span><span class="token punctuation">.</span><span class="token method function property-access">aggregate</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
    <span class="token punctuation">{</span> $match<span class="token operator">:</span> <span class="token punctuation">{</span> createdBy<span class="token operator">:</span> mongoose<span class="token punctuation">.</span><span class="token property-access"><span class="token maybe-class-name">Types</span></span><span class="token punctuation">.</span><span class="token method function property-access"><span class="token maybe-class-name">ObjectId</span></span><span class="token punctuation">(</span>req<span class="token punctuation">.</span><span class="token property-access">user</span><span class="token punctuation">.</span><span class="token property-access">userId</span><span class="token punctuation">)</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> $group<span class="token operator">:</span> <span class="token punctuation">{</span> _id<span class="token operator">:</span> <span class="token string">&apos;$status&apos;</span><span class="token punctuation">,</span> count<span class="token operator">:</span> <span class="token punctuation">{</span> $sum<span class="token operator">:</span> <span class="token number">1</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  stats <span class="token operator">=</span> stats<span class="token punctuation">.</span><span class="token method function property-access">reduce</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">acc<span class="token punctuation">,</span> curr</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-const">const</span> <span class="token punctuation">{</span> _id<span class="token operator">:</span> title<span class="token punctuation">,</span> count <span class="token punctuation">}</span> <span class="token operator">=</span> curr<span class="token punctuation">;</span>
    acc<span class="token punctuation">[</span>title<span class="token punctuation">]</span> <span class="token operator">=</span> count<span class="token punctuation">;</span>
    <span class="token keyword control-flow keyword-return">return</span> acc<span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword keyword-const">const</span> defaultStats <span class="token operator">=</span> <span class="token punctuation">{</span>
    pending<span class="token operator">:</span> stats<span class="token punctuation">.</span><span class="token property-access">pending</span> <span class="token operator">||</span> <span class="token number">0</span><span class="token punctuation">,</span>
    interview<span class="token operator">:</span> stats<span class="token punctuation">.</span><span class="token property-access">interview</span> <span class="token operator">||</span> <span class="token number">0</span><span class="token punctuation">,</span>
    declined<span class="token operator">:</span> stats<span class="token punctuation">.</span><span class="token property-access">declined</span> <span class="token operator">||</span> <span class="token number">0</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token keyword keyword-let">let</span> monthlyApplications <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
  res<span class="token punctuation">.</span><span class="token method function property-access">status</span><span class="token punctuation">(</span><span class="token maybe-class-name">StatusCodes</span><span class="token punctuation">.</span><span class="token constant">OK</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">json</span><span class="token punctuation">(</span><span class="token punctuation">{</span> defaultStats<span class="token punctuation">,</span> monthlyApplications <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</pre><h4 class="mume-header" id="show-stats---function-setup">Show Stats - Function Setup</h4>

<pre data-role="codeBlock" data-info="js" class="language-javascript">actions<span class="token punctuation">.</span><span class="token property-access">js</span><span class="token punctuation">;</span>

<span class="token keyword module keyword-export">export</span> <span class="token keyword keyword-const">const</span> <span class="token constant">SHOW_STATS_BEGIN</span> <span class="token operator">=</span> <span class="token string">&apos;SHOW_STATS_BEGIN&apos;</span><span class="token punctuation">;</span>
<span class="token keyword module keyword-export">export</span> <span class="token keyword keyword-const">const</span> <span class="token constant">SHOW_STATS_SUCCESS</span> <span class="token operator">=</span> <span class="token string">&apos;SHOW_STATS_SUCCESS&apos;</span><span class="token punctuation">;</span>
</pre><pre data-role="codeBlock" data-info="js" class="language-javascript">appContext<span class="token punctuation">.</span><span class="token property-access">js</span>

<span class="token keyword keyword-const">const</span> initialState <span class="token operator">=</span> <span class="token punctuation">{</span>
  stats<span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  monthlyApplications<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>

<span class="token punctuation">}</span>

<span class="token keyword keyword-const">const</span> <span class="token function-variable function">showStats</span> <span class="token operator">=</span> <span class="token keyword keyword-async">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token punctuation">{</span> type<span class="token operator">:</span> <span class="token constant">SHOW_STATS_BEGIN</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token keyword control-flow keyword-try">try</span> <span class="token punctuation">{</span>
      <span class="token keyword keyword-const">const</span> <span class="token punctuation">{</span> data <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword control-flow keyword-await">await</span> <span class="token function">authFetch</span><span class="token punctuation">(</span><span class="token string">&apos;/jobs/stats&apos;</span><span class="token punctuation">)</span>
      <span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        type<span class="token operator">:</span> <span class="token constant">SHOW_STATS_SUCCESS</span><span class="token punctuation">,</span>
        payload<span class="token operator">:</span> <span class="token punctuation">{</span>
          stats<span class="token operator">:</span> data<span class="token punctuation">.</span><span class="token property-access">defaultStats</span><span class="token punctuation">,</span>
          monthlyApplications<span class="token operator">:</span> data<span class="token punctuation">.</span><span class="token property-access">monthlyApplications</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span> <span class="token keyword control-flow keyword-catch">catch</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span>error<span class="token punctuation">.</span><span class="token property-access">response</span><span class="token punctuation">)</span>
      <span class="token comment">// logoutUser()</span>
    <span class="token punctuation">}</span>

<span class="token function">clearAlert</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  value<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span>showStats<span class="token punctuation">}</span><span class="token punctuation">}</span>
</pre><pre data-role="codeBlock" data-info="js" class="language-javascript">reducers<span class="token punctuation">.</span><span class="token property-access">js</span><span class="token punctuation">;</span>
<span class="token keyword control-flow keyword-if">if</span> <span class="token punctuation">(</span>action<span class="token punctuation">.</span><span class="token property-access">type</span> <span class="token operator">===</span> <span class="token constant">SHOW_STATS_BEGIN</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword control-flow keyword-return">return</span> <span class="token punctuation">{</span> <span class="token spread operator">...</span>state<span class="token punctuation">,</span> isLoading<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> showAlert<span class="token operator">:</span> <span class="token boolean">false</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword control-flow keyword-if">if</span> <span class="token punctuation">(</span>action<span class="token punctuation">.</span><span class="token property-access">type</span> <span class="token operator">===</span> <span class="token constant">SHOW_STATS_SUCCESS</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword control-flow keyword-return">return</span> <span class="token punctuation">{</span>
    <span class="token spread operator">...</span>state<span class="token punctuation">,</span>
    isLoading<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    stats<span class="token operator">:</span> action<span class="token punctuation">.</span><span class="token property-access">payload</span><span class="token punctuation">.</span><span class="token property-access">stats</span><span class="token punctuation">,</span>
    monthlyApplications<span class="token operator">:</span> action<span class="token punctuation">.</span><span class="token property-access">payload</span><span class="token punctuation">.</span><span class="token property-access">monthlyApplications</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</pre><h4 class="mume-header" id="stats-page---structure">Stats Page - Structure</h4>

<ul>
<li>components</li>
<li>StatsContainer.js</li>
<li>ChartsContainer.js</li>
<li>StatsItem.js</li>
<li>simple return</li>
<li>import/export index.js</li>
</ul>
<pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token maybe-class-name">Stats</span><span class="token punctuation">.</span><span class="token property-access">js</span><span class="token punctuation">;</span>

<span class="token keyword module keyword-import">import</span> <span class="token imports"><span class="token punctuation">{</span> useEffect <span class="token punctuation">}</span></span> <span class="token keyword module keyword-from">from</span> <span class="token string">&apos;react&apos;</span><span class="token punctuation">;</span>
<span class="token keyword module keyword-import">import</span> <span class="token imports"><span class="token punctuation">{</span> useAppContext <span class="token punctuation">}</span></span> <span class="token keyword module keyword-from">from</span> <span class="token string">&apos;../../context/appContext&apos;</span><span class="token punctuation">;</span>
<span class="token keyword module keyword-import">import</span> <span class="token imports"><span class="token punctuation">{</span> <span class="token maybe-class-name">StatsContainer</span><span class="token punctuation">,</span> <span class="token maybe-class-name">Loading</span><span class="token punctuation">,</span> <span class="token maybe-class-name">ChartsContainer</span> <span class="token punctuation">}</span></span> <span class="token keyword module keyword-from">from</span> <span class="token string">&apos;../../components&apos;</span><span class="token punctuation">;</span>

<span class="token keyword keyword-const">const</span> <span class="token function-variable function"><span class="token maybe-class-name">Stats</span></span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword keyword-const">const</span> <span class="token punctuation">{</span> showStats<span class="token punctuation">,</span> isLoading<span class="token punctuation">,</span> monthlyApplications <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">useAppContext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token function">showStats</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword control-flow keyword-if">if</span> <span class="token punctuation">(</span>isLoading<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword control-flow keyword-return">return</span> <span class="token operator">&lt;</span><span class="token maybe-class-name">Loading</span> center <span class="token operator">/</span><span class="token operator">&gt;</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword control-flow keyword-return">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token maybe-class-name">StatsContainer</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
      <span class="token punctuation">{</span>monthlyApplications<span class="token punctuation">.</span><span class="token property-access">length</span> <span class="token operator">&gt;</span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> <span class="token operator">&lt;</span><span class="token maybe-class-name">ChartsContainer</span> <span class="token operator">/</span><span class="token operator">&gt;</span><span class="token punctuation">}</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span><span class="token operator">&gt;</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword module keyword-export">export</span> <span class="token keyword module keyword-default">default</span> <span class="token maybe-class-name">Stats</span><span class="token punctuation">;</span>
</pre><h4 class="mume-header" id="statscontainer">StatsContainer</h4>

<pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token maybe-class-name">StatsContainer</span><span class="token punctuation">.</span><span class="token property-access">js</span><span class="token punctuation">;</span>

<span class="token keyword module keyword-import">import</span> <span class="token imports"><span class="token punctuation">{</span> useAppContext <span class="token punctuation">}</span></span> <span class="token keyword module keyword-from">from</span> <span class="token string">&apos;../context/appContext&apos;</span><span class="token punctuation">;</span>
<span class="token keyword module keyword-import">import</span> <span class="token imports"><span class="token maybe-class-name">StatItem</span></span> <span class="token keyword module keyword-from">from</span> <span class="token string">&apos;./StatItem&apos;</span><span class="token punctuation">;</span>
<span class="token keyword module keyword-import">import</span> <span class="token imports"><span class="token punctuation">{</span> <span class="token maybe-class-name">FaSuitcaseRolling</span><span class="token punctuation">,</span> <span class="token maybe-class-name">FaCalendarCheck</span><span class="token punctuation">,</span> <span class="token maybe-class-name">FaBug</span> <span class="token punctuation">}</span></span> <span class="token keyword module keyword-from">from</span> <span class="token string">&apos;react-icons/fa&apos;</span><span class="token punctuation">;</span>
<span class="token keyword module keyword-import">import</span> <span class="token imports"><span class="token maybe-class-name">Wrapper</span></span> <span class="token keyword module keyword-from">from</span> <span class="token string">&apos;../assets/wrappers/StatsContainer&apos;</span><span class="token punctuation">;</span>
<span class="token keyword keyword-const">const</span> <span class="token function-variable function"><span class="token maybe-class-name">StatsContainer</span></span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword keyword-const">const</span> <span class="token punctuation">{</span> stats <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">useAppContext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword keyword-const">const</span> defaultStats <span class="token operator">=</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      title<span class="token operator">:</span> <span class="token string">&apos;pending applications&apos;</span><span class="token punctuation">,</span>
      count<span class="token operator">:</span> stats<span class="token punctuation">.</span><span class="token property-access">pending</span> <span class="token operator">||</span> <span class="token number">0</span><span class="token punctuation">,</span>
      icon<span class="token operator">:</span> <span class="token operator">&lt;</span><span class="token maybe-class-name">FaSuitcaseRolling</span> <span class="token operator">/</span><span class="token operator">&gt;</span><span class="token punctuation">,</span>
      color<span class="token operator">:</span> <span class="token string">&apos;#e9b949&apos;</span><span class="token punctuation">,</span>
      bcg<span class="token operator">:</span> <span class="token string">&apos;#fcefc7&apos;</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      title<span class="token operator">:</span> <span class="token string">&apos;interviews scheduled&apos;</span><span class="token punctuation">,</span>
      count<span class="token operator">:</span> stats<span class="token punctuation">.</span><span class="token property-access">interview</span> <span class="token operator">||</span> <span class="token number">0</span><span class="token punctuation">,</span>
      icon<span class="token operator">:</span> <span class="token operator">&lt;</span><span class="token maybe-class-name">FaCalendarCheck</span> <span class="token operator">/</span><span class="token operator">&gt;</span><span class="token punctuation">,</span>
      color<span class="token operator">:</span> <span class="token string">&apos;#647acb&apos;</span><span class="token punctuation">,</span>
      bcg<span class="token operator">:</span> <span class="token string">&apos;#e0e8f9&apos;</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      title<span class="token operator">:</span> <span class="token string">&apos;jobs declined&apos;</span><span class="token punctuation">,</span>
      count<span class="token operator">:</span> stats<span class="token punctuation">.</span><span class="token property-access">declined</span> <span class="token operator">||</span> <span class="token number">0</span><span class="token punctuation">,</span>
      icon<span class="token operator">:</span> <span class="token operator">&lt;</span><span class="token maybe-class-name">FaBug</span> <span class="token operator">/</span><span class="token operator">&gt;</span><span class="token punctuation">,</span>
      color<span class="token operator">:</span> <span class="token string">&apos;#d66a6a&apos;</span><span class="token punctuation">,</span>
      bcg<span class="token operator">:</span> <span class="token string">&apos;#ffeeee&apos;</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">;</span>

  <span class="token keyword control-flow keyword-return">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span><span class="token maybe-class-name">Wrapper</span><span class="token operator">&gt;</span>
      <span class="token punctuation">{</span>defaultStats<span class="token punctuation">.</span><span class="token method function property-access">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">item<span class="token punctuation">,</span> index</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword control-flow keyword-return">return</span> <span class="token operator">&lt;</span><span class="token maybe-class-name">StatItem</span> key<span class="token operator">=</span><span class="token punctuation">{</span>index<span class="token punctuation">}</span> <span class="token punctuation">{</span><span class="token spread operator">...</span>item<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">&gt;</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span><span class="token maybe-class-name">Wrapper</span><span class="token operator">&gt;</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword module keyword-export">export</span> <span class="token keyword module keyword-default">default</span> <span class="token maybe-class-name">StatsContainer</span><span class="token punctuation">;</span>
</pre><h4 class="mume-header" id="statitem">StatItem</h4>

<pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token maybe-class-name">StatItem</span><span class="token punctuation">.</span><span class="token property-access">js</span><span class="token punctuation">;</span>

<span class="token keyword module keyword-import">import</span> <span class="token imports"><span class="token maybe-class-name">Wrapper</span></span> <span class="token keyword module keyword-from">from</span> <span class="token string">&apos;../assets/wrappers/StatItem&apos;</span><span class="token punctuation">;</span>

<span class="token keyword keyword-function">function</span> <span class="token function"><span class="token maybe-class-name">StatItem</span></span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> count<span class="token punctuation">,</span> title<span class="token punctuation">,</span> icon<span class="token punctuation">,</span> color<span class="token punctuation">,</span> bcg <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword control-flow keyword-return">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span><span class="token maybe-class-name">Wrapper</span> color<span class="token operator">=</span><span class="token punctuation">{</span>color<span class="token punctuation">}</span> bcg<span class="token operator">=</span><span class="token punctuation">{</span>bcg<span class="token punctuation">}</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>header<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>span className<span class="token operator">=</span><span class="token string">&apos;count&apos;</span><span class="token operator">&gt;</span><span class="token punctuation">{</span>count<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>span<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>div className<span class="token operator">=</span><span class="token string">&apos;icon&apos;</span><span class="token operator">&gt;</span><span class="token punctuation">{</span>icon<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>header<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>h5 className<span class="token operator">=</span><span class="token string">&apos;title&apos;</span><span class="token operator">&gt;</span><span class="token punctuation">{</span>title<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>h5<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span><span class="token maybe-class-name">Wrapper</span><span class="token operator">&gt;</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword module keyword-export">export</span> <span class="token keyword module keyword-default">default</span> <span class="token maybe-class-name">StatItem</span><span class="token punctuation">;</span>
</pre><h4 class="mume-header" id="aggregate-jobs-based-on-year-and-month">Aggregate Jobs Based on Year and Month</h4>

<pre data-role="codeBlock" data-info="js" class="language-javascript">jobsController<span class="token punctuation">.</span><span class="token property-access">js</span><span class="token punctuation">;</span>

<span class="token keyword keyword-let">let</span> monthlyApplications <span class="token operator">=</span> <span class="token keyword control-flow keyword-await">await</span> <span class="token maybe-class-name">Job</span><span class="token punctuation">.</span><span class="token method function property-access">aggregate</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
  <span class="token punctuation">{</span> $match<span class="token operator">:</span> <span class="token punctuation">{</span> createdBy<span class="token operator">:</span> mongoose<span class="token punctuation">.</span><span class="token property-access"><span class="token maybe-class-name">Types</span></span><span class="token punctuation">.</span><span class="token method function property-access"><span class="token maybe-class-name">ObjectId</span></span><span class="token punctuation">(</span>req<span class="token punctuation">.</span><span class="token property-access">user</span><span class="token punctuation">.</span><span class="token property-access">userId</span><span class="token punctuation">)</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    $group<span class="token operator">:</span> <span class="token punctuation">{</span>
      _id<span class="token operator">:</span> <span class="token punctuation">{</span>
        year<span class="token operator">:</span> <span class="token punctuation">{</span>
          $year<span class="token operator">:</span> <span class="token string">&apos;$createdAt&apos;</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        month<span class="token operator">:</span> <span class="token punctuation">{</span>
          $month<span class="token operator">:</span> <span class="token string">&apos;$createdAt&apos;</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      count<span class="token operator">:</span> <span class="token punctuation">{</span> $sum<span class="token operator">:</span> <span class="token number">1</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span> $sort<span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token string">&apos;_id.year&apos;</span><span class="token operator">:</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">&apos;_id.month&apos;</span><span class="token operator">:</span> <span class="token operator">-</span><span class="token number">1</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span> $limit<span class="token operator">:</span> <span class="token number">6</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</pre><h4 class="mume-header" id="refactor-data">Refactor Data</h4>

<ul>
<li>install moment.js on the SERVER</li>
</ul>
<pre data-role="codeBlock" data-info="sh" class="language-bash"><span class="token function">npm</span> <span class="token function">install</span> moment

</pre><pre data-role="codeBlock" data-info="js" class="language-javascript">jobsController<span class="token punctuation">.</span><span class="token property-access">js</span><span class="token punctuation">;</span>

<span class="token keyword module keyword-import">import</span> <span class="token imports">moment</span> <span class="token keyword module keyword-from">from</span> <span class="token string">&apos;moment&apos;</span><span class="token punctuation">;</span>

monthlyApplications <span class="token operator">=</span> monthlyApplications
  <span class="token punctuation">.</span><span class="token method function property-access">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">item</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-const">const</span> <span class="token punctuation">{</span>
      _id<span class="token operator">:</span> <span class="token punctuation">{</span> year<span class="token punctuation">,</span> month <span class="token punctuation">}</span><span class="token punctuation">,</span>
      count<span class="token punctuation">,</span>
    <span class="token punctuation">}</span> <span class="token operator">=</span> item<span class="token punctuation">;</span>
    <span class="token comment">// accepts 0-11</span>
    <span class="token keyword keyword-const">const</span> date <span class="token operator">=</span> <span class="token function">moment</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token method function property-access">month</span><span class="token punctuation">(</span>month <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token method function property-access">year</span><span class="token punctuation">(</span>year<span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token method function property-access">format</span><span class="token punctuation">(</span><span class="token string">&apos;MMM Y&apos;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword control-flow keyword-return">return</span> <span class="token punctuation">{</span> date<span class="token punctuation">,</span> count <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token method function property-access">reverse</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</pre><h4 class="mume-header" id="charts-container">Charts Container</h4>

<ul>
<li>BarChart.js</li>
<li>AreaChart.js</li>
</ul>
<pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token maybe-class-name">ChartsContainer</span><span class="token punctuation">.</span><span class="token property-access">js</span><span class="token punctuation">;</span>
<span class="token keyword module keyword-import">import</span> <span class="token imports"><span class="token maybe-class-name">React</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> useState <span class="token punctuation">}</span></span> <span class="token keyword module keyword-from">from</span> <span class="token string">&apos;react&apos;</span><span class="token punctuation">;</span>

<span class="token keyword module keyword-import">import</span> <span class="token imports"><span class="token maybe-class-name">BarChart</span></span> <span class="token keyword module keyword-from">from</span> <span class="token string">&apos;./BarChart&apos;</span><span class="token punctuation">;</span>
<span class="token keyword module keyword-import">import</span> <span class="token imports"><span class="token maybe-class-name">AreaChart</span></span> <span class="token keyword module keyword-from">from</span> <span class="token string">&apos;./AreaChart&apos;</span><span class="token punctuation">;</span>
<span class="token keyword module keyword-import">import</span> <span class="token imports"><span class="token punctuation">{</span> useAppContext <span class="token punctuation">}</span></span> <span class="token keyword module keyword-from">from</span> <span class="token string">&apos;../context/appContext&apos;</span><span class="token punctuation">;</span>
<span class="token keyword module keyword-import">import</span> <span class="token imports"><span class="token maybe-class-name">Wrapper</span></span> <span class="token keyword module keyword-from">from</span> <span class="token string">&apos;../assets/wrappers/ChartsContainer&apos;</span><span class="token punctuation">;</span>

<span class="token keyword module keyword-export">export</span> <span class="token keyword module keyword-default">default</span> <span class="token keyword keyword-function">function</span> <span class="token function"><span class="token maybe-class-name">ChartsContainer</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword keyword-const">const</span> <span class="token punctuation">[</span>barChart<span class="token punctuation">,</span> setBarChart<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword keyword-const">const</span> <span class="token punctuation">{</span> monthlyApplications<span class="token operator">:</span> data <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">useAppContext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword control-flow keyword-return">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span><span class="token maybe-class-name">Wrapper</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>h4<span class="token operator">&gt;</span><span class="token maybe-class-name">Monthly</span> <span class="token maybe-class-name">Applications</span><span class="token operator">&lt;</span><span class="token operator">/</span>h4<span class="token operator">&gt;</span>

      <span class="token operator">&lt;</span>button type<span class="token operator">=</span><span class="token string">&apos;button&apos;</span> onClick<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token function">setBarChart</span><span class="token punctuation">(</span><span class="token operator">!</span>barChart<span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token operator">&gt;</span>
        <span class="token punctuation">{</span>barChart <span class="token operator">?</span> <span class="token string">&apos;AreaChart&apos;</span> <span class="token operator">:</span> <span class="token string">&apos;BarChart&apos;</span><span class="token punctuation">}</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
      <span class="token punctuation">{</span>barChart <span class="token operator">?</span> <span class="token operator">&lt;</span><span class="token maybe-class-name">BarChart</span> data<span class="token operator">=</span><span class="token punctuation">{</span>data<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">&gt;</span> <span class="token operator">:</span> <span class="token operator">&lt;</span><span class="token maybe-class-name">AreaChart</span> data<span class="token operator">=</span><span class="token punctuation">{</span>data<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">&gt;</span><span class="token punctuation">}</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span><span class="token maybe-class-name">Wrapper</span><span class="token operator">&gt;</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</pre><h4 class="mume-header" id="recharts-library">Recharts Library</h4>

<ul>
<li>install in the Client!!!</li>
</ul>
<p><a href="https://recharts.org">Recharts</a></p>
<pre data-role="codeBlock" data-info="sh" class="language-bash"><span class="token function">npm</span> <span class="token function">install</span> recharts
</pre><h4 class="mume-header" id="bar-chart">Bar Chart</h4>

<pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token maybe-class-name">BarChart</span><span class="token punctuation">.</span><span class="token property-access">js</span><span class="token punctuation">;</span>

<span class="token keyword module keyword-import">import</span> <span class="token imports"><span class="token punctuation">{</span>
  <span class="token maybe-class-name">BarChart</span><span class="token punctuation">,</span>
  <span class="token maybe-class-name">Bar</span><span class="token punctuation">,</span>
  <span class="token maybe-class-name">XAxis</span><span class="token punctuation">,</span>
  <span class="token maybe-class-name">YAxis</span><span class="token punctuation">,</span>
  <span class="token maybe-class-name">CartesianGrid</span><span class="token punctuation">,</span>
  <span class="token maybe-class-name">Tooltip</span><span class="token punctuation">,</span>
  <span class="token maybe-class-name">ResponsiveContainer</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span></span> <span class="token keyword module keyword-from">from</span> <span class="token string">&apos;recharts&apos;</span><span class="token punctuation">;</span>

<span class="token keyword keyword-const">const</span> <span class="token function-variable function"><span class="token maybe-class-name">BarChartComponent</span></span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> data <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword control-flow keyword-return">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span><span class="token maybe-class-name">ResponsiveContainer</span> width<span class="token operator">=</span><span class="token string">&apos;100%&apos;</span> height<span class="token operator">=</span><span class="token punctuation">{</span><span class="token number">300</span><span class="token punctuation">}</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token maybe-class-name">BarChart</span>
        data<span class="token operator">=</span><span class="token punctuation">{</span>data<span class="token punctuation">}</span>
        margin<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span>
          top<span class="token operator">:</span> <span class="token number">50</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">}</span>
      <span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token maybe-class-name">CartesianGrid</span> strokeDasharray<span class="token operator">=</span><span class="token string">&apos;3 3&apos;</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token maybe-class-name">XAxis</span> dataKey<span class="token operator">=</span><span class="token string">&apos;date&apos;</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token maybe-class-name">YAxis</span> allowDecimals<span class="token operator">=</span><span class="token punctuation">{</span><span class="token boolean">false</span><span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token maybe-class-name">Tooltip</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token maybe-class-name">Bar</span> dataKey<span class="token operator">=</span><span class="token string">&apos;count&apos;</span> fill<span class="token operator">=</span><span class="token string">&apos;#2cb1bc&apos;</span> barSize<span class="token operator">=</span><span class="token punctuation">{</span><span class="token number">75</span><span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span><span class="token maybe-class-name">BarChart</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span><span class="token maybe-class-name">ResponsiveContainer</span><span class="token operator">&gt;</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</pre><h4 class="mume-header" id="area-chart">Area Chart</h4>

<pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token keyword module keyword-import">import</span> <span class="token imports"><span class="token punctuation">{</span>
  <span class="token maybe-class-name">ResponsiveContainer</span><span class="token punctuation">,</span>
  <span class="token maybe-class-name">AreaChart</span><span class="token punctuation">,</span>
  <span class="token maybe-class-name">Area</span><span class="token punctuation">,</span>
  <span class="token maybe-class-name">XAxis</span><span class="token punctuation">,</span>
  <span class="token maybe-class-name">YAxis</span><span class="token punctuation">,</span>
  <span class="token maybe-class-name">CartesianGrid</span><span class="token punctuation">,</span>
  <span class="token maybe-class-name">Tooltip</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span></span> <span class="token keyword module keyword-from">from</span> <span class="token string">&apos;recharts&apos;</span><span class="token punctuation">;</span>

<span class="token keyword keyword-const">const</span> <span class="token function-variable function"><span class="token maybe-class-name">AreaChartComponent</span></span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> data <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword control-flow keyword-return">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span><span class="token maybe-class-name">ResponsiveContainer</span> width<span class="token operator">=</span><span class="token string">&apos;100%&apos;</span> height<span class="token operator">=</span><span class="token punctuation">{</span><span class="token number">300</span><span class="token punctuation">}</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token maybe-class-name">AreaChart</span>
        data<span class="token operator">=</span><span class="token punctuation">{</span>data<span class="token punctuation">}</span>
        margin<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span>
          top<span class="token operator">:</span> <span class="token number">50</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">}</span>
      <span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token maybe-class-name">CartesianGrid</span> strokeDasharray<span class="token operator">=</span><span class="token string">&apos;3 3&apos;</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token maybe-class-name">XAxis</span> dataKey<span class="token operator">=</span><span class="token string">&apos;date&apos;</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token maybe-class-name">YAxis</span> allowDecimals<span class="token operator">=</span><span class="token punctuation">{</span><span class="token boolean">false</span><span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token maybe-class-name">Tooltip</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token maybe-class-name">Area</span> type<span class="token operator">=</span><span class="token string">&apos;monotone&apos;</span> dataKey<span class="token operator">=</span><span class="token string">&apos;count&apos;</span> stroke<span class="token operator">=</span><span class="token string">&apos;#2cb1bc&apos;</span> fill<span class="token operator">=</span><span class="token string">&apos;#bef8fd&apos;</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span><span class="token maybe-class-name">AreaChart</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span><span class="token maybe-class-name">ResponsiveContainer</span><span class="token operator">&gt;</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</pre><h4 class="mume-header" id="filter">Filter</h4>

<h4 class="mume-header" id="get-all-jobs---initial-setup">Get All Jobs - Initial Setup</h4>

<pre data-role="codeBlock" data-info="js" class="language-javascript">jobsController<span class="token punctuation">.</span><span class="token property-access">js</span><span class="token punctuation">;</span>

<span class="token keyword keyword-const">const</span> <span class="token function-variable function">getAllJobs</span> <span class="token operator">=</span> <span class="token keyword keyword-async">async</span> <span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword keyword-const">const</span> <span class="token punctuation">{</span> search<span class="token punctuation">,</span> status<span class="token punctuation">,</span> jobType<span class="token punctuation">,</span> sort <span class="token punctuation">}</span> <span class="token operator">=</span> req<span class="token punctuation">.</span><span class="token property-access">query</span><span class="token punctuation">;</span>

  <span class="token keyword keyword-const">const</span> queryObject <span class="token operator">=</span> <span class="token punctuation">{</span>
    createdBy<span class="token operator">:</span> req<span class="token punctuation">.</span><span class="token property-access">user</span><span class="token punctuation">.</span><span class="token property-access">userId</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>

  <span class="token comment">// NO AWAIT</span>
  <span class="token keyword keyword-let">let</span> result <span class="token operator">=</span> <span class="token maybe-class-name">Job</span><span class="token punctuation">.</span><span class="token method function property-access">find</span><span class="token punctuation">(</span>queryObject<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment">// chain sort conditions</span>

  <span class="token keyword keyword-const">const</span> jobs <span class="token operator">=</span> <span class="token keyword control-flow keyword-await">await</span> result<span class="token punctuation">;</span>

  res
    <span class="token punctuation">.</span><span class="token method function property-access">status</span><span class="token punctuation">(</span><span class="token maybe-class-name">StatusCodes</span><span class="token punctuation">.</span><span class="token constant">OK</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token method function property-access">json</span><span class="token punctuation">(</span><span class="token punctuation">{</span> jobs<span class="token punctuation">,</span> totalJobs<span class="token operator">:</span> jobs<span class="token punctuation">.</span><span class="token property-access">length</span><span class="token punctuation">,</span> numOfPages<span class="token operator">:</span> <span class="token number">1</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</pre><h4 class="mume-header" id="status">Status</h4>

<pre data-role="codeBlock" data-info="js" class="language-javascript">jobsController<span class="token punctuation">.</span><span class="token property-access">js</span><span class="token punctuation">;</span>

<span class="token keyword keyword-const">const</span> <span class="token function-variable function">getAllJobs</span> <span class="token operator">=</span> <span class="token keyword keyword-async">async</span> <span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword keyword-const">const</span> <span class="token punctuation">{</span> search<span class="token punctuation">,</span> status<span class="token punctuation">,</span> jobType<span class="token punctuation">,</span> sort <span class="token punctuation">}</span> <span class="token operator">=</span> req<span class="token punctuation">.</span><span class="token property-access">query</span><span class="token punctuation">;</span>

  <span class="token keyword keyword-const">const</span> queryObject <span class="token operator">=</span> <span class="token punctuation">{</span>
    createdBy<span class="token operator">:</span> req<span class="token punctuation">.</span><span class="token property-access">user</span><span class="token punctuation">.</span><span class="token property-access">userId</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>

  <span class="token keyword control-flow keyword-if">if</span> <span class="token punctuation">(</span>status <span class="token operator">!==</span> <span class="token string">&apos;all&apos;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    queryObject<span class="token punctuation">.</span><span class="token property-access">status</span> <span class="token operator">=</span> status<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token comment">// NO AWAIT</span>
  <span class="token keyword keyword-let">let</span> result <span class="token operator">=</span> <span class="token maybe-class-name">Job</span><span class="token punctuation">.</span><span class="token method function property-access">find</span><span class="token punctuation">(</span>queryObject<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment">// chain sort conditions</span>

  <span class="token keyword keyword-const">const</span> jobs <span class="token operator">=</span> <span class="token keyword control-flow keyword-await">await</span> result<span class="token punctuation">;</span>

  res
    <span class="token punctuation">.</span><span class="token method function property-access">status</span><span class="token punctuation">(</span><span class="token maybe-class-name">StatusCodes</span><span class="token punctuation">.</span><span class="token constant">OK</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token method function property-access">json</span><span class="token punctuation">(</span><span class="token punctuation">{</span> jobs<span class="token punctuation">,</span> totalJobs<span class="token operator">:</span> jobs<span class="token punctuation">.</span><span class="token property-access">length</span><span class="token punctuation">,</span> numOfPages<span class="token operator">:</span> <span class="token number">1</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</pre><h4 class="mume-header" id="jobtype">JobType</h4>

<pre data-role="codeBlock" data-info="js" class="language-javascript">jobsController<span class="token punctuation">.</span><span class="token property-access">js</span><span class="token punctuation">;</span>

<span class="token keyword keyword-const">const</span> <span class="token function-variable function">getAllJobs</span> <span class="token operator">=</span> <span class="token keyword keyword-async">async</span> <span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword keyword-const">const</span> <span class="token punctuation">{</span> search<span class="token punctuation">,</span> status<span class="token punctuation">,</span> jobType<span class="token punctuation">,</span> sort <span class="token punctuation">}</span> <span class="token operator">=</span> req<span class="token punctuation">.</span><span class="token property-access">query</span><span class="token punctuation">;</span>

  <span class="token keyword keyword-const">const</span> queryObject <span class="token operator">=</span> <span class="token punctuation">{</span>
    createdBy<span class="token operator">:</span> req<span class="token punctuation">.</span><span class="token property-access">user</span><span class="token punctuation">.</span><span class="token property-access">userId</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>

  <span class="token keyword control-flow keyword-if">if</span> <span class="token punctuation">(</span>status <span class="token operator">!==</span> <span class="token string">&apos;all&apos;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    queryObject<span class="token punctuation">.</span><span class="token property-access">status</span> <span class="token operator">=</span> status<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword control-flow keyword-if">if</span> <span class="token punctuation">(</span>jobType <span class="token operator">!==</span> <span class="token string">&apos;all&apos;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    queryObject<span class="token punctuation">.</span><span class="token property-access">jobType</span> <span class="token operator">=</span> jobType<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token comment">// NO AWAIT</span>
  <span class="token keyword keyword-let">let</span> result <span class="token operator">=</span> <span class="token maybe-class-name">Job</span><span class="token punctuation">.</span><span class="token method function property-access">find</span><span class="token punctuation">(</span>queryObject<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment">// chain sort conditions</span>

  <span class="token keyword keyword-const">const</span> jobs <span class="token operator">=</span> <span class="token keyword control-flow keyword-await">await</span> result<span class="token punctuation">;</span>

  res
    <span class="token punctuation">.</span><span class="token method function property-access">status</span><span class="token punctuation">(</span><span class="token maybe-class-name">StatusCodes</span><span class="token punctuation">.</span><span class="token constant">OK</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token method function property-access">json</span><span class="token punctuation">(</span><span class="token punctuation">{</span> jobs<span class="token punctuation">,</span> totalJobs<span class="token operator">:</span> jobs<span class="token punctuation">.</span><span class="token property-access">length</span><span class="token punctuation">,</span> numOfPages<span class="token operator">:</span> <span class="token number">1</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</pre><h4 class="mume-header" id="search">Search</h4>

<pre data-role="codeBlock" data-info="js" class="language-javascript">jobsController<span class="token punctuation">.</span><span class="token property-access">js</span><span class="token punctuation">;</span>

<span class="token keyword keyword-const">const</span> <span class="token function-variable function">getAllJobs</span> <span class="token operator">=</span> <span class="token keyword keyword-async">async</span> <span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword keyword-const">const</span> <span class="token punctuation">{</span> search<span class="token punctuation">,</span> status<span class="token punctuation">,</span> jobType<span class="token punctuation">,</span> sort <span class="token punctuation">}</span> <span class="token operator">=</span> req<span class="token punctuation">.</span><span class="token property-access">query</span><span class="token punctuation">;</span>

  <span class="token keyword keyword-const">const</span> queryObject <span class="token operator">=</span> <span class="token punctuation">{</span>
    createdBy<span class="token operator">:</span> req<span class="token punctuation">.</span><span class="token property-access">user</span><span class="token punctuation">.</span><span class="token property-access">userId</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>

  <span class="token keyword control-flow keyword-if">if</span> <span class="token punctuation">(</span>status <span class="token operator">!==</span> <span class="token string">&apos;all&apos;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    queryObject<span class="token punctuation">.</span><span class="token property-access">status</span> <span class="token operator">=</span> status<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword control-flow keyword-if">if</span> <span class="token punctuation">(</span>jobType <span class="token operator">!==</span> <span class="token string">&apos;all&apos;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    queryObject<span class="token punctuation">.</span><span class="token property-access">jobType</span> <span class="token operator">=</span> jobType<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword control-flow keyword-if">if</span> <span class="token punctuation">(</span>search<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    queryObject<span class="token punctuation">.</span><span class="token property-access">position</span> <span class="token operator">=</span> <span class="token punctuation">{</span> $regex<span class="token operator">:</span> search<span class="token punctuation">,</span> $options<span class="token operator">:</span> <span class="token string">&apos;i&apos;</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token comment">// NO AWAIT</span>
  <span class="token keyword keyword-let">let</span> result <span class="token operator">=</span> <span class="token maybe-class-name">Job</span><span class="token punctuation">.</span><span class="token method function property-access">find</span><span class="token punctuation">(</span>queryObject<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment">// chain sort conditions</span>
  <span class="token keyword control-flow keyword-if">if</span> <span class="token punctuation">(</span>sort <span class="token operator">===</span> <span class="token string">&apos;latest&apos;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    result <span class="token operator">=</span> result<span class="token punctuation">.</span><span class="token method function property-access">sort</span><span class="token punctuation">(</span><span class="token string">&apos;-createdAt&apos;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword control-flow keyword-if">if</span> <span class="token punctuation">(</span>sort <span class="token operator">===</span> <span class="token string">&apos;oldest&apos;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    result <span class="token operator">=</span> result<span class="token punctuation">.</span><span class="token method function property-access">sort</span><span class="token punctuation">(</span><span class="token string">&apos;createdAt&apos;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword control-flow keyword-if">if</span> <span class="token punctuation">(</span>sort <span class="token operator">===</span> <span class="token string">&apos;a-z&apos;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    result <span class="token operator">=</span> result<span class="token punctuation">.</span><span class="token method function property-access">sort</span><span class="token punctuation">(</span><span class="token string">&apos;position&apos;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword control-flow keyword-if">if</span> <span class="token punctuation">(</span>sort <span class="token operator">===</span> <span class="token string">&apos;z-a&apos;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    result <span class="token operator">=</span> result<span class="token punctuation">.</span><span class="token method function property-access">sort</span><span class="token punctuation">(</span><span class="token string">&apos;-position&apos;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword keyword-const">const</span> jobs <span class="token operator">=</span> <span class="token keyword control-flow keyword-await">await</span> result<span class="token punctuation">;</span>

  res
    <span class="token punctuation">.</span><span class="token method function property-access">status</span><span class="token punctuation">(</span><span class="token maybe-class-name">StatusCodes</span><span class="token punctuation">.</span><span class="token constant">OK</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token method function property-access">json</span><span class="token punctuation">(</span><span class="token punctuation">{</span> jobs<span class="token punctuation">,</span> totalJobs<span class="token operator">:</span> jobs<span class="token punctuation">.</span><span class="token property-access">length</span><span class="token punctuation">,</span> numOfPages<span class="token operator">:</span> <span class="token number">1</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</pre><h4 class="mume-header" id="search-context-setup">Search Context Setup</h4>

<pre data-role="codeBlock" data-info="js" class="language-javascript">appContext<span class="token punctuation">.</span><span class="token property-access">js</span>

<span class="token keyword keyword-const">const</span> initialState <span class="token operator">=</span> <span class="token punctuation">{</span>
  jobType<span class="token operator">:</span> <span class="token string">&apos;full-time&apos;</span><span class="token punctuation">,</span>
  jobTypeOptions<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&apos;full-time&apos;</span><span class="token punctuation">,</span> <span class="token string">&apos;part-time&apos;</span><span class="token punctuation">,</span> <span class="token string">&apos;remote&apos;</span><span class="token punctuation">,</span> <span class="token string">&apos;internship&apos;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  status<span class="token operator">:</span> <span class="token string">&apos;pending&apos;</span><span class="token punctuation">,</span>
  statusOptions<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&apos;pending&apos;</span><span class="token punctuation">,</span> <span class="token string">&apos;interview&apos;</span><span class="token punctuation">,</span> <span class="token string">&apos;declined&apos;</span><span class="token punctuation">]</span>
  <span class="token comment">//</span>
  <span class="token comment">//</span>
  <span class="token comment">//</span>
  search<span class="token operator">:</span> <span class="token string">&apos;&apos;</span><span class="token punctuation">,</span>
  searchStatus<span class="token operator">:</span> <span class="token string">&apos;all&apos;</span><span class="token punctuation">,</span>
  searchType<span class="token operator">:</span> <span class="token string">&apos;all&apos;</span><span class="token punctuation">,</span>
  sort<span class="token operator">:</span> <span class="token string">&apos;latest&apos;</span><span class="token punctuation">,</span>
  sortOptions<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&apos;latest&apos;</span><span class="token punctuation">,</span> <span class="token string">&apos;oldest&apos;</span><span class="token punctuation">,</span> <span class="token string">&apos;a-z&apos;</span><span class="token punctuation">,</span> <span class="token string">&apos;z-a&apos;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>

<span class="token keyword keyword-const">const</span> <span class="token function-variable function">clearFilters</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span><span class="token punctuation">{</span>
<span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token string">&apos;clear filters&apos;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

value<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span>clearFilters<span class="token punctuation">}</span><span class="token punctuation">}</span>

<span class="token comment">// remember this function :)</span>
<span class="token keyword keyword-const">const</span> <span class="token function-variable function">handleChange</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> name<span class="token punctuation">,</span> value <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      type<span class="token operator">:</span> <span class="token constant">HANDLE_CHANGE</span><span class="token punctuation">,</span>
      payload<span class="token operator">:</span> <span class="token punctuation">{</span> name<span class="token punctuation">,</span> value <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>

</pre><h4 class="mume-header" id="search-container---setup">Search Container - Setup</h4>

<pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token maybe-class-name">SearchContainer</span><span class="token punctuation">.</span><span class="token property-access">js</span><span class="token punctuation">;</span>

<span class="token keyword module keyword-import">import</span> <span class="token imports"><span class="token punctuation">{</span> <span class="token maybe-class-name">FormRow</span><span class="token punctuation">,</span> <span class="token maybe-class-name">FormRowSelect</span> <span class="token punctuation">}</span></span> <span class="token keyword module keyword-from">from</span> <span class="token string">&apos;.&apos;</span><span class="token punctuation">;</span>
<span class="token keyword module keyword-import">import</span> <span class="token imports"><span class="token punctuation">{</span> useAppContext <span class="token punctuation">}</span></span> <span class="token keyword module keyword-from">from</span> <span class="token string">&apos;../context/appContext&apos;</span><span class="token punctuation">;</span>
<span class="token keyword module keyword-import">import</span> <span class="token imports"><span class="token maybe-class-name">Wrapper</span></span> <span class="token keyword module keyword-from">from</span> <span class="token string">&apos;../assets/wrappers/SearchContainer&apos;</span><span class="token punctuation">;</span>
<span class="token keyword keyword-const">const</span> <span class="token function-variable function"><span class="token maybe-class-name">SearchContainer</span></span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword keyword-const">const</span> <span class="token punctuation">{</span>
    isLoading<span class="token punctuation">,</span>
    search<span class="token punctuation">,</span>
    searchStatus<span class="token punctuation">,</span>
    searchType<span class="token punctuation">,</span>
    sort<span class="token punctuation">,</span>
    sortOptions<span class="token punctuation">,</span>
    statusOptions<span class="token punctuation">,</span>
    jobTypeOptions<span class="token punctuation">,</span>
    handleChange<span class="token punctuation">,</span>
    clearFilters<span class="token punctuation">,</span>
  <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">useAppContext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword keyword-const">const</span> <span class="token function-variable function">handleSearch</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword control-flow keyword-if">if</span> <span class="token punctuation">(</span>isLoading<span class="token punctuation">)</span> <span class="token keyword control-flow keyword-return">return</span><span class="token punctuation">;</span>
    <span class="token function">handleChange</span><span class="token punctuation">(</span><span class="token punctuation">{</span> name<span class="token operator">:</span> e<span class="token punctuation">.</span><span class="token property-access">target</span><span class="token punctuation">.</span><span class="token property-access">name</span><span class="token punctuation">,</span> value<span class="token operator">:</span> e<span class="token punctuation">.</span><span class="token property-access">target</span><span class="token punctuation">.</span><span class="token property-access">value</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>

  <span class="token keyword control-flow keyword-return">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span><span class="token maybe-class-name">Wrapper</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>form className<span class="token operator">=</span><span class="token string">&apos;form&apos;</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>h4<span class="token operator">&gt;</span>search form<span class="token operator">&lt;</span><span class="token operator">/</span>h4<span class="token operator">&gt;</span>
        <span class="token punctuation">{</span><span class="token comment">/* search position */</span><span class="token punctuation">}</span>
        <span class="token operator">&lt;</span>div className<span class="token operator">=</span><span class="token string">&apos;form-center&apos;</span><span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span><span class="token maybe-class-name">FormRow</span>
            type<span class="token operator">=</span><span class="token string">&apos;text&apos;</span>
            name<span class="token operator">=</span><span class="token string">&apos;search&apos;</span>
            value<span class="token operator">=</span><span class="token punctuation">{</span>search<span class="token punctuation">}</span>
            handleChange<span class="token operator">=</span><span class="token punctuation">{</span>handleSearch<span class="token punctuation">}</span>
          <span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span><span class="token maybe-class-name">FormRow</span><span class="token operator">&gt;</span>
          <span class="token punctuation">{</span><span class="token comment">/* rest of the inputs */</span><span class="token punctuation">}</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>form<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span><span class="token maybe-class-name">Wrapper</span><span class="token operator">&gt;</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword module keyword-export">export</span> <span class="token keyword module keyword-default">default</span> <span class="token maybe-class-name">SearchContainer</span><span class="token punctuation">;</span>
</pre><h4 class="mume-header" id="search-container---complete">Search Container - Complete</h4>

<pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token maybe-class-name">SearchContainer</span><span class="token punctuation">.</span><span class="token property-access">js</span><span class="token punctuation">;</span>

<span class="token keyword module keyword-import">import</span> <span class="token imports"><span class="token punctuation">{</span> <span class="token maybe-class-name">FormRow</span><span class="token punctuation">,</span> <span class="token maybe-class-name">FormRowSelect</span> <span class="token punctuation">}</span></span> <span class="token keyword module keyword-from">from</span> <span class="token string">&apos;.&apos;</span><span class="token punctuation">;</span>
<span class="token keyword module keyword-import">import</span> <span class="token imports"><span class="token punctuation">{</span> useAppContext <span class="token punctuation">}</span></span> <span class="token keyword module keyword-from">from</span> <span class="token string">&apos;../context/appContext&apos;</span><span class="token punctuation">;</span>
<span class="token keyword module keyword-import">import</span> <span class="token imports"><span class="token maybe-class-name">Wrapper</span></span> <span class="token keyword module keyword-from">from</span> <span class="token string">&apos;../assets/wrappers/SearchContainer&apos;</span><span class="token punctuation">;</span>

<span class="token keyword keyword-const">const</span> <span class="token function-variable function"><span class="token maybe-class-name">SearchContainer</span></span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword keyword-const">const</span> <span class="token punctuation">{</span>
    isLoading<span class="token punctuation">,</span>
    search<span class="token punctuation">,</span>
    handleChange<span class="token punctuation">,</span>
    searchStatus<span class="token punctuation">,</span>
    statusOptions<span class="token punctuation">,</span>
    jobTypeOptions<span class="token punctuation">,</span>
    searchType<span class="token punctuation">,</span>
    clearFilters<span class="token punctuation">,</span>
    sort<span class="token punctuation">,</span>
    sortOptions<span class="token punctuation">,</span>
  <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">useAppContext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword keyword-const">const</span> <span class="token function-variable function">handleSearch</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword control-flow keyword-if">if</span> <span class="token punctuation">(</span>isLoading<span class="token punctuation">)</span> <span class="token keyword control-flow keyword-return">return</span><span class="token punctuation">;</span>
    <span class="token function">handleChange</span><span class="token punctuation">(</span><span class="token punctuation">{</span> name<span class="token operator">:</span> e<span class="token punctuation">.</span><span class="token property-access">target</span><span class="token punctuation">.</span><span class="token property-access">name</span><span class="token punctuation">,</span> value<span class="token operator">:</span> e<span class="token punctuation">.</span><span class="token property-access">target</span><span class="token punctuation">.</span><span class="token property-access">value</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token keyword keyword-const">const</span> <span class="token function-variable function">handleSubmit</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
    e<span class="token punctuation">.</span><span class="token method function property-access">preventDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">clearFilters</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token keyword control-flow keyword-return">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span><span class="token maybe-class-name">Wrapper</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>form className<span class="token operator">=</span><span class="token string">&apos;form&apos;</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>h4<span class="token operator">&gt;</span>search form<span class="token operator">&lt;</span><span class="token operator">/</span>h4<span class="token operator">&gt;</span>
        <span class="token punctuation">{</span><span class="token comment">/* search position */</span><span class="token punctuation">}</span>
        <span class="token operator">&lt;</span>div className<span class="token operator">=</span><span class="token string">&apos;form-center&apos;</span><span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span><span class="token maybe-class-name">FormRow</span>
            type<span class="token operator">=</span><span class="token string">&apos;text&apos;</span>
            name<span class="token operator">=</span><span class="token string">&apos;search&apos;</span>
            value<span class="token operator">=</span><span class="token punctuation">{</span>search<span class="token punctuation">}</span>
            handleChange<span class="token operator">=</span><span class="token punctuation">{</span>handleSearch<span class="token punctuation">}</span>
          <span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span><span class="token maybe-class-name">FormRow</span><span class="token operator">&gt;</span>
          <span class="token punctuation">{</span><span class="token comment">/* search by status */</span><span class="token punctuation">}</span>
          <span class="token operator">&lt;</span><span class="token maybe-class-name">FormRowSelect</span>
            labelText<span class="token operator">=</span><span class="token string">&apos;job status&apos;</span>
            name<span class="token operator">=</span><span class="token string">&apos;searchStatus&apos;</span>
            value<span class="token operator">=</span><span class="token punctuation">{</span>searchStatus<span class="token punctuation">}</span>
            handleChange<span class="token operator">=</span><span class="token punctuation">{</span>handleSearch<span class="token punctuation">}</span>
            list<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">[</span><span class="token string">&apos;all&apos;</span><span class="token punctuation">,</span> <span class="token spread operator">...</span>statusOptions<span class="token punctuation">]</span><span class="token punctuation">}</span>
          <span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span><span class="token maybe-class-name">FormRowSelect</span><span class="token operator">&gt;</span>
          <span class="token punctuation">{</span><span class="token comment">/* search by type */</span><span class="token punctuation">}</span>

          <span class="token operator">&lt;</span><span class="token maybe-class-name">FormRowSelect</span>
            labelText<span class="token operator">=</span><span class="token string">&apos;job type&apos;</span>
            name<span class="token operator">=</span><span class="token string">&apos;searchType&apos;</span>
            value<span class="token operator">=</span><span class="token punctuation">{</span>searchType<span class="token punctuation">}</span>
            handleChange<span class="token operator">=</span><span class="token punctuation">{</span>handleSearch<span class="token punctuation">}</span>
            list<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">[</span><span class="token string">&apos;all&apos;</span><span class="token punctuation">,</span> <span class="token spread operator">...</span>jobTypeOptions<span class="token punctuation">]</span><span class="token punctuation">}</span>
          <span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span><span class="token maybe-class-name">FormRowSelect</span><span class="token operator">&gt;</span>
          <span class="token punctuation">{</span><span class="token comment">/* sort */</span><span class="token punctuation">}</span>

          <span class="token operator">&lt;</span><span class="token maybe-class-name">FormRowSelect</span>
            name<span class="token operator">=</span><span class="token string">&apos;sort&apos;</span>
            value<span class="token operator">=</span><span class="token punctuation">{</span>sort<span class="token punctuation">}</span>
            handleChange<span class="token operator">=</span><span class="token punctuation">{</span>handleSearch<span class="token punctuation">}</span>
            list<span class="token operator">=</span><span class="token punctuation">{</span>sortOptions<span class="token punctuation">}</span>
          <span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span><span class="token maybe-class-name">FormRowSelect</span><span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span>button
            className<span class="token operator">=</span><span class="token string">&apos;btn btn-block btn-danger&apos;</span>
            disabled<span class="token operator">=</span><span class="token punctuation">{</span>isLoading<span class="token punctuation">}</span>
            onClick<span class="token operator">=</span><span class="token punctuation">{</span>handleSubmit<span class="token punctuation">}</span>
          <span class="token operator">&gt;</span>
            clear filters
          <span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>form<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span><span class="token maybe-class-name">Wrapper</span><span class="token operator">&gt;</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword module keyword-export">export</span> <span class="token keyword module keyword-default">default</span> <span class="token maybe-class-name">SearchContainer</span><span class="token punctuation">;</span>
</pre><h4 class="mume-header" id="clear-filters">Clear Filters</h4>

<pre data-role="codeBlock" data-info="js" class="language-javascript">actions<span class="token punctuation">.</span><span class="token property-access">js</span><span class="token punctuation">;</span>

<span class="token keyword module keyword-export">export</span> <span class="token keyword keyword-const">const</span> <span class="token constant">CLEAR_FILTERS</span> <span class="token operator">=</span> <span class="token string">&apos;CLEAR_FILTERS&apos;</span><span class="token punctuation">;</span>
</pre><pre data-role="codeBlock" data-info="js" class="language-javascript">appContext<span class="token punctuation">.</span><span class="token property-access">js</span><span class="token punctuation">;</span>

<span class="token keyword keyword-const">const</span> <span class="token function-variable function">clearFilters</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token punctuation">{</span> type<span class="token operator">:</span> <span class="token constant">CLEAR_FILTERS</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</pre><pre data-role="codeBlock" data-info="js" class="language-javascript">reducer<span class="token punctuation">.</span><span class="token property-access">js</span><span class="token punctuation">;</span>

<span class="token keyword control-flow keyword-if">if</span> <span class="token punctuation">(</span>action<span class="token punctuation">.</span><span class="token property-access">type</span> <span class="token operator">===</span> <span class="token constant">CLEAR_FILTERS</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword control-flow keyword-return">return</span> <span class="token punctuation">{</span>
    <span class="token spread operator">...</span>state<span class="token punctuation">,</span>
    search<span class="token operator">:</span> <span class="token string">&apos;&apos;</span><span class="token punctuation">,</span>
    searchStatus<span class="token operator">:</span> <span class="token string">&apos;all&apos;</span><span class="token punctuation">,</span>
    searchType<span class="token operator">:</span> <span class="token string">&apos;all&apos;</span><span class="token punctuation">,</span>
    sort<span class="token operator">:</span> <span class="token string">&apos;latest&apos;</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</pre><h4 class="mume-header" id="refactor-get-all-jobs">Refactor Get All Jobs</h4>

<pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token keyword keyword-const">const</span> <span class="token function-variable function">getJobs</span> <span class="token operator">=</span> <span class="token keyword keyword-async">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">// will add page later</span>
  <span class="token keyword keyword-const">const</span> <span class="token punctuation">{</span> search<span class="token punctuation">,</span> searchStatus<span class="token punctuation">,</span> searchType<span class="token punctuation">,</span> sort <span class="token punctuation">}</span> <span class="token operator">=</span> state<span class="token punctuation">;</span>
  <span class="token keyword keyword-let">let</span> url <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">/jobs?status=</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>searchStatus<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&amp;jobType=</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>searchType<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&amp;sort=</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>sort<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
  <span class="token keyword control-flow keyword-if">if</span> <span class="token punctuation">(</span>search<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    url <span class="token operator">=</span> url <span class="token operator">+</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">&amp;search=</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>search<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token punctuation">{</span> type<span class="token operator">:</span> <span class="token constant">GET_JOBS_BEGIN</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword control-flow keyword-try">try</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-const">const</span> <span class="token punctuation">{</span> data <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword control-flow keyword-await">await</span> <span class="token function">authFetch</span><span class="token punctuation">(</span>url<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-const">const</span> <span class="token punctuation">{</span> jobs<span class="token punctuation">,</span> totalJobs<span class="token punctuation">,</span> numOfPages <span class="token punctuation">}</span> <span class="token operator">=</span> data<span class="token punctuation">;</span>
    <span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      type<span class="token operator">:</span> <span class="token constant">GET_JOBS_SUCCESS</span><span class="token punctuation">,</span>
      payload<span class="token operator">:</span> <span class="token punctuation">{</span>
        jobs<span class="token punctuation">,</span>
        totalJobs<span class="token punctuation">,</span>
        numOfPages<span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span> <span class="token keyword control-flow keyword-catch">catch</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// logoutUser()</span>
  <span class="token punctuation">}</span>
  <span class="token function">clearAlert</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</pre><pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token maybe-class-name">JobsContainer</span><span class="token punctuation">.</span><span class="token property-access">js</span>

<span class="token keyword keyword-const">const</span> <span class="token function-variable function"><span class="token maybe-class-name">JobsContainer</span></span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword keyword-const">const</span> <span class="token punctuation">{</span>
    getJobs<span class="token punctuation">,</span>
    jobs<span class="token punctuation">,</span>
    isLoading<span class="token punctuation">,</span>
    page<span class="token punctuation">,</span>
    totalJobs<span class="token punctuation">,</span>
    search<span class="token punctuation">,</span>
    searchStatus<span class="token punctuation">,</span>
    searchType<span class="token punctuation">,</span>
    sort<span class="token punctuation">,</span>

  <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">useAppContext</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token function">getJobs</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span> search<span class="token punctuation">,</span> searchStatus<span class="token punctuation">,</span> searchType<span class="token punctuation">,</span> sort<span class="token punctuation">]</span><span class="token punctuation">)</span>

</pre><h4 class="mume-header" id="limit-and-skip">Limit and Skip</h4>

<pre data-role="codeBlock" data-info="js" class="language-javascript">jobsController<span class="token punctuation">.</span><span class="token property-access">js</span><span class="token punctuation">;</span>

<span class="token keyword keyword-const">const</span> <span class="token function-variable function">getAllJobs</span> <span class="token operator">=</span> <span class="token keyword keyword-async">async</span> <span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword keyword-const">const</span> <span class="token punctuation">{</span> search<span class="token punctuation">,</span> status<span class="token punctuation">,</span> jobType<span class="token punctuation">,</span> sort <span class="token punctuation">}</span> <span class="token operator">=</span> req<span class="token punctuation">.</span><span class="token property-access">query</span><span class="token punctuation">;</span>
  <span class="token keyword keyword-const">const</span> queryObject <span class="token operator">=</span> <span class="token punctuation">{</span>
    createdBy<span class="token operator">:</span> req<span class="token punctuation">.</span><span class="token property-access">user</span><span class="token punctuation">.</span><span class="token property-access">userId</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token keyword control-flow keyword-if">if</span> <span class="token punctuation">(</span>search<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    queryObject<span class="token punctuation">.</span><span class="token property-access">position</span> <span class="token operator">=</span> <span class="token punctuation">{</span> $regex<span class="token operator">:</span> search<span class="token punctuation">,</span> $options<span class="token operator">:</span> <span class="token string">&apos;i&apos;</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword control-flow keyword-if">if</span> <span class="token punctuation">(</span>status <span class="token operator">!==</span> <span class="token string">&apos;all&apos;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    queryObject<span class="token punctuation">.</span><span class="token property-access">status</span> <span class="token operator">=</span> status<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword control-flow keyword-if">if</span> <span class="token punctuation">(</span>jobType <span class="token operator">!==</span> <span class="token string">&apos;all&apos;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    queryObject<span class="token punctuation">.</span><span class="token property-access">jobType</span> <span class="token operator">=</span> jobType<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword keyword-let">let</span> result <span class="token operator">=</span> <span class="token maybe-class-name">Job</span><span class="token punctuation">.</span><span class="token method function property-access">find</span><span class="token punctuation">(</span>queryObject<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword control-flow keyword-if">if</span> <span class="token punctuation">(</span>sort <span class="token operator">===</span> <span class="token string">&apos;latest&apos;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    result <span class="token operator">=</span> result<span class="token punctuation">.</span><span class="token method function property-access">sort</span><span class="token punctuation">(</span><span class="token string">&apos;-createdAt&apos;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword control-flow keyword-if">if</span> <span class="token punctuation">(</span>sort <span class="token operator">===</span> <span class="token string">&apos;oldest&apos;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    result <span class="token operator">=</span> result<span class="token punctuation">.</span><span class="token method function property-access">sort</span><span class="token punctuation">(</span><span class="token string">&apos;createdAt&apos;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword control-flow keyword-if">if</span> <span class="token punctuation">(</span>sort <span class="token operator">===</span> <span class="token string">&apos;a-z&apos;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    result <span class="token operator">=</span> result<span class="token punctuation">.</span><span class="token method function property-access">sort</span><span class="token punctuation">(</span><span class="token string">&apos;position&apos;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword control-flow keyword-if">if</span> <span class="token punctuation">(</span>sort <span class="token operator">===</span> <span class="token string">&apos;z-a&apos;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    result <span class="token operator">=</span> result<span class="token punctuation">.</span><span class="token method function property-access">sort</span><span class="token punctuation">(</span><span class="token string">&apos;-position&apos;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword keyword-const">const</span> totalJobs <span class="token operator">=</span> <span class="token keyword control-flow keyword-await">await</span> result<span class="token punctuation">;</span>

  <span class="token comment">// setup pagination</span>
  <span class="token keyword keyword-const">const</span> limit <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>
  <span class="token keyword keyword-const">const</span> skip <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>

  result <span class="token operator">=</span> result<span class="token punctuation">.</span><span class="token method function property-access">skip</span><span class="token punctuation">(</span>skip<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">limit</span><span class="token punctuation">(</span>limit<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// 23</span>
  <span class="token comment">// 4 7 7 7 2</span>
  <span class="token keyword keyword-const">const</span> jobs <span class="token operator">=</span> <span class="token keyword control-flow keyword-await">await</span> result<span class="token punctuation">;</span>
  res
    <span class="token punctuation">.</span><span class="token method function property-access">status</span><span class="token punctuation">(</span><span class="token maybe-class-name">StatusCodes</span><span class="token punctuation">.</span><span class="token constant">OK</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token method function property-access">json</span><span class="token punctuation">(</span><span class="token punctuation">{</span> jobs<span class="token punctuation">,</span> totalJobs<span class="token operator">:</span> jobs<span class="token punctuation">.</span><span class="token property-access">length</span><span class="token punctuation">,</span> numOfPages<span class="token operator">:</span> <span class="token number">1</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</pre><h4 class="mume-header" id="page-and-limit">Page and Limit</h4>

<pre data-role="codeBlock" data-info="js" class="language-javascript">jobsController<span class="token punctuation">.</span><span class="token property-access">js</span><span class="token punctuation">;</span>

<span class="token keyword keyword-const">const</span> <span class="token function-variable function">getAllJobs</span> <span class="token operator">=</span> <span class="token keyword keyword-async">async</span> <span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword keyword-const">const</span> <span class="token punctuation">{</span> search<span class="token punctuation">,</span> status<span class="token punctuation">,</span> jobType<span class="token punctuation">,</span> sort <span class="token punctuation">}</span> <span class="token operator">=</span> req<span class="token punctuation">.</span><span class="token property-access">query</span><span class="token punctuation">;</span>
  <span class="token keyword keyword-const">const</span> queryObject <span class="token operator">=</span> <span class="token punctuation">{</span>
    createdBy<span class="token operator">:</span> req<span class="token punctuation">.</span><span class="token property-access">user</span><span class="token punctuation">.</span><span class="token property-access">userId</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token keyword control-flow keyword-if">if</span> <span class="token punctuation">(</span>search<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    queryObject<span class="token punctuation">.</span><span class="token property-access">position</span> <span class="token operator">=</span> <span class="token punctuation">{</span> $regex<span class="token operator">:</span> search<span class="token punctuation">,</span> $options<span class="token operator">:</span> <span class="token string">&apos;i&apos;</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword control-flow keyword-if">if</span> <span class="token punctuation">(</span>status <span class="token operator">!==</span> <span class="token string">&apos;all&apos;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    queryObject<span class="token punctuation">.</span><span class="token property-access">status</span> <span class="token operator">=</span> status<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword control-flow keyword-if">if</span> <span class="token punctuation">(</span>jobType <span class="token operator">!==</span> <span class="token string">&apos;all&apos;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    queryObject<span class="token punctuation">.</span><span class="token property-access">jobType</span> <span class="token operator">=</span> jobType<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword keyword-let">let</span> result <span class="token operator">=</span> <span class="token maybe-class-name">Job</span><span class="token punctuation">.</span><span class="token method function property-access">find</span><span class="token punctuation">(</span>queryObject<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword control-flow keyword-if">if</span> <span class="token punctuation">(</span>sort <span class="token operator">===</span> <span class="token string">&apos;latest&apos;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    result <span class="token operator">=</span> result<span class="token punctuation">.</span><span class="token method function property-access">sort</span><span class="token punctuation">(</span><span class="token string">&apos;-createdAt&apos;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword control-flow keyword-if">if</span> <span class="token punctuation">(</span>sort <span class="token operator">===</span> <span class="token string">&apos;oldest&apos;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    result <span class="token operator">=</span> result<span class="token punctuation">.</span><span class="token method function property-access">sort</span><span class="token punctuation">(</span><span class="token string">&apos;createdAt&apos;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword control-flow keyword-if">if</span> <span class="token punctuation">(</span>sort <span class="token operator">===</span> <span class="token string">&apos;a-z&apos;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    result <span class="token operator">=</span> result<span class="token punctuation">.</span><span class="token method function property-access">sort</span><span class="token punctuation">(</span><span class="token string">&apos;position&apos;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword control-flow keyword-if">if</span> <span class="token punctuation">(</span>sort <span class="token operator">===</span> <span class="token string">&apos;z-a&apos;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    result <span class="token operator">=</span> result<span class="token punctuation">.</span><span class="token method function property-access">sort</span><span class="token punctuation">(</span><span class="token string">&apos;-position&apos;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token comment">// setup pagination</span>
  <span class="token keyword keyword-const">const</span> page <span class="token operator">=</span> <span class="token known-class-name class-name">Number</span><span class="token punctuation">(</span>req<span class="token punctuation">.</span><span class="token property-access">query</span><span class="token punctuation">.</span><span class="token property-access">page</span><span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token number">1</span><span class="token punctuation">;</span>
  <span class="token keyword keyword-const">const</span> limit <span class="token operator">=</span> <span class="token known-class-name class-name">Number</span><span class="token punctuation">(</span>req<span class="token punctuation">.</span><span class="token property-access">query</span><span class="token punctuation">.</span><span class="token property-access">limit</span><span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token number">10</span><span class="token punctuation">;</span>
  <span class="token keyword keyword-const">const</span> skip <span class="token operator">=</span> <span class="token punctuation">(</span>page <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">*</span> limit<span class="token punctuation">;</span> <span class="token comment">//10</span>
  result <span class="token operator">=</span> result<span class="token punctuation">.</span><span class="token method function property-access">skip</span><span class="token punctuation">(</span>skip<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">limit</span><span class="token punctuation">(</span>limit<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// 75</span>
  <span class="token comment">// 10 10 10 10 10 10 10 5</span>
  <span class="token keyword keyword-const">const</span> jobs <span class="token operator">=</span> <span class="token keyword control-flow keyword-await">await</span> result<span class="token punctuation">;</span>
  res
    <span class="token punctuation">.</span><span class="token method function property-access">status</span><span class="token punctuation">(</span><span class="token maybe-class-name">StatusCodes</span><span class="token punctuation">.</span><span class="token constant">OK</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token method function property-access">json</span><span class="token punctuation">(</span><span class="token punctuation">{</span> jobs<span class="token punctuation">,</span> totalJobs<span class="token operator">:</span> jobs<span class="token punctuation">.</span><span class="token property-access">length</span><span class="token punctuation">,</span> numOfPages<span class="token operator">:</span> <span class="token number">1</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</pre><h4 class="mume-header" id="total-jobs-and-number-of-pages">Total Jobs and Number Of Pages</h4>

<pre data-role="codeBlock" data-info="js" class="language-javascript">jobsController<span class="token punctuation">.</span><span class="token property-access">js</span><span class="token punctuation">;</span>

<span class="token keyword keyword-const">const</span> <span class="token function-variable function">getAllJobs</span> <span class="token operator">=</span> <span class="token keyword keyword-async">async</span> <span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword keyword-const">const</span> <span class="token punctuation">{</span> search<span class="token punctuation">,</span> status<span class="token punctuation">,</span> jobType<span class="token punctuation">,</span> sort <span class="token punctuation">}</span> <span class="token operator">=</span> req<span class="token punctuation">.</span><span class="token property-access">query</span><span class="token punctuation">;</span>
  <span class="token keyword keyword-const">const</span> queryObject <span class="token operator">=</span> <span class="token punctuation">{</span>
    createdBy<span class="token operator">:</span> req<span class="token punctuation">.</span><span class="token property-access">user</span><span class="token punctuation">.</span><span class="token property-access">userId</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token keyword control-flow keyword-if">if</span> <span class="token punctuation">(</span>search<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    queryObject<span class="token punctuation">.</span><span class="token property-access">position</span> <span class="token operator">=</span> <span class="token punctuation">{</span> $regex<span class="token operator">:</span> search<span class="token punctuation">,</span> $options<span class="token operator">:</span> <span class="token string">&apos;i&apos;</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword control-flow keyword-if">if</span> <span class="token punctuation">(</span>status <span class="token operator">!==</span> <span class="token string">&apos;all&apos;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    queryObject<span class="token punctuation">.</span><span class="token property-access">status</span> <span class="token operator">=</span> status<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword control-flow keyword-if">if</span> <span class="token punctuation">(</span>jobType <span class="token operator">!==</span> <span class="token string">&apos;all&apos;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    queryObject<span class="token punctuation">.</span><span class="token property-access">jobType</span> <span class="token operator">=</span> jobType<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword keyword-let">let</span> result <span class="token operator">=</span> <span class="token maybe-class-name">Job</span><span class="token punctuation">.</span><span class="token method function property-access">find</span><span class="token punctuation">(</span>queryObject<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword control-flow keyword-if">if</span> <span class="token punctuation">(</span>sort <span class="token operator">===</span> <span class="token string">&apos;latest&apos;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    result <span class="token operator">=</span> result<span class="token punctuation">.</span><span class="token method function property-access">sort</span><span class="token punctuation">(</span><span class="token string">&apos;-createdAt&apos;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword control-flow keyword-if">if</span> <span class="token punctuation">(</span>sort <span class="token operator">===</span> <span class="token string">&apos;oldest&apos;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    result <span class="token operator">=</span> result<span class="token punctuation">.</span><span class="token method function property-access">sort</span><span class="token punctuation">(</span><span class="token string">&apos;createdAt&apos;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword control-flow keyword-if">if</span> <span class="token punctuation">(</span>sort <span class="token operator">===</span> <span class="token string">&apos;a-z&apos;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    result <span class="token operator">=</span> result<span class="token punctuation">.</span><span class="token method function property-access">sort</span><span class="token punctuation">(</span><span class="token string">&apos;position&apos;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword control-flow keyword-if">if</span> <span class="token punctuation">(</span>sort <span class="token operator">===</span> <span class="token string">&apos;z-a&apos;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    result <span class="token operator">=</span> result<span class="token punctuation">.</span><span class="token method function property-access">sort</span><span class="token punctuation">(</span><span class="token string">&apos;-position&apos;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token comment">// setup pagination</span>
  <span class="token keyword keyword-const">const</span> page <span class="token operator">=</span> <span class="token known-class-name class-name">Number</span><span class="token punctuation">(</span>req<span class="token punctuation">.</span><span class="token property-access">query</span><span class="token punctuation">.</span><span class="token property-access">page</span><span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token number">1</span><span class="token punctuation">;</span>
  <span class="token keyword keyword-const">const</span> limit <span class="token operator">=</span> <span class="token known-class-name class-name">Number</span><span class="token punctuation">(</span>req<span class="token punctuation">.</span><span class="token property-access">query</span><span class="token punctuation">.</span><span class="token property-access">limit</span><span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token number">10</span><span class="token punctuation">;</span>
  <span class="token keyword keyword-const">const</span> skip <span class="token operator">=</span> <span class="token punctuation">(</span>page <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">*</span> limit<span class="token punctuation">;</span>

  result <span class="token operator">=</span> result<span class="token punctuation">.</span><span class="token method function property-access">skip</span><span class="token punctuation">(</span>skip<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">limit</span><span class="token punctuation">(</span>limit<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword keyword-const">const</span> jobs <span class="token operator">=</span> <span class="token keyword control-flow keyword-await">await</span> result<span class="token punctuation">;</span>

  <span class="token keyword keyword-const">const</span> totalJobs <span class="token operator">=</span> <span class="token keyword control-flow keyword-await">await</span> <span class="token maybe-class-name">Job</span><span class="token punctuation">.</span><span class="token method function property-access">countDocuments</span><span class="token punctuation">(</span>queryObject<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword keyword-const">const</span> numOfPages <span class="token operator">=</span> <span class="token known-class-name class-name">Math</span><span class="token punctuation">.</span><span class="token method function property-access">ceil</span><span class="token punctuation">(</span>totalJobs <span class="token operator">/</span> limit<span class="token punctuation">)</span><span class="token punctuation">;</span>

  res<span class="token punctuation">.</span><span class="token method function property-access">status</span><span class="token punctuation">(</span><span class="token maybe-class-name">StatusCodes</span><span class="token punctuation">.</span><span class="token constant">OK</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">json</span><span class="token punctuation">(</span><span class="token punctuation">{</span> jobs<span class="token punctuation">,</span> totalJobs<span class="token punctuation">,</span> numOfPages <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</pre><h4 class="mume-header" id="pagebtncontainer-setup">PageBtnContainer Setup</h4>

<ul>
<li>PageBtnContainer.js</li>
</ul>
<pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token maybe-class-name">JobsContainer</span><span class="token punctuation">.</span><span class="token property-access">js</span><span class="token punctuation">;</span>

<span class="token keyword module keyword-import">import</span> <span class="token imports"><span class="token maybe-class-name">PageBtnContainer</span></span> <span class="token keyword module keyword-from">from</span> <span class="token string">&apos;./PageBtnContainer&apos;</span><span class="token punctuation">;</span>

<span class="token keyword keyword-const">const</span> <span class="token punctuation">{</span> numOfPages <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">useAppContext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword control-flow keyword-return">return</span> <span class="token punctuation">(</span>
  <span class="token operator">&lt;</span><span class="token maybe-class-name">Wrapper</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>h5<span class="token operator">&gt;</span>
      <span class="token punctuation">{</span>totalJobs<span class="token punctuation">}</span> job<span class="token punctuation">{</span>jobs<span class="token punctuation">.</span><span class="token property-access">length</span> <span class="token operator">&gt;</span> <span class="token number">1</span> <span class="token operator">&amp;&amp;</span> <span class="token string">&apos;s&apos;</span><span class="token punctuation">}</span> found
    <span class="token operator">&lt;</span><span class="token operator">/</span>h5<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>div className<span class="token operator">=</span><span class="token string">&apos;jobs&apos;</span><span class="token operator">&gt;</span>
      <span class="token punctuation">{</span>jobs<span class="token punctuation">.</span><span class="token method function property-access">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">job</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword control-flow keyword-return">return</span> <span class="token operator">&lt;</span><span class="token maybe-class-name">Job</span> key<span class="token operator">=</span><span class="token punctuation">{</span>job<span class="token punctuation">.</span><span class="token property-access">_id</span><span class="token punctuation">}</span> <span class="token punctuation">{</span><span class="token spread operator">...</span>job<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">&gt;</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    <span class="token punctuation">{</span>numOfPages <span class="token operator">&gt;</span> <span class="token number">1</span> <span class="token operator">&amp;&amp;</span> <span class="token operator">&lt;</span><span class="token maybe-class-name">PageBtnContainer</span> <span class="token operator">/</span><span class="token operator">&gt;</span><span class="token punctuation">}</span>
  <span class="token operator">&lt;</span><span class="token operator">/</span><span class="token maybe-class-name">Wrapper</span><span class="token operator">&gt;</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</pre><h4 class="mume-header" id="pagebtncontainer---structure">PageBtnContainer - Structure</h4>

<pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token maybe-class-name">PageBtnContainer</span><span class="token punctuation">.</span><span class="token property-access">js</span><span class="token punctuation">;</span>

<span class="token keyword module keyword-import">import</span> <span class="token imports"><span class="token punctuation">{</span> useAppContext <span class="token punctuation">}</span></span> <span class="token keyword module keyword-from">from</span> <span class="token string">&apos;../context/appContext&apos;</span><span class="token punctuation">;</span>
<span class="token keyword module keyword-import">import</span> <span class="token imports"><span class="token punctuation">{</span> <span class="token maybe-class-name">HiChevronDoubleLeft</span><span class="token punctuation">,</span> <span class="token maybe-class-name">HiChevronDoubleRight</span> <span class="token punctuation">}</span></span> <span class="token keyword module keyword-from">from</span> <span class="token string">&apos;react-icons/hi&apos;</span><span class="token punctuation">;</span>
<span class="token keyword module keyword-import">import</span> <span class="token imports"><span class="token maybe-class-name">Wrapper</span></span> <span class="token keyword module keyword-from">from</span> <span class="token string">&apos;../assets/wrappers/PageBtnContainer&apos;</span><span class="token punctuation">;</span>

<span class="token keyword keyword-const">const</span> <span class="token function-variable function"><span class="token maybe-class-name">PageButtonContainer</span></span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword keyword-const">const</span> <span class="token punctuation">{</span> numOfPages<span class="token punctuation">,</span> page <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">useAppContext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword keyword-const">const</span> <span class="token function-variable function">prevPage</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token string">&apos;prev page&apos;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token keyword keyword-const">const</span> <span class="token function-variable function">nextPage</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token string">&apos;next page&apos;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>

  <span class="token keyword control-flow keyword-return">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span><span class="token maybe-class-name">Wrapper</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>button className<span class="token operator">=</span><span class="token string">&apos;prev-btn&apos;</span> onClick<span class="token operator">=</span><span class="token punctuation">{</span>prevPage<span class="token punctuation">}</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token maybe-class-name">HiChevronDoubleLeft</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
        prev
      <span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>

      <span class="token operator">&lt;</span>div className<span class="token operator">=</span><span class="token string">&apos;btn-container&apos;</span><span class="token operator">&gt;</span>buttons<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>

      <span class="token operator">&lt;</span>button className<span class="token operator">=</span><span class="token string">&apos;next-btn&apos;</span> onClick<span class="token operator">=</span><span class="token punctuation">{</span>nextPage<span class="token punctuation">}</span><span class="token operator">&gt;</span>
        next
        <span class="token operator">&lt;</span><span class="token maybe-class-name">HiChevronDoubleRight</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span><span class="token maybe-class-name">Wrapper</span><span class="token operator">&gt;</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword module keyword-export">export</span> <span class="token keyword module keyword-default">default</span> <span class="token maybe-class-name">PageButtonContainer</span><span class="token punctuation">;</span>
</pre><h4 class="mume-header" id="button-container">Button Container</h4>

<ul>
<li>[Array.from] (<a href="https://youtu.be/zg1Bv4xubwo">https://youtu.be/zg1Bv4xubwo</a>)</li>
</ul>
<pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token maybe-class-name">PageBtnContainer</span><span class="token punctuation">.</span><span class="token property-access">js</span><span class="token punctuation">;</span>

<span class="token keyword keyword-const">const</span> pages <span class="token operator">=</span> <span class="token known-class-name class-name">Array</span><span class="token punctuation">.</span><span class="token keyword module keyword-from">from</span><span class="token punctuation">(</span><span class="token punctuation">{</span> length<span class="token operator">:</span> numOfPages <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">_<span class="token punctuation">,</span> index</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword control-flow keyword-return">return</span> index <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword control-flow keyword-return">return</span> <span class="token punctuation">(</span>
  <span class="token operator">&lt;</span>div className<span class="token operator">=</span><span class="token string">&apos;btn-container&apos;</span><span class="token operator">&gt;</span>
    <span class="token punctuation">{</span>pages<span class="token punctuation">.</span><span class="token method function property-access">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">pageNumber</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword control-flow keyword-return">return</span> <span class="token punctuation">(</span>
        <span class="token operator">&lt;</span>button
          type<span class="token operator">=</span><span class="token string">&apos;button&apos;</span>
          className<span class="token operator">=</span><span class="token punctuation">{</span>pageNumber <span class="token operator">===</span> page <span class="token operator">?</span> <span class="token string">&apos;pageBtn active&apos;</span> <span class="token operator">:</span> <span class="token string">&apos;pageBtn&apos;</span><span class="token punctuation">}</span>
          key<span class="token operator">=</span><span class="token punctuation">{</span>pageNumber<span class="token punctuation">}</span>
          onClick<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span>page<span class="token punctuation">)</span><span class="token punctuation">}</span>
        <span class="token operator">&gt;</span>
          <span class="token punctuation">{</span>pageNumber<span class="token punctuation">}</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
      <span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</pre><h4 class="mume-header" id="change-page">Change Page</h4>

<pre data-role="codeBlock" data-info="js" class="language-javascript">actions<span class="token punctuation">.</span><span class="token property-access">js</span><span class="token punctuation">;</span>
<span class="token keyword module keyword-export">export</span> <span class="token keyword keyword-const">const</span> <span class="token constant">CHANGE_PAGE</span> <span class="token operator">=</span> <span class="token string">&apos;CHANGE_PAGE&apos;</span><span class="token punctuation">;</span>
</pre><pre data-role="codeBlock" data-info="js" class="language-javascript">appContext<span class="token punctuation">.</span><span class="token property-access">js</span>
<span class="token keyword keyword-const">const</span> <span class="token function-variable function">changePage</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">page</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token punctuation">{</span> type<span class="token operator">:</span> <span class="token constant">CHANGE_PAGE</span><span class="token punctuation">,</span> payload<span class="token operator">:</span> <span class="token punctuation">{</span> page <span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
value<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span>changePage<span class="token punctuation">}</span><span class="token punctuation">}</span>
</pre><pre data-role="codeBlock" data-info="js" class="language-javascript">reducer<span class="token punctuation">.</span><span class="token property-access">js</span><span class="token punctuation">;</span>

<span class="token keyword control-flow keyword-if">if</span> <span class="token punctuation">(</span>action<span class="token punctuation">.</span><span class="token property-access">type</span> <span class="token operator">===</span> <span class="token constant">CHANGE_PAGE</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword control-flow keyword-return">return</span> <span class="token punctuation">{</span> <span class="token spread operator">...</span>state<span class="token punctuation">,</span> page<span class="token operator">:</span> action<span class="token punctuation">.</span><span class="token property-access">payload</span><span class="token punctuation">.</span><span class="token property-access">page</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</pre><pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token maybe-class-name">PageBtnContainer</span><span class="token punctuation">.</span><span class="token property-access">js</span><span class="token punctuation">;</span>

<span class="token keyword keyword-const">const</span> <span class="token punctuation">{</span> changePage <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">useAppContext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword control-flow keyword-return">return</span> <span class="token punctuation">(</span>
  <span class="token operator">&lt;</span>button
    type<span class="token operator">=</span><span class="token string">&apos;button&apos;</span>
    className<span class="token operator">=</span><span class="token punctuation">{</span>pageNumber <span class="token operator">===</span> page <span class="token operator">?</span> <span class="token string">&apos;pageBtn active&apos;</span> <span class="token operator">:</span> <span class="token string">&apos;pageBtn&apos;</span><span class="token punctuation">}</span>
    key<span class="token operator">=</span><span class="token punctuation">{</span>pageNumber<span class="token punctuation">}</span>
    onClick<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token function">changePage</span><span class="token punctuation">(</span>pageNumber<span class="token punctuation">)</span><span class="token punctuation">}</span>
  <span class="token operator">&gt;</span>
    <span class="token punctuation">{</span>pageNumber<span class="token punctuation">}</span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</pre><h4 class="mume-header" id="prev-and-next-buttons">Prev and Next Buttons</h4>

<pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token maybe-class-name">PageBtnContainer</span><span class="token punctuation">.</span><span class="token property-access">js</span><span class="token punctuation">;</span>
<span class="token keyword keyword-const">const</span> <span class="token function-variable function">prevPage</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword keyword-let">let</span> newPage <span class="token operator">=</span> page <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span>
  <span class="token keyword control-flow keyword-if">if</span> <span class="token punctuation">(</span>newPage <span class="token operator">&lt;</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// newPage = 1</span>
    <span class="token comment">// alternative</span>
    newPage <span class="token operator">=</span> numOfPages<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token function">changePage</span><span class="token punctuation">(</span>newPage<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword keyword-const">const</span> <span class="token function-variable function">nextPage</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword keyword-let">let</span> newPage <span class="token operator">=</span> page <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>
  <span class="token keyword control-flow keyword-if">if</span> <span class="token punctuation">(</span>newPage <span class="token operator">&gt;</span> numOfPages<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// newPage = numOfPages</span>
    <span class="token comment">// alternative</span>
    newPage <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token function">changePage</span><span class="token punctuation">(</span>newPage<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</pre><h4 class="mume-header" id="trigger-new-page">Trigger New Page</h4>

<pre data-role="codeBlock" data-info="js" class="language-javascript">appContext<span class="token punctuation">.</span><span class="token property-access">js</span><span class="token punctuation">;</span>

<span class="token keyword keyword-const">const</span> <span class="token function-variable function">getJobs</span> <span class="token operator">=</span> <span class="token keyword keyword-async">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword keyword-const">const</span> <span class="token punctuation">{</span> page<span class="token punctuation">,</span> search<span class="token punctuation">,</span> searchStatus<span class="token punctuation">,</span> searchType<span class="token punctuation">,</span> sort <span class="token punctuation">}</span> <span class="token operator">=</span> state<span class="token punctuation">;</span>

  <span class="token keyword keyword-let">let</span> url <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">/jobs?page=</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>page<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&amp;status=</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>searchStatus<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&amp;jobType=</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>searchType<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&amp;sort=</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>sort<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
  <span class="token comment">// rest of the code</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</pre><pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token maybe-class-name">JobsContainer</span><span class="token punctuation">.</span><span class="token property-access">js</span><span class="token punctuation">;</span>

<span class="token keyword keyword-const">const</span> <span class="token punctuation">{</span> page <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">useAppContext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token function">getJobs</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>page<span class="token punctuation">,</span> search<span class="token punctuation">,</span> searchStatus<span class="token punctuation">,</span> searchType<span class="token punctuation">,</span> sort<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</pre><pre data-role="codeBlock" data-info="js" class="language-javascript">reducer<span class="token punctuation">.</span><span class="token property-access">js</span><span class="token punctuation">;</span>

<span class="token keyword control-flow keyword-if">if</span> <span class="token punctuation">(</span>action<span class="token punctuation">.</span><span class="token property-access">type</span> <span class="token operator">===</span> <span class="token constant">HANDLE_CHANGE</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// set back to first page</span>

  <span class="token keyword control-flow keyword-return">return</span> <span class="token punctuation">{</span> <span class="token spread operator">...</span>state<span class="token punctuation">,</span> page<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>action<span class="token punctuation">.</span><span class="token property-access">payload</span><span class="token punctuation">.</span><span class="token property-access">name</span><span class="token punctuation">]</span><span class="token operator">:</span> action<span class="token punctuation">.</span><span class="token property-access">payload</span><span class="token punctuation">.</span><span class="token property-access">value</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</pre><h4 class="mume-header" id="production-setup---fix-warnings-and-logoutuser">Production Setup - Fix Warnings and logoutUser</h4>

<ul>
<li>getJobs,deleteJob,showStats - invoke logoutUser()</li>
<li>fix warnings</li>
</ul>
<pre data-role="codeBlock" data-info="sh" class="language-bash">// eslint-disable-next-line
</pre><h4 class="mume-header" id="production-setup---build-front-end-application">Production Setup - Build Front-End Application</h4>

<ul>
<li>create front-end production application</li>
</ul>
<pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token keyword keyword-package">package</span><span class="token punctuation">.</span><span class="token property-access">json</span>
<span class="token string">&quot;scripts&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token string">&quot;build-client&quot;</span><span class="token operator">:</span> <span class="token string">&quot;cd client &amp;&amp; npm run build&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;server&quot;</span><span class="token operator">:</span> <span class="token string">&quot;nodemon server.js --ignore client&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;client&quot;</span><span class="token operator">:</span> <span class="token string">&quot;cd client &amp;&amp; npm run start&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;start&quot;</span><span class="token operator">:</span> <span class="token string">&quot;concurrently --kill-others-on-fail \&quot;npm run server\&quot; \&quot;npm run client\&quot;&quot;</span>

  <span class="token punctuation">}</span><span class="token punctuation">,</span>

</pre><pre data-role="codeBlock" data-info="js" class="language-javascript">server<span class="token punctuation">.</span><span class="token property-access">js</span><span class="token punctuation">;</span>

<span class="token keyword module keyword-import">import</span> <span class="token imports"><span class="token punctuation">{</span> dirname <span class="token punctuation">}</span></span> <span class="token keyword module keyword-from">from</span> <span class="token string">&apos;path&apos;</span><span class="token punctuation">;</span>
<span class="token keyword module keyword-import">import</span> <span class="token imports"><span class="token punctuation">{</span> fileURLToPath <span class="token punctuation">}</span></span> <span class="token keyword module keyword-from">from</span> <span class="token string">&apos;url&apos;</span><span class="token punctuation">;</span>
<span class="token keyword module keyword-import">import</span> <span class="token imports">path</span> <span class="token keyword module keyword-from">from</span> <span class="token string">&apos;path&apos;</span><span class="token punctuation">;</span>

<span class="token keyword keyword-const">const</span> __dirname <span class="token operator">=</span> <span class="token function">dirname</span><span class="token punctuation">(</span><span class="token function">fileURLToPath</span><span class="token punctuation">(</span><span class="token keyword module keyword-import">import</span><span class="token punctuation">.</span><span class="token property-access">meta</span><span class="token punctuation">.</span><span class="token property-access">url</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// only when ready to deploy</span>
app<span class="token punctuation">.</span><span class="token method function property-access">use</span><span class="token punctuation">(</span>express<span class="token punctuation">.</span><span class="token method function property-access">static</span><span class="token punctuation">(</span>path<span class="token punctuation">.</span><span class="token method function property-access">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">&apos;./client/build&apos;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// routes</span>
app<span class="token punctuation">.</span><span class="token method function property-access">use</span><span class="token punctuation">(</span><span class="token string">&apos;/api/v1/auth&apos;</span><span class="token punctuation">,</span> authRouter<span class="token punctuation">)</span><span class="token punctuation">;</span>
app<span class="token punctuation">.</span><span class="token method function property-access">use</span><span class="token punctuation">(</span><span class="token string">&apos;/api/v1/jobs&apos;</span><span class="token punctuation">,</span> authenticateUser<span class="token punctuation">,</span> jobsRouter<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// only when ready to deploy</span>
app<span class="token punctuation">.</span><span class="token method function property-access">get</span><span class="token punctuation">(</span><span class="token string">&apos;*&apos;</span><span class="token punctuation">,</span> <span class="token keyword keyword-function">function</span> <span class="token punctuation">(</span><span class="token parameter">request<span class="token punctuation">,</span> response</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  response<span class="token punctuation">.</span><span class="token method function property-access">sendFile</span><span class="token punctuation">(</span>path<span class="token punctuation">.</span><span class="token method function property-access">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">&apos;./client/build&apos;</span><span class="token punctuation">,</span> <span class="token string">&apos;index.html&apos;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</pre><h4 class="mume-header" id="security-packages">Security Packages</h4>

<ul>
<li>remove log in the error-handler</li>
<li><a href="https://www.npmjs.com/package/helmet">helmet</a><br>
Helmet helps you secure your Express apps by setting various HTTP headers.</li>
<li><a href="https://www.npmjs.com/package/xss-clean">xss-clean</a><br>
Node.js Connect middleware to sanitize user input coming from POST body, GET queries, and url params.</li>
<li><a href="https://www.npmjs.com/package/express-mongo-sanitize">express-mongo-sanitize</a><br>
Sanitizes user-supplied data to prevent MongoDB Operator Injection.</li>
<li><a href="https://www.npmjs.com/package/express-rate-limit">express-rate-limit</a><br>
Basic rate-limiting middleware for Express.</li>
</ul>
<pre data-role="codeBlock" data-info="sh" class="language-bash"><span class="token function">npm</span> <span class="token function">install</span> helmet xss-clean express-mongo-sanitize express-rate-limit
</pre><pre data-role="codeBlock" data-info="js" class="language-javascript">server<span class="token punctuation">.</span><span class="token property-access">js</span><span class="token punctuation">;</span>

<span class="token keyword module keyword-import">import</span> <span class="token imports">helmet</span> <span class="token keyword module keyword-from">from</span> <span class="token string">&apos;helmet&apos;</span><span class="token punctuation">;</span>
<span class="token keyword module keyword-import">import</span> <span class="token imports">xss</span> <span class="token keyword module keyword-from">from</span> <span class="token string">&apos;xss-clean&apos;</span><span class="token punctuation">;</span>
<span class="token keyword module keyword-import">import</span> <span class="token imports">mongoSanitize</span> <span class="token keyword module keyword-from">from</span> <span class="token string">&apos;express-mongo-sanitize&apos;</span><span class="token punctuation">;</span>

app<span class="token punctuation">.</span><span class="token method function property-access">use</span><span class="token punctuation">(</span>express<span class="token punctuation">.</span><span class="token method function property-access">json</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
app<span class="token punctuation">.</span><span class="token method function property-access">use</span><span class="token punctuation">(</span><span class="token function">helmet</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
app<span class="token punctuation">.</span><span class="token method function property-access">use</span><span class="token punctuation">(</span><span class="token function">xss</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
app<span class="token punctuation">.</span><span class="token method function property-access">use</span><span class="token punctuation">(</span><span class="token function">mongoSanitize</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</pre><h4 class="mume-header" id="limit-requests">Limit Requests</h4>

<pre data-role="codeBlock" data-info="js" class="language-javascript">authRoutes<span class="token punctuation">.</span><span class="token property-access">js</span><span class="token punctuation">;</span>

<span class="token keyword module keyword-import">import</span> <span class="token imports">rateLimiter</span> <span class="token keyword module keyword-from">from</span> <span class="token string">&apos;express-rate-limit&apos;</span><span class="token punctuation">;</span>

<span class="token keyword keyword-const">const</span> apiLimiter <span class="token operator">=</span> <span class="token function">rateLimiter</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  windowMs<span class="token operator">:</span> <span class="token number">15</span> <span class="token operator">*</span> <span class="token number">60</span> <span class="token operator">*</span> <span class="token number">1000</span><span class="token punctuation">,</span> <span class="token comment">// 15 minutes</span>
  max<span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span>
  message<span class="token operator">:</span> <span class="token string">&apos;Too many requests from this IP, please try again after 15 minutes&apos;</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

router<span class="token punctuation">.</span><span class="token method function property-access">route</span><span class="token punctuation">(</span><span class="token string">&apos;/register&apos;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">post</span><span class="token punctuation">(</span>apiLimiter<span class="token punctuation">,</span> register<span class="token punctuation">)</span><span class="token punctuation">;</span>
router<span class="token punctuation">.</span><span class="token method function property-access">route</span><span class="token punctuation">(</span><span class="token string">&apos;/login&apos;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">post</span><span class="token punctuation">(</span>apiLimiter<span class="token punctuation">,</span> login<span class="token punctuation">)</span><span class="token punctuation">;</span>
</pre><h4 class="mume-header" id="alternative-search-with-debounce">Alternative Search with Debounce</h4>

<p>client/components/SearchContainer.js</p>
<pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token keyword module keyword-import">import</span> <span class="token imports"><span class="token punctuation">{</span> useState<span class="token punctuation">,</span> useMemo <span class="token punctuation">}</span></span> <span class="token keyword module keyword-from">from</span> <span class="token string">&apos;react&apos;</span><span class="token punctuation">;</span>
<span class="token keyword keyword-const">const</span> <span class="token function-variable function"><span class="token maybe-class-name">SearchContainer</span></span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword keyword-const">const</span> <span class="token punctuation">[</span>localSearch<span class="token punctuation">,</span> setLocalSearch<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token string">&apos;&apos;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword keyword-const">const</span> <span class="token punctuation">{</span>
    <span class="token spread operator">...</span><span class="token punctuation">.</span>
  <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">useAppContext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword keyword-const">const</span> <span class="token function-variable function">handleSearch</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token function">handleChange</span><span class="token punctuation">(</span><span class="token punctuation">{</span> name<span class="token operator">:</span> e<span class="token punctuation">.</span><span class="token property-access">target</span><span class="token punctuation">.</span><span class="token property-access">name</span><span class="token punctuation">,</span> value<span class="token operator">:</span> e<span class="token punctuation">.</span><span class="token property-access">target</span><span class="token punctuation">.</span><span class="token property-access">value</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token keyword keyword-const">const</span> <span class="token function-variable function">handleSubmit</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
    e<span class="token punctuation">.</span><span class="token method function property-access">preventDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">clearFilters</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token keyword keyword-const">const</span> <span class="token function-variable function">debounce</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-let">let</span> timeoutID<span class="token punctuation">;</span>
    <span class="token keyword control-flow keyword-return">return</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token function">setLocalSearch</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span><span class="token property-access">target</span><span class="token punctuation">.</span><span class="token property-access">value</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token function">clearTimeout</span><span class="token punctuation">(</span>timeoutID<span class="token punctuation">)</span><span class="token punctuation">;</span>
      timeoutID <span class="token operator">=</span> <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token function">handleChange</span><span class="token punctuation">(</span><span class="token punctuation">{</span> name<span class="token operator">:</span> e<span class="token punctuation">.</span><span class="token property-access">target</span><span class="token punctuation">.</span><span class="token property-access">name</span><span class="token punctuation">,</span> value<span class="token operator">:</span> e<span class="token punctuation">.</span><span class="token property-access">target</span><span class="token punctuation">.</span><span class="token property-access">value</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>

  <span class="token keyword keyword-const">const</span> <span class="token function-variable function">handleSubmit</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
    e<span class="token punctuation">.</span><span class="token method function property-access">preventDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">setLocalSearch</span><span class="token punctuation">(</span><span class="token string">&apos;&apos;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">clearFilters</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>

  <span class="token keyword keyword-const">const</span> optimizedDebounce <span class="token operator">=</span> <span class="token function">useMemo</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token function">debounce</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword control-flow keyword-return">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span><span class="token maybe-class-name">Wrapper</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>form className<span class="token operator">=</span><span class="token string">&apos;form&apos;</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>h4<span class="token operator">&gt;</span>search form<span class="token operator">&lt;</span><span class="token operator">/</span>h4<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>div className<span class="token operator">=</span><span class="token string">&apos;form-center&apos;</span><span class="token operator">&gt;</span>
          <span class="token punctuation">{</span><span class="token comment">/* search position */</span><span class="token punctuation">}</span>

          <span class="token operator">&lt;</span><span class="token maybe-class-name">FormRow</span>
            type<span class="token operator">=</span><span class="token string">&apos;text&apos;</span>
            name<span class="token operator">=</span><span class="token string">&apos;search&apos;</span>
            value<span class="token operator">=</span><span class="token punctuation">{</span>localSearch<span class="token punctuation">}</span>
            handleChange<span class="token operator">=</span><span class="token punctuation">{</span>optimizedDebounce<span class="token punctuation">}</span>
          <span class="token operator">/</span><span class="token operator">&gt;</span>
         <span class="token spread operator">...</span><span class="token spread operator">...</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>form<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span><span class="token maybe-class-name">Wrapper</span><span class="token operator">&gt;</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword module keyword-export">export</span> <span class="token keyword module keyword-default">default</span> <span class="token maybe-class-name">SearchContainer</span><span class="token punctuation">;</span>
</pre><h4 class="mume-header" id="test-user---initial-setup">Test User - Initial Setup</h4>

<ul>
<li>create new user (test user)</li>
<li>populate DB with jobs</li>
<li>create a login button</li>
</ul>
<p>client/pages/Register.js</p>
<pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token keyword keyword-const">const</span> <span class="token function-variable function"><span class="token maybe-class-name">Register</span></span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword control-flow keyword-return">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span><span class="token maybe-class-name">Wrapper</span> className<span class="token operator">=</span><span class="token string">&apos;full-page&apos;</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>form className<span class="token operator">=</span><span class="token string">&apos;form&apos;</span> onSubmit<span class="token operator">=</span><span class="token punctuation">{</span>onSubmit<span class="token punctuation">}</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>button type<span class="token operator">=</span><span class="token string">&apos;submit&apos;</span> className<span class="token operator">=</span><span class="token string">&apos;btn btn-block&apos;</span> disabled<span class="token operator">=</span><span class="token punctuation">{</span>isLoading<span class="token punctuation">}</span><span class="token operator">&gt;</span>
          submit
        <span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>button
          type<span class="token operator">=</span><span class="token string">&apos;button&apos;</span>
          className<span class="token operator">=</span><span class="token string">&apos;btn btn-block btn-hipster&apos;</span>
          disabled<span class="token operator">=</span><span class="token punctuation">{</span>isLoading<span class="token punctuation">}</span>
          onClick<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
            <span class="token function">setupUser</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
              currentUser<span class="token operator">:</span> <span class="token punctuation">{</span> email<span class="token operator">:</span> <span class="token string">&apos;testUser@test.com&apos;</span><span class="token punctuation">,</span> password<span class="token operator">:</span> <span class="token string">&apos;secret&apos;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
              endPoint<span class="token operator">:</span> <span class="token string">&apos;login&apos;</span><span class="token punctuation">,</span>
              alertText<span class="token operator">:</span> <span class="token string">&apos;Login Successful! Redirecting...&apos;</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span><span class="token punctuation">}</span>
        <span class="token operator">&gt;</span>
          <span class="token punctuation">{</span>isLoading <span class="token operator">?</span> <span class="token string">&apos;loading...&apos;</span> <span class="token operator">:</span> <span class="token string">&apos;demo app&apos;</span><span class="token punctuation">}</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>form<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span><span class="token maybe-class-name">Wrapper</span><span class="token operator">&gt;</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword module keyword-export">export</span> <span class="token keyword module keyword-default">default</span> <span class="token maybe-class-name">Register</span><span class="token punctuation">;</span>
</pre><h4 class="mume-header" id="test-user---restrict-access-server">Test User - Restrict Access (server)</h4>

<ul>
<li>check for test user in auth middleware</li>
<li>create new property on user object (true/false)</li>
<li>create new middleware (testUser)</li>
<li>check for test user, if true send back BadRequest Error</li>
<li>add testUser middleware in front of routes you want to restrict access to</li>
</ul>
<p>middleware/auth.js</p>
<pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token keyword module keyword-import">import</span> <span class="token imports">jwt</span> <span class="token keyword module keyword-from">from</span> <span class="token string">&apos;jsonwebtoken&apos;</span><span class="token punctuation">;</span>
<span class="token keyword module keyword-import">import</span> <span class="token punctuation">{</span> <span class="token known-class-name class-name">UnAuthenticatedError</span> <span class="token punctuation">}</span> <span class="token keyword module keyword-from">from</span> <span class="token string">&apos;../errors/index.js&apos;</span><span class="token punctuation">;</span>

<span class="token known-class-name class-name">UnAuthenticatedError</span><span class="token punctuation">;</span>
<span class="token keyword keyword-const">const</span> <span class="token function-variable function">auth</span> <span class="token operator">=</span> <span class="token keyword keyword-async">async</span> <span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res<span class="token punctuation">,</span> next</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword keyword-const">const</span> authHeader <span class="token operator">=</span> req<span class="token punctuation">.</span><span class="token property-access">headers</span><span class="token punctuation">.</span><span class="token property-access">authorization</span><span class="token punctuation">;</span>
  <span class="token keyword control-flow keyword-if">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>authHeader <span class="token operator">||</span> <span class="token operator">!</span>authHeader<span class="token punctuation">.</span><span class="token method function property-access">startsWith</span><span class="token punctuation">(</span><span class="token string">&apos;Bearer&apos;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword control-flow keyword-throw">throw</span> <span class="token keyword keyword-new">new</span> <span class="token class-name">UnAuthenticatedError</span><span class="token punctuation">(</span><span class="token string">&apos;Authentication Invalid&apos;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword keyword-const">const</span> token <span class="token operator">=</span> authHeader<span class="token punctuation">.</span><span class="token method function property-access">split</span><span class="token punctuation">(</span><span class="token string">&apos; &apos;</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token keyword control-flow keyword-try">try</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-const">const</span> payload <span class="token operator">=</span> jwt<span class="token punctuation">.</span><span class="token method function property-access">verify</span><span class="token punctuation">(</span>token<span class="token punctuation">,</span> process<span class="token punctuation">.</span><span class="token property-access">env</span><span class="token punctuation">.</span><span class="token constant">JWT_SECRET</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// TEST USER</span>
    <span class="token keyword keyword-const">const</span> testUser <span class="token operator">=</span> payload<span class="token punctuation">.</span><span class="token property-access">userId</span> <span class="token operator">===</span> <span class="token string">&apos;testUserID&apos;</span><span class="token punctuation">;</span>
    req<span class="token punctuation">.</span><span class="token property-access">user</span> <span class="token operator">=</span> <span class="token punctuation">{</span> userId<span class="token operator">:</span> payload<span class="token punctuation">.</span><span class="token property-access">userId</span><span class="token punctuation">,</span> testUser <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token comment">// TEST USER</span>
    <span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span> <span class="token keyword control-flow keyword-catch">catch</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword control-flow keyword-throw">throw</span> <span class="token keyword keyword-new">new</span> <span class="token class-name">UnAuthenticatedError</span><span class="token punctuation">(</span><span class="token string">&apos;Authentication Invalid&apos;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword module keyword-export">export</span> <span class="token keyword module keyword-default">default</span> auth<span class="token punctuation">;</span>
</pre><p>middleware/testUser</p>
<pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token keyword module keyword-import">import</span> <span class="token punctuation">{</span> <span class="token known-class-name class-name">BadRequestError</span> <span class="token punctuation">}</span> <span class="token keyword module keyword-from">from</span> <span class="token string">&apos;../errors/index.js&apos;</span><span class="token punctuation">;</span>

<span class="token keyword keyword-const">const</span> <span class="token function-variable function">testUser</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res<span class="token punctuation">,</span> next</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword control-flow keyword-if">if</span> <span class="token punctuation">(</span>req<span class="token punctuation">.</span><span class="token property-access">user</span><span class="token punctuation">.</span><span class="token property-access">testUser</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword control-flow keyword-throw">throw</span> <span class="token keyword keyword-new">new</span> <span class="token class-name">BadRequestError</span><span class="token punctuation">(</span><span class="token string">&apos;Test User. Read Only!&apos;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword module keyword-export">export</span> <span class="token keyword module keyword-default">default</span> testUser<span class="token punctuation">;</span>
</pre><p>routes/jobsRoutes</p>
<pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token keyword module keyword-import">import</span> <span class="token imports">express</span> <span class="token keyword module keyword-from">from</span> <span class="token string">&apos;express&apos;</span><span class="token punctuation">;</span>
<span class="token keyword keyword-const">const</span> router <span class="token operator">=</span> express<span class="token punctuation">.</span><span class="token method function property-access"><span class="token maybe-class-name">Router</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword module keyword-import">import</span> <span class="token imports"><span class="token punctuation">{</span>
  createJob<span class="token punctuation">,</span>
  deleteJob<span class="token punctuation">,</span>
  getAllJobs<span class="token punctuation">,</span>
  updateJob<span class="token punctuation">,</span>
  showStats<span class="token punctuation">,</span>
<span class="token punctuation">}</span></span> <span class="token keyword module keyword-from">from</span> <span class="token string">&apos;../controllers/jobsController.js&apos;</span><span class="token punctuation">;</span>

<span class="token keyword module keyword-import">import</span> <span class="token imports">testUser</span> <span class="token keyword module keyword-from">from</span> <span class="token string">&apos;../middleware/testUser.js&apos;</span><span class="token punctuation">;</span>

router<span class="token punctuation">.</span><span class="token method function property-access">route</span><span class="token punctuation">(</span><span class="token string">&apos;/&apos;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">post</span><span class="token punctuation">(</span>testUser<span class="token punctuation">,</span> createJob<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">get</span><span class="token punctuation">(</span>getAllJobs<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// remember about :id</span>
router<span class="token punctuation">.</span><span class="token method function property-access">route</span><span class="token punctuation">(</span><span class="token string">&apos;/stats&apos;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">get</span><span class="token punctuation">(</span>showStats<span class="token punctuation">)</span><span class="token punctuation">;</span>
router<span class="token punctuation">.</span><span class="token method function property-access">route</span><span class="token punctuation">(</span><span class="token string">&apos;/:id&apos;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">delete</span><span class="token punctuation">(</span>testUser<span class="token punctuation">,</span> deleteJob<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">patch</span><span class="token punctuation">(</span>testUser<span class="token punctuation">,</span> updateJob<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword module keyword-export">export</span> <span class="token keyword module keyword-default">default</span> router<span class="token punctuation">;</span>
</pre><p>routes/authRoutes</p>
<pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token keyword module keyword-import">import</span> <span class="token imports">express</span> <span class="token keyword module keyword-from">from</span> <span class="token string">&apos;express&apos;</span><span class="token punctuation">;</span>
<span class="token keyword keyword-const">const</span> router <span class="token operator">=</span> express<span class="token punctuation">.</span><span class="token method function property-access"><span class="token maybe-class-name">Router</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword module keyword-import">import</span> <span class="token imports">rateLimiter</span> <span class="token keyword module keyword-from">from</span> <span class="token string">&apos;express-rate-limit&apos;</span><span class="token punctuation">;</span>
<span class="token keyword keyword-const">const</span> apiLimiter <span class="token operator">=</span> <span class="token function">rateLimiter</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  windowMs<span class="token operator">:</span> <span class="token number">15</span> <span class="token operator">*</span> <span class="token number">60</span> <span class="token operator">*</span> <span class="token number">1000</span><span class="token punctuation">,</span> <span class="token comment">// 15 minutes</span>
  max<span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span>
  message<span class="token operator">:</span> <span class="token string">&apos;Too many requests from this IP, please try again after 15 minutes&apos;</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword module keyword-import">import</span> <span class="token imports"><span class="token punctuation">{</span> register<span class="token punctuation">,</span> login<span class="token punctuation">,</span> updateUser <span class="token punctuation">}</span></span> <span class="token keyword module keyword-from">from</span> <span class="token string">&apos;../controllers/authController.js&apos;</span><span class="token punctuation">;</span>
<span class="token keyword module keyword-import">import</span> <span class="token imports">authenticateUser</span> <span class="token keyword module keyword-from">from</span> <span class="token string">&apos;../middleware/auth.js&apos;</span><span class="token punctuation">;</span>
<span class="token keyword module keyword-import">import</span> <span class="token imports">testUser</span> <span class="token keyword module keyword-from">from</span> <span class="token string">&apos;../middleware/testUser.js&apos;</span><span class="token punctuation">;</span>
router<span class="token punctuation">.</span><span class="token method function property-access">route</span><span class="token punctuation">(</span><span class="token string">&apos;/register&apos;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">post</span><span class="token punctuation">(</span>apiLimiter<span class="token punctuation">,</span> register<span class="token punctuation">)</span><span class="token punctuation">;</span>
router<span class="token punctuation">.</span><span class="token method function property-access">route</span><span class="token punctuation">(</span><span class="token string">&apos;/login&apos;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">post</span><span class="token punctuation">(</span>apiLimiter<span class="token punctuation">,</span> login<span class="token punctuation">)</span><span class="token punctuation">;</span>
router<span class="token punctuation">.</span><span class="token method function property-access">route</span><span class="token punctuation">(</span><span class="token string">&apos;/updateUser&apos;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">patch</span><span class="token punctuation">(</span>authenticateUser<span class="token punctuation">,</span> testUser<span class="token punctuation">,</span> updateUser<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword module keyword-export">export</span> <span class="token keyword module keyword-default">default</span> router<span class="token punctuation">;</span>
</pre><h4 class="mume-header" id="store-jwt-in-cookie">Store JWT in Cookie</h4>

<ul>
<li>BE PREPARED TO REFACTOR CODE !!!</li>
<li>PLEASE DON&apos;T RUSH THROUGH THESES VIDEOS</li>
<li>CHECK FEW TIMES BEFORE REMOVING/ADDING CODE</li>
</ul>
<h4 class="mume-header" id="attach-cookies-to-login-response">Attach Cookies to Login response</h4>

<p>controllers/authController.js</p>
<pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token comment">// login controller</span>

<span class="token keyword keyword-const">const</span> token <span class="token operator">=</span> user<span class="token punctuation">.</span><span class="token method function property-access">createJWT</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword keyword-const">const</span> oneDay <span class="token operator">=</span> <span class="token number">1000</span> <span class="token operator">*</span> <span class="token number">60</span> <span class="token operator">*</span> <span class="token number">60</span> <span class="token operator">*</span> <span class="token number">24</span><span class="token punctuation">;</span>

res<span class="token punctuation">.</span><span class="token method function property-access">cookie</span><span class="token punctuation">(</span><span class="token string">&apos;token&apos;</span><span class="token punctuation">,</span> token<span class="token punctuation">,</span> <span class="token punctuation">{</span>
  httpOnly<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  expires<span class="token operator">:</span> <span class="token keyword keyword-new">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token known-class-name class-name">Date</span><span class="token punctuation">.</span><span class="token method function property-access">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> oneDay<span class="token punctuation">)</span><span class="token punctuation">,</span>
  secure<span class="token operator">:</span> process<span class="token punctuation">.</span><span class="token property-access">env</span><span class="token punctuation">.</span><span class="token constant">NODE_ENV</span> <span class="token operator">===</span> <span class="token string">&apos;production&apos;</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</pre><h4 class="mume-header" id="setup-function-in-utils">Setup Function in Utils</h4>

<ul>
<li>create attachCookies.js</li>
</ul>
<pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token keyword keyword-const">const</span> <span class="token function-variable function">attachCookie</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> res<span class="token punctuation">,</span> token <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword keyword-const">const</span> oneDay <span class="token operator">=</span> <span class="token number">1000</span> <span class="token operator">*</span> <span class="token number">60</span> <span class="token operator">*</span> <span class="token number">60</span> <span class="token operator">*</span> <span class="token number">24</span><span class="token punctuation">;</span>

  res<span class="token punctuation">.</span><span class="token method function property-access">cookie</span><span class="token punctuation">(</span><span class="token string">&apos;token&apos;</span><span class="token punctuation">,</span> token<span class="token punctuation">,</span> <span class="token punctuation">{</span>
    httpOnly<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    expires<span class="token operator">:</span> <span class="token keyword keyword-new">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token known-class-name class-name">Date</span><span class="token punctuation">.</span><span class="token method function property-access">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> oneDay<span class="token punctuation">)</span><span class="token punctuation">,</span>
    secure<span class="token operator">:</span> process<span class="token punctuation">.</span><span class="token property-access">env</span><span class="token punctuation">.</span><span class="token constant">NODE_ENV</span> <span class="token operator">===</span> <span class="token string">&apos;production&apos;</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword module keyword-export">export</span> <span class="token keyword module keyword-default">default</span> attachCookie<span class="token punctuation">;</span>
</pre><ul>
<li>import in authController.js</li>
<li>invoke in register/login/updateUser</li>
</ul>
<pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token keyword module keyword-import">import</span> <span class="token imports">attachCookie</span> <span class="token keyword module keyword-from">from</span> <span class="token string">&apos;../utils/attachCookie.js&apos;</span><span class="token punctuation">;</span>

<span class="token function">attachCookie</span><span class="token punctuation">(</span><span class="token punctuation">{</span> res<span class="token punctuation">,</span> token <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</pre><h4 class="mume-header" id="parse-cookie-coming-back-from-the-front-end">Parse Cookie Coming Back from the Front-End</h4>

<ul>
<li>install cookie-parser (server)</li>
</ul>
<pre data-role="codeBlock" data-info="sh" class="language-bash"><span class="token function">npm</span> <span class="token function">install</span> cookie-parser
</pre><p>server.js</p>
<pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token keyword module keyword-import">import</span> <span class="token imports">cookieParser</span> <span class="token keyword module keyword-from">from</span> <span class="token string">&apos;cookie-parser&apos;</span><span class="token punctuation">;</span>

app<span class="token punctuation">.</span><span class="token method function property-access">use</span><span class="token punctuation">(</span>express<span class="token punctuation">.</span><span class="token method function property-access">json</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
app<span class="token punctuation">.</span><span class="token method function property-access">use</span><span class="token punctuation">(</span><span class="token function">cookieParser</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</pre><p>middleware/auth.js</p>
<pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token keyword keyword-const">const</span> <span class="token function-variable function">auth</span> <span class="token operator">=</span> <span class="token keyword keyword-async">async</span> <span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res<span class="token punctuation">,</span> next</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span>req<span class="token punctuation">.</span><span class="token property-access">cookies</span><span class="token punctuation">)</span>
  <span class="token spread operator">...</span><span class="token punctuation">.</span>
<span class="token punctuation">}</span>
</pre><h4 class="mume-header" id="refactor-auth-middleware">Refactor Auth Middleware</h4>

<p>middleware/auth.js</p>
<pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token keyword keyword-const">const</span> <span class="token function-variable function">auth</span> <span class="token operator">=</span> <span class="token keyword keyword-async">async</span> <span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res<span class="token punctuation">,</span> next</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword keyword-const">const</span> token <span class="token operator">=</span> req<span class="token punctuation">.</span><span class="token property-access">cookies</span><span class="token punctuation">.</span><span class="token property-access">token</span><span class="token punctuation">;</span>
  <span class="token keyword control-flow keyword-if">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>token<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword control-flow keyword-throw">throw</span> <span class="token keyword keyword-new">new</span> <span class="token class-name">UnAuthenticatedError</span><span class="token punctuation">(</span><span class="token string">&apos;Authentication Invalid&apos;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token comment">// rest of the code</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</pre><h4 class="mume-header" id="server---remove-token-from-json-response">SERVER - Remove Token from JSON Response</h4>

<p>controllers/authController</p>
<p>register/login/updateUser</p>
<pre data-role="codeBlock" data-info="js" class="language-javascript">res<span class="token punctuation">.</span><span class="token method function property-access">status</span><span class="token punctuation">(</span><span class="token maybe-class-name">StatusCodes</span><span class="token punctuation">.</span><span class="token constant">OK</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">json</span><span class="token punctuation">(</span><span class="token punctuation">{</span> user<span class="token punctuation">,</span> <span class="token dom variable">location</span><span class="token operator">:</span> user<span class="token punctuation">.</span><span class="token property-access">location</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</pre><ul>
<li>test the APP</li>
</ul>
<h4 class="mume-header" id="front-end-remove-token-from-context">FRONT-END Remove Token from CONTEXT</h4>

<ul>
<li>
<p>PLEASE BE CAREFUL WHEN MAKING THESE UPDATES<br>
client/context/appContext</p>
</li>
<li>
<p>remove</p>
</li>
</ul>
<pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token keyword keyword-const">const</span> token <span class="token operator">=</span> <span class="token dom variable">localStorage</span><span class="token punctuation">.</span><span class="token method function property-access">getItem</span><span class="token punctuation">(</span><span class="token string">&apos;token&apos;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword keyword-const">const</span> user <span class="token operator">=</span> <span class="token dom variable">localStorage</span><span class="token punctuation">.</span><span class="token method function property-access">getItem</span><span class="token punctuation">(</span><span class="token string">&apos;user&apos;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword keyword-const">const</span> userLocation <span class="token operator">=</span> <span class="token dom variable">localStorage</span><span class="token punctuation">.</span><span class="token method function property-access">getItem</span><span class="token punctuation">(</span><span class="token string">&apos;location&apos;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</pre><ul>
<li>fix initial state</li>
</ul>
<pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token keyword keyword-const">const</span> initialState <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">// remove token all together</span>
  user<span class="token operator">:</span> <span class="token keyword null nil keyword-null">null</span><span class="token punctuation">,</span>
  userLocation<span class="token operator">:</span> <span class="token string">&apos;&apos;</span><span class="token punctuation">,</span>
  jobLocation<span class="token operator">:</span> <span class="token string">&apos;&apos;</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</pre><ul>
<li>remove request interceptor</li>
</ul>
<pre data-role="codeBlock" data-info="js" class="language-javascript">authFetch<span class="token punctuation">.</span><span class="token property-access">interceptors</span><span class="token punctuation">.</span><span class="token property-access">request</span><span class="token punctuation">.</span><span class="token method function property-access">use</span><span class="token punctuation">(</span>
  <span class="token punctuation">(</span><span class="token parameter">config</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
    config<span class="token punctuation">.</span><span class="token property-access">headers</span><span class="token punctuation">.</span><span class="token property-access">common</span><span class="token punctuation">[</span><span class="token string">&apos;Authorization&apos;</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Bearer </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>state<span class="token punctuation">.</span><span class="token property-access">token</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
    <span class="token keyword control-flow keyword-return">return</span> config<span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">(</span><span class="token parameter">error</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword control-flow keyword-return">return</span> <span class="token known-class-name class-name">Promise</span><span class="token punctuation">.</span><span class="token method function property-access">reject</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</pre><ul>
<li>remove both addToLocalStorage and removeFromLocalStorage functions</li>
<li>remove from setupUser and updateUser (token and local storage functions)</li>
<li>remove from the reducer token (COMMAND + F)</li>
</ul>
<pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token keyword keyword-const">const</span> <span class="token function-variable function">logoutUser</span> <span class="token operator">=</span> <span class="token keyword keyword-async">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token punctuation">{</span> type<span class="token operator">:</span> <span class="token constant">LOGOUT_USER</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// remove local storage code</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</pre><h4 class="mume-header" id="test-expiration">Test Expiration</h4>

<pre data-role="codeBlock" data-info="js" class="language-javascript">expires<span class="token operator">:</span> <span class="token keyword keyword-new">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token known-class-name class-name">Date</span><span class="token punctuation">.</span><span class="token method function property-access">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">5000</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
</pre><h4 class="mume-header" id="get-current-user-route">GET Current User Route</h4>

<p>controllers/authController.js</p>
<pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token keyword keyword-const">const</span> <span class="token function-variable function">getCurrentUser</span> <span class="token operator">=</span> <span class="token keyword keyword-async">async</span> <span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword keyword-const">const</span> user <span class="token operator">=</span> <span class="token keyword control-flow keyword-await">await</span> <span class="token maybe-class-name">User</span><span class="token punctuation">.</span><span class="token method function property-access">findOne</span><span class="token punctuation">(</span><span class="token punctuation">{</span> _id<span class="token operator">:</span> req<span class="token punctuation">.</span><span class="token property-access">user</span><span class="token punctuation">.</span><span class="token property-access">userId</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  res<span class="token punctuation">.</span><span class="token method function property-access">status</span><span class="token punctuation">(</span><span class="token maybe-class-name">StatusCodes</span><span class="token punctuation">.</span><span class="token constant">OK</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">json</span><span class="token punctuation">(</span><span class="token punctuation">{</span> user<span class="token punctuation">,</span> <span class="token dom variable">location</span><span class="token operator">:</span> user<span class="token punctuation">.</span><span class="token property-access">location</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword module keyword-export">export</span> <span class="token exports"><span class="token punctuation">{</span> register<span class="token punctuation">,</span> login<span class="token punctuation">,</span> updateUser<span class="token punctuation">,</span> getCurrentUser <span class="token punctuation">}</span></span><span class="token punctuation">;</span>
</pre><p>routes/authRoutes.js</p>
<pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token keyword module keyword-import">import</span> <span class="token imports"><span class="token punctuation">{</span>
  register<span class="token punctuation">,</span>
  login<span class="token punctuation">,</span>
  updateUser<span class="token punctuation">,</span>
  getCurrentUser<span class="token punctuation">,</span>
<span class="token punctuation">}</span></span> <span class="token keyword module keyword-from">from</span> <span class="token string">&apos;../controllers/authController.js&apos;</span><span class="token punctuation">;</span>

router<span class="token punctuation">.</span><span class="token method function property-access">route</span><span class="token punctuation">(</span><span class="token string">&apos;/register&apos;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">post</span><span class="token punctuation">(</span>apiLimiter<span class="token punctuation">,</span> register<span class="token punctuation">)</span><span class="token punctuation">;</span>
router<span class="token punctuation">.</span><span class="token method function property-access">route</span><span class="token punctuation">(</span><span class="token string">&apos;/login&apos;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">post</span><span class="token punctuation">(</span>apiLimiter<span class="token punctuation">,</span> login<span class="token punctuation">)</span><span class="token punctuation">;</span>
router<span class="token punctuation">.</span><span class="token method function property-access">route</span><span class="token punctuation">(</span><span class="token string">&apos;/updateUser&apos;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">patch</span><span class="token punctuation">(</span>authenticateUser<span class="token punctuation">,</span> testUser<span class="token punctuation">,</span> updateUser<span class="token punctuation">)</span><span class="token punctuation">;</span>
router<span class="token punctuation">.</span><span class="token method function property-access">route</span><span class="token punctuation">(</span><span class="token string">&apos;/getCurrentUser&apos;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">get</span><span class="token punctuation">(</span>authenticateUser<span class="token punctuation">,</span> getCurrentUser<span class="token punctuation">)</span><span class="token punctuation">;</span>
</pre><h4 class="mume-header" id="get-current-user---front-end">GET Current User - Front-End</h4>

<p>actions.js</p>
<pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token keyword module keyword-export">export</span> <span class="token keyword keyword-const">const</span> <span class="token constant">GET_CURRENT_USER_BEGIN</span> <span class="token operator">=</span> <span class="token string">&apos;GET_CURRENT_USER_BEGIN&apos;</span><span class="token punctuation">;</span>
<span class="token keyword module keyword-export">export</span> <span class="token keyword keyword-const">const</span> <span class="token constant">GET_CURRENT_USER_SUCCESS</span> <span class="token operator">=</span> <span class="token string">&apos;GET_CURRENT_USER_SUCCESS&apos;</span><span class="token punctuation">;</span>
</pre><ul>
<li>setup imports (appContext and reducer)</li>
</ul>
<h4 class="mume-header" id="get-current-user-request">GET Current User Request</h4>

<ul>
<li>first set the state value (default TRUE !!!)<br>
appContext.js</li>
</ul>
<pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token keyword keyword-const">const</span> initialState <span class="token operator">=</span> <span class="token punctuation">{</span>
  userLoading<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword keyword-const">const</span> <span class="token function-variable function">getCurrentUser</span> <span class="token operator">=</span> <span class="token keyword keyword-async">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token punctuation">{</span> type<span class="token operator">:</span> <span class="token constant">GET_CURRENT_USER_BEGIN</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword control-flow keyword-try">try</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-const">const</span> <span class="token punctuation">{</span> data <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword control-flow keyword-await">await</span> <span class="token function">authFetch</span><span class="token punctuation">(</span><span class="token string">&apos;/auth/getCurrentUser&apos;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-const">const</span> <span class="token punctuation">{</span> user<span class="token punctuation">,</span> <span class="token dom variable">location</span> <span class="token punctuation">}</span> <span class="token operator">=</span> data<span class="token punctuation">;</span>

    <span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      type<span class="token operator">:</span> <span class="token constant">GET_CURRENT_USER_SUCCESS</span><span class="token punctuation">,</span>
      payload<span class="token operator">:</span> <span class="token punctuation">{</span> user<span class="token punctuation">,</span> <span class="token dom variable">location</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span> <span class="token keyword control-flow keyword-catch">catch</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword control-flow keyword-if">if</span> <span class="token punctuation">(</span>error<span class="token punctuation">.</span><span class="token property-access">response</span><span class="token punctuation">.</span><span class="token property-access">status</span> <span class="token operator">===</span> <span class="token number">401</span><span class="token punctuation">)</span> <span class="token keyword control-flow keyword-return">return</span><span class="token punctuation">;</span>
    <span class="token function">logoutUser</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token function">getCurrentUser</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</pre><p>reducer.js</p>
<pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token keyword control-flow keyword-if">if</span> <span class="token punctuation">(</span>action<span class="token punctuation">.</span><span class="token property-access">type</span> <span class="token operator">===</span> <span class="token constant">GET_CURRENT_USER_BEGIN</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword control-flow keyword-return">return</span> <span class="token punctuation">{</span> <span class="token spread operator">...</span>state<span class="token punctuation">,</span> userLoading<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> showAlert<span class="token operator">:</span> <span class="token boolean">false</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword control-flow keyword-if">if</span> <span class="token punctuation">(</span>action<span class="token punctuation">.</span><span class="token property-access">type</span> <span class="token operator">===</span> <span class="token constant">GET_CURRENT_USER_SUCCESS</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword control-flow keyword-return">return</span> <span class="token punctuation">{</span>
    <span class="token spread operator">...</span>state<span class="token punctuation">,</span>
    userLoading<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    user<span class="token operator">:</span> action<span class="token punctuation">.</span><span class="token property-access">payload</span><span class="token punctuation">.</span><span class="token property-access">user</span><span class="token punctuation">,</span>
    userLocation<span class="token operator">:</span> action<span class="token punctuation">.</span><span class="token property-access">payload</span><span class="token punctuation">.</span><span class="token property-access">location</span><span class="token punctuation">,</span>
    jobLocation<span class="token operator">:</span> action<span class="token punctuation">.</span><span class="token property-access">payload</span><span class="token punctuation">.</span><span class="token property-access">location</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</pre><pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token keyword control-flow keyword-if">if</span> <span class="token punctuation">(</span>action<span class="token punctuation">.</span><span class="token property-access">type</span> <span class="token operator">===</span> <span class="token constant">LOGOUT_USER</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword control-flow keyword-return">return</span> <span class="token punctuation">{</span>
    <span class="token spread operator">...</span>initialState<span class="token punctuation">,</span>
    userLoading<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</pre><h4 class="mume-header" id="protected-route-fix">Protected Route FIX</h4>

<pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token keyword module keyword-import">import</span> <span class="token imports"><span class="token maybe-class-name">Loading</span></span> <span class="token keyword module keyword-from">from</span> <span class="token string">&apos;../components/Loading&apos;</span><span class="token punctuation">;</span>

<span class="token keyword keyword-const">const</span> <span class="token function-variable function"><span class="token maybe-class-name">ProtectedRoute</span></span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> children <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword keyword-const">const</span> <span class="token punctuation">{</span> user<span class="token punctuation">,</span> userLoading <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">useAppContext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword control-flow keyword-if">if</span> <span class="token punctuation">(</span>userLoading<span class="token punctuation">)</span> <span class="token keyword control-flow keyword-return">return</span> <span class="token operator">&lt;</span><span class="token maybe-class-name">Loading</span> <span class="token operator">/</span><span class="token operator">&gt;</span><span class="token punctuation">;</span>

  <span class="token keyword control-flow keyword-if">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>user<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword control-flow keyword-return">return</span> <span class="token operator">&lt;</span><span class="token maybe-class-name">Navigate</span> to<span class="token operator">=</span><span class="token string">&apos;/landing&apos;</span> <span class="token operator">/</span><span class="token operator">&gt;</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword control-flow keyword-return">return</span> children<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword module keyword-export">export</span> <span class="token keyword module keyword-default">default</span> <span class="token maybe-class-name">ProtectedRoute</span><span class="token punctuation">;</span>
</pre><h4 class="mume-header" id="landing-page-2">Landing Page</h4>

<pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token keyword module keyword-import">import</span> <span class="token imports"><span class="token punctuation">{</span> <span class="token maybe-class-name">Navigate</span> <span class="token punctuation">}</span></span> <span class="token keyword module keyword-from">from</span> <span class="token string">&apos;react-router-dom&apos;</span><span class="token punctuation">;</span>
<span class="token keyword module keyword-import">import</span> <span class="token imports"><span class="token punctuation">{</span> useAppContext <span class="token punctuation">}</span></span> <span class="token keyword module keyword-from">from</span> <span class="token string">&apos;../context/appContext&apos;</span><span class="token punctuation">;</span>

<span class="token keyword keyword-const">const</span> <span class="token function-variable function"><span class="token maybe-class-name">Landing</span></span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword keyword-const">const</span> <span class="token punctuation">{</span> user <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">useAppContext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword control-flow keyword-return">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span><span class="token maybe-class-name">React</span><span class="token punctuation">.</span><span class="token property-access"><span class="token maybe-class-name">Fragment</span></span><span class="token operator">&gt;</span>
      <span class="token punctuation">{</span>user <span class="token operator">&amp;&amp;</span> <span class="token operator">&lt;</span><span class="token maybe-class-name">Navigate</span> to<span class="token operator">=</span><span class="token string">&apos;/&apos;</span> <span class="token operator">/</span><span class="token operator">&gt;</span><span class="token punctuation">}</span>
      <span class="token operator">&lt;</span><span class="token maybe-class-name">Wrapper</span><span class="token operator">&gt;</span><span class="token comment">// rest of the code..........&lt;/Wrapper&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span><span class="token maybe-class-name">React</span><span class="token punctuation">.</span><span class="token property-access"><span class="token maybe-class-name">Fragment</span></span><span class="token operator">&gt;</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword module keyword-export">export</span> <span class="token keyword module keyword-default">default</span> <span class="token maybe-class-name">Landing</span><span class="token punctuation">;</span>
</pre><h4 class="mume-header" id="logout-route">Logout Route</h4>

<p>controllers/authController</p>
<pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token keyword keyword-const">const</span> <span class="token function-variable function">logout</span> <span class="token operator">=</span> <span class="token keyword keyword-async">async</span> <span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
  res<span class="token punctuation">.</span><span class="token method function property-access">cookie</span><span class="token punctuation">(</span><span class="token string">&apos;token&apos;</span><span class="token punctuation">,</span> <span class="token string">&apos;logout&apos;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    httpOnly<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    expires<span class="token operator">:</span> <span class="token keyword keyword-new">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token known-class-name class-name">Date</span><span class="token punctuation">.</span><span class="token method function property-access">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  res<span class="token punctuation">.</span><span class="token method function property-access">status</span><span class="token punctuation">(</span><span class="token maybe-class-name">StatusCodes</span><span class="token punctuation">.</span><span class="token constant">OK</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">json</span><span class="token punctuation">(</span><span class="token punctuation">{</span> msg<span class="token operator">:</span> <span class="token string">&apos;user logged out!&apos;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</pre><p>routes/authRoutes</p>
<pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token keyword module keyword-import">import</span> <span class="token imports"><span class="token punctuation">{</span>
  register<span class="token punctuation">,</span>
  login<span class="token punctuation">,</span>
  updateUser<span class="token punctuation">,</span>
  getCurrentUser<span class="token punctuation">,</span>
  logout<span class="token punctuation">,</span>
<span class="token punctuation">}</span></span> <span class="token keyword module keyword-from">from</span> <span class="token string">&apos;../controllers/authController.js&apos;</span><span class="token punctuation">;</span>

router<span class="token punctuation">.</span><span class="token method function property-access">route</span><span class="token punctuation">(</span><span class="token string">&apos;/register&apos;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">post</span><span class="token punctuation">(</span>apiLimiter<span class="token punctuation">,</span> register<span class="token punctuation">)</span><span class="token punctuation">;</span>
router<span class="token punctuation">.</span><span class="token method function property-access">route</span><span class="token punctuation">(</span><span class="token string">&apos;/login&apos;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">post</span><span class="token punctuation">(</span>apiLimiter<span class="token punctuation">,</span> login<span class="token punctuation">)</span><span class="token punctuation">;</span>
router<span class="token punctuation">.</span><span class="token method function property-access">get</span><span class="token punctuation">(</span><span class="token string">&apos;/logout&apos;</span><span class="token punctuation">,</span> logout<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// rest of the code ....</span>
</pre><h4 class="mume-header" id="logout---front-end">Logout - Front-End</h4>

<p>appContext.js</p>
<pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token keyword keyword-const">const</span> <span class="token function-variable function">logoutUser</span> <span class="token operator">=</span> <span class="token keyword keyword-async">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword control-flow keyword-await">await</span> authFetch<span class="token punctuation">.</span><span class="token method function property-access">get</span><span class="token punctuation">(</span><span class="token string">&apos;/auth/logout&apos;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token punctuation">{</span> type<span class="token operator">:</span> <span class="token constant">LOGOUT_USER</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</pre><h4 class="mume-header" id="prepare-for-deployment">Prepare for Deployment</h4>

<ul>
<li>in client remove build and node_modules</li>
<li>in server remove node_modules</li>
</ul>
<p>package.json</p>
<pre data-role="codeBlock" data-info="json" class="language-json"><span class="token property">&quot;scripts&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
  <span class="token property">&quot;setup-production&quot;</span><span class="token operator">:</span><span class="token string">&quot;npm run install-client &amp;&amp; npm run build-client &amp;&amp; npm install&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;install-client&quot;</span><span class="token operator">:</span><span class="token string">&quot;cd client &amp;&amp; npm install&quot;</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>



</pre><ul>
<li>node server</li>
<li>APP NEEDS TO WORK LOCALLY !!!</li>
</ul>
<h4 class="mume-header" id="github-repo">Github Repo</h4>

<ul>
<li>create new repo</li>
<li>remove all existing repos (CHECK CLIENT !!!)</li>
<li>in the root</li>
<li>git init</li>
<li>git add .</li>
<li>git commit -m &quot;first commit&quot;</li>
<li>push up to Github</li>
</ul>

      </div>
      
      
    
    
    
    
    
    
    
    
  
    </body></html>